% !TEX root = ../foundations.tex

\section{Products of geometric chains and cochains}\label{S: products}

In this section we consider products of geometric chains and cochains, first simply as chains and cochains and then as pairings on homology and cohomology.
These pairings are all built from the fiber products and exterior products of maps as defined in \cref{S: orientations and co-orientations}.
However, while the exterior products were fully defined, the fiber products required transversality of $f \colon V \to M$ and $g \colon W \to M$ in order for $V \times_M W$ to be a well-defined manifold with corners possessing an oriented or co-oriented map to $M$.
Consequently, the fiber products do not induce fully-defined chain- and cochain-level products such as a pairing $C^*_\Gamma(M) \otimes C^*_\Gamma(M) \to C^*_\Gamma(M)$.
At best we can hope for a partially-defined (co)chain-level pairing, though even this is not clear once we take into account that a geometric chain or cochain is not represented simply by a single isomorphism class of a map $V \to M$ but is rather an equivalence class of such mappings up to triviality and degeneracy.

In \cref{S: chain products}, we address this issue and show that there is a natural notion of transversality among chains and cochains, despite the ambiguity in the representative prechains and precochains.
We use this to provide partially-defined cup, cap, and intersection pairings among geometric chains and cochains.
We consider it important to have such pairings, even when only partially defined, as cochain algebras contain much information that is lost on passage to cohomology.
For example, the singular cochains of a space are what carry the $E_\infty$-algebra structure, while passage to cohomology often contains just shadows of this structure, such as the Steenrod squares.
We also provide fully-defined chain and cochain exterior products, though these give us less trouble.
In \cref{S: (co)chain properties}, we collect the various properties of these partially-defined products, mostly based on properties we have established for fiber products of maps in earlier sections.

In \cref{S: homology products}, we then turn to the resulting products in geometric homology and cohomology, which we show are fully defined, providing cup, cap, intersection, and exterior products.
We also utilize this machinery along with our cubulations to construct a universal coefficient theorem when the cohomology is finitely generated.
In \cref{S: usual cup}, we show that the cup product in geometric cohomology is isomorphic to the singular cohomology cup product.

\begin{comment}
	in this section endow geometric cochains with a commutative product given by intersection of immersed submanifolds, or pullback more generally.
	This product is partially defined, as it must be if it is to be commutative and induce the cup product in cohomology.
	The interplay between intersection and cup product dates back to the beginning of the subject, giving the latter product its name.
	But, to our knowledge, we are the first to construct a cochain level comparison between these approaches.
	Somewhat surprisingly, the construction ends up being delicate since our cochains are themselves equivalence classes in a
	highly non-trivial way.

	\red{D: Should say that Joyce gives a cochain level product for his theory but to our knowledge this is the first for the Lipyanksiy theory.}

	BCOMMENT
	While Joyce carefully develops transversality for manifolds with corners in Section 6 of \cite{Joy12}, we only requires transversality for maps into a manifold without corners or boundary.
	In this case the definition is equivalent to transversality when restricted to each $S^k$.
	If $V$ and $W$ are manifolds over $M$,
	we use the notation $V \pf W$ to denote
	transversality of maps $r_V$ and $r_W$.

	When $W$ and $V$ are embedded, pullback is intersection, and the normal bundle of the intersection is canonically (once an ordering of $W$
	and $V$ is fixed) the direct sum of the normal bundles.

	The following is essentially the content of Section~5 of \cite{Lipy14}.

	\begin{proposition}\label{P: product}
		The pullback product $\uplus_M$ extends linearly to a well-defined, though only partially-defined, product on $C_\Gamma^*(M)$, which in turn passes to a fully-defined product on $H_\Gamma^*(M)$.
	\end{proposition}

	\begin{proof}
		To show that $\uplus_M$ is well-defined, we check that if $f = 0$ in $C_\Gamma^*(M)$, so is $f \uplus_M g$ for any $g \colon V \to M$.
		If $f$ is trivial, the co-orientation-reversing involution on $W$ defines one on $W \times V$ which restricts to the pullback.
		Recall that the tangent bundle of the pullback is the pullback of tangent bundles, and the derivative is the pullback of derivatives, so, if the differential of $f$ has non-trivial kernel everywhere so will the derivative of any pullback with $f$.

		That the pullback product passes to cohomology follows from the Leibniz rule for pullbacks, which in turn follows from that for the product $W \times V$.
		We defer the proof that this product on cohomology is fully defined until after the proof of Theorem~\ref{T: transverse complex} below.
	\end{proof}
	ECOMMENT

	Recall that if $r_W \colon W \to M$ is an immersion, then a co-orientation is equivalent to an orientation of the normal bundle of $W$.
	Explicitly in coordinates of a tangent space, if $n_1 \wedge \cdots \wedge n_w$ is an orientation of the normal bundle, the
	corresponding co-orientation sends $b_1 \wedge \cdots \wedge b_{m-w}$ to $b_1 \wedge \cdots \wedge b_{m-w} \wedge n_1 \wedge \cdots \wedge n_w$.

	\begin{proposition}
		If $r_V$ and $r_W$ are immersions which are co-oriented through orientations of $\nu_{V \subset M}$ and $\nu_{W \subset M}$
		then the co-orientation of the pullback agrees with the co-orientation through the identification of the normal bundle of the pullback with
		$\nu_{V \subset M} \oplus \nu_{W \subset M}$
	\end{proposition}

	\begin{proof}
		For once, we find dimensions better to track than codimensions.
		At a point in the pullback there are neighborhoods in $V$, $W$ and $M$
		so that the manifolds themselves, and thus their tangent spaces, are arranged as follows.
		The neighborhood of $M$ is diffeomorphic to $\R^m$,
		spanned by $e_1, \cdots, e_m$; under this identification, the neighborhood of $V$ is the subspace given by the
		span of $e_1, \cdots, e_v$ and that of $W$ is the span of $e_{m-w+1}, \cdots, e_m$.
		In these coordinates the pullback is just $P = V \cap W$, which is the span of $e_{m-w+1}, \cdots, e_v$.
		Our preferred orientations of spans of standard basis
		vectors - which is what $V$, $W$ their intersection and all normal bundles are - are the class in which those basis vectors occur in order.

		The normal co-orientation of $V$ sends the preferred orientation $e_1 \wedge \cdots \wedge e_v$ to
		$e_1 \wedge \cdots \wedge e_v \wedge e_{v+1} \wedge \cdots \wedge e_m$, which is the preferred orientation of $M$.
		The normal co-orientation of $W$ sends $e_{m-w+1} \wedge \cdots \wedge e_m$ to $e_{m-w+1} \wedge \cdots \wedge e_m \wedge e_1 \wedge
		\cdots \wedge e_w$, which is $(-1)^{w(m-w)}$ times the preferred orientation of $M$.
		The normal co-orientation of $P = V \cap W$ sends $e_{m-w+1} \wedge \cdots \wedge e_{v}$ to
		$$ e_{m-w+1} \wedge \cdots \wedge e_{v} \wedge e_{v+1} \wedge \cdots \wedge e_m \wedge e_1 \wedge \cdots \wedge e_{m-w},$$
		thus sending the preferred orientation of $P$ to $(-1)^{v(m-v)}$ times the preferred orientation of $M$.

		We now must wade through our definition of co-orientation of the pullback and in particular Equation~\ref{co-or stuff}.
		Since we must consider $P \subset V \times W$, we
		alter notation to distinguish basis vectors in $V$ by calling them $e_i^V$ and similarly for $W$.
		Then the tangent vectors for $P$ in $V \times W$
		are naturally ``diagonal'', with a basis $e_{m-w+1}^V \oplus e_{m-w+1}^W, \cdots, e_v^V \oplus e_v^W$.
		For $M \times M$, we set
		the basis $e_1, \cdots, e_m, e_1', \cdots, e_m'$.

		We choose
		a convenient set of isomorphisms for Equation~\ref{co-or stuff}, in particular identifications of normal bundles as well as
		``breaking up'' tensor products to minimize additional signs.
		Namely, identify $ \Or TP \otimes \Or(\nu_{P \subset V \times W})$ with $ \Or T \times V \cong \Or T V \otimes \Or TW $ by sending
		$e_{m-w+1}^V \oplus e_{m-w+1}^W, \cdots, e_v^V \oplus e_v^W$ to
		$$ (e_1^V \wedge \cdots \wedge e_v^V) \wedge (e_{m-w+1}^V \oplus e_{m-w+1}^W \wedge \cdots \wedge e_v^V \oplus e_v^W) \wedge
		(e_{v+1}^W \wedge \cdots \wedge e_m^W).$$
		Here we use additional parenthesis so that one can see that an orientations using normal vectors is appended with parts coming
		both before and after the orientation
		in question.
		With this choice, which must followed below as well, the standard orientation of $P$ is sent to the standard orientation of $V \times W$.

		Applying the normal co-orientations of $V$ and $W$ as calculated above to the standard orientation of $V \times W$ will yield
		$(-1)^{w(m-w)}$ times the standard orientation of $M \times M$.
		Consulting the diagram of Equation~\ref{co-or stuff} we ask
		which orientation of $M$ corresponds with this under the identification of $\Or TM \otimes \Or( \nu_{P \subset V \times W})$
		with $ \Or T M \otimes \Or TM$ which is compatible with our identification
		$ \Or TP \otimes \Or(\nu_{P \subset V \times W})$ with $ \Or T \times V \cong \Or T V \otimes \Or TW $.
		That identification sends $e_1 \oplus e_1' \wedge \cdots \wedge e_m \oplus e_m'$ to
		$$ (e_1 \wedge \cdots \wedge e_v) \wedge (e_1 \oplus e_1' \wedge \cdots \wedge e_m \oplus e_m') \wedge (e_{v+1}' \wedge \cdots \wedge e_m').$$
		This expression differs from the standard orientation of $M \times M$ by a sign of $v(m-v)$, as we must move
		$e_{v+1} \oplus e_{v+1}' \wedge \cdots \wedge e_m \oplus e_m'$ past $(e_{1} \oplus e_{1}' \wedge \cdots \wedge e_v \oplus e_v')$ in order
		to obtain something equivalent to the standard orientation.

		\red{D: Help - in looking this over I think we have an extra $(-1)^{w(m-w)}$ coming from the application of the co-orientation of $W$.
			So I wrote the argument
			with that, but now we do not have agreement in the end...}

	\end{proof}

\end{comment}



\subsection{Chain- and cochain-level products and transversality}\label{S: chain products}

In this section, we develop chain- and cochain-level products, as well as study some other aspects of chain- and cochain-level transversality.
We begin in \cref{S: simple products} with the case of ``simple products,'' in which two chains or cochains can be represented by transverse prechains or precochains, in which case we can take the fiber product.
Building on this case, we then define a more general notion of transversality for chains and cochains that allows for some amount of bilinear behavior.
In \cref{S: product pullbacks}, we consider pullbacks of cochains, and in \cref{S: Kronecker} we obtain a Kronecker pairing for geometric chains and cochains.
Finally, in \cref{S: exterior chain products}, we define exterior products of chains and cochains.


\subsubsection{Transversality and products}\label{S: simple products}
In this section we define a notion of transversality of geometric chains and cochains, which allows us to define (co)chain-level cup, cap, and intersection products.

We begin in \cref{D: cochain trans} with the naive case in which our (co)chains possess transverse representing pre(co)chains.
We call such (co)chains \textbf{simply transverse} (see \cref{D: cochain trans}), and this is sufficient to define cup, cap, and intersection products via fiber products.
However, as we will discuss below, this definition is insufficient to obtain a product that behaves bilinearly.
To obtain this property, we introduce the more general concept of compound transversality in \cref{D: multicup}.
This allows for bilinear behavior of products of simply transverse (co)chains, although compound transversality itself does not seem to provide a satisfactory bilinear product.
The key problem has to do with demonstrating the existence of products that are independent of choices of representing pre(co)chains.
We will discuss the difficulties further after establishing some definitions and results.

\begin{comment}
	For example, one might consider the case where $\uV$ and $\uW$ can be represented by disjoint unions of pre(co)chains $V = \bigsqcup V_i$ and $W = \bigsqcup W_j$ such that the pairs $(V_i,W_j)$ are not necessarily transverse but such that for each such pair there are alternative representatives, say $(V'_{ij},W'_{ji})$, depending on both $i$ and $j$, with $\underline{V_i} = \underline{V'_{ij}}$, $\underline{W_j} = \underline{W'_{ji}}$, and $V'_{ij}$ transverse to $W'_{ji}$.
	Then one would like to have products of $\uV$ and $\uW$ using these representatives.
\end{comment}


We begin with simple transversality.

\begin{definition}\label{D: cochain trans}
	Let $M$ be a manifold without boundary.
	We say that $\uV, \uW \in C^*_{\Gamma}(M)$ are \textbf{simply transverse} as geometric cochains if there exist representatives $V,W \in PC^*_\Gamma(M)$ such that $V$ and $W$ are transverse as manifolds with corners mapping to $M$.
	We call the data of such a pair $(V,W)$ a \textbf{simple transverse representation} for the pair $(\uV,\uW)$.

	We define simple transversality similarly if $\uV \in C^*_{\Gamma}(M)$ and $\uW \in C_*^{\Gamma}(M)$ or if $M$ is oriented and $\uV, \uW \in C_*^{\Gamma}(M)$.
\end{definition}

\begin{definition}\label{D: cochain products}
	Let $M$ be a manifold without boundary.
	For $\uV, \uW \in C^*_{\Gamma}(M)$ simply transverse, we define the \textbf{cup product} $\uV \uplus \uW \in C^*_\Gamma(M)$ to be the geometric cochain represented by the fiber product $V \times_M W$ for some simple transverse representation $(V,W)$ of $(\uV,\uW)$.

	Analogously, if $\uV \in C^*_{\Gamma}(M)$ and $\uW \in C_*^{\Gamma}(M)$ are simply transverse, we define the \textbf{cap product} $\uV \nplus \uW \in C_*^\Gamma(M)$ by $V \times_M W$ for some simple transverse representation $(V,W)$.

	If $M$ is oriented and $\uV,\uW \in C_*^\Gamma(M)$ are simply transverse, we define the \textbf{intersection product} $\uV \bullet \uW \in C_*^\Gamma(M)$ by $V \times_M W$ for some simple transverse representation $(V,W)$.

	In each context, the given product $V \times_M W$ is as defined in \cref{D: PC products}, as $V$ and $W$ are transverse by assumption.
\end{definition}

\begin{comment}
	It will follow from \cref{T: multicup}, below, that these products are well defined, independent of the choices of representing chains and cochains.
	This is not immediately clear, as a geometric (co)chain $\uV$ has in general an infinite number of representatives in $PC(M)$ that may or may not be transverse to any other given element of $PC(M)$; see \cref{E: bad transversality}.
	Rather than stop to prove well-definedness in the simple transversality case, we proceed toward our more general definition of transversality.
\end{comment}

The first main result of this section is that these products are well defined as operations on simply transverse geometric chains or cochains, independent of the prechain or precochain representatives chosen.
This is not immediately clear, as a geometric (co)chain $\uV$ has in general an infinite number of representatives in $PC(M)$ that may or may not be transverse to any other given element of $PC(M)$; see \cref{E: bad transversality}.

\begin{theorem}\label{T: cochain product}
	Given simply transverse $\uV$ and $\uW$, the cup, cap, or intersection products of \cref{D: cochain products} are well defined, independent of choice of simple transverse representation.
\end{theorem}


Rather than prove this theorem here, we first provide some further discussion and development.
\cref{T: cochain product} will then follow directly as a special case of \cref{T: multicup}, below.

\begin{comment}

	\begin{proof}
		For simplicity, we just give the proof for $\uplus$; the other arguments are identical.
		We also write $V+W$ and $V-W$ rather than $V \sqcup W$ and $V\sqcup-W$ to make the following easier to read.

		Let $\uV,\uW$ be simply transverse geometric cochains with simple transverse representation $(V, W)$ as in \cref{D: cochain trans}.
		Similarly, let $(V',W')$ be another simple transverse representation.
		By assumption, $V-V', W-W' \in Q^*(M)$.
		For each of these precochains, we have their essential decompositions $V = V_E \sqcup V_{TI} \sqcup V_{NI}$, etc.

		We must show that $V \times_M W$ and $V' \times_M W'$ represent the same element of $C^*_\Gamma(M)$, i.e.\ that
		$$[(V_E+V_{TI}+V_{NI}) \times_M (W_E+W_{TI}+W_{NI})] - [(V'_E+V'_{TI}+V'_{NI}) \times_M (W'_E+W'_{TI}+W'_{NI})]$$
		is in $Q^*(M)$.
		Writing out, we have
		\begin{align*}(V_E+V_{TI}+V_{NI}) \times_M (W_E+W_{TI}+W_{NI}) = &V_E \times_M W_E+V_E \times_M W_{NI}+V_{NI} \times_M W_E+V_{NI} \times_M W_{NI}\\
			&+V_{TI} \times_M (W_E+W_{TI}+W_{NI})+(V_E+V_{NI}) \times_M W_{TI}.
		\end{align*}
		As $V_{TI},W_{TI} \in Q^*(M)$, the terms on the second line are all in $Q^*(M)$ by \cref{L: pullback with Q}.
		A similar decomposition holds for the primed versions, so we must show that
		\begin{equation}\label{E: intersect}
			(V_E \times_M W_E+V_E \times_M W_{NI}+V_{NI} \times_M W_E+V_{NI} \times_M W_{NI})-(V'_E \times_M W'_E+V'_E \times_M W'_{NI}+V'_{NI} \times_M W'_E+V'_{NI} \times_M W'_{NI})
		\end{equation}
		is in $Q^*(M)$.

		From \cref{C: essential trans} we know that if $V_E$ is transverse to $W$, and in particular $W_E$, then so is $V'_E$, and so we can form $V'_E \times_M W$.
		Thus, taking the union of $V_E \times_M W_E -V'_E \times_M W'_E$ with the trivial precochain $-V'_E \times_M W_E+V'_E \times_M W_E$, we have
		\begin{equation*}
			V_E \times_M W_E-V'_E \times_M W_E+V'_E \times_M W_E-V'_E \times_M W'_E = (V_E-V'_E) \times_M W_E+V' \times_M (W_E-W'_E).
		\end{equation*}
		By \cref{L: essential}, $V_E-V'_E$ and $W_E-W'_E$ are trivial, and the transverse intersection of any cochain with a trivial cochain is in $Q^*(M)$ by \cref{L: pullback with Q}.
		Thus $V_E \times_M W_E -V'_E \times_M W'_E \in Q^*(M)$ by \cref{L: Lipy12} (which says that if we take the disjoint union of a precochain with an element of $Q^*(M)$ and obtain an element of $Q^*(M)$ then our original precochain is in $Q^*(M)$).

		The remaining terms of \eqref{E: intersect} each involve an element of small rank and so are of small rank by \cref{L: pullback with Q}.
		So to see that what's left is an element of $Q^*(M)$, it suffices to show that the boundary of the remaining terms consists of cochains that are trivial or of small rank.
		By \cref{leibniz}, this boundary is
		\begin{multline}\label{E: boundary}
			(\bd V_E) \times_M W_{NI}+(-1)^{m-v}V_E \times_M \bd W_{NI}+
			(\bd V_{NI}) \times_M W_E+(-1)^{m-v}V_{NI} \times_M \bd W_E\\
			+(\bd V_{NI}) \times_M W_{NI}+(-1)^{m-v}V_{NI} \times_M \bd W_{NI}
			-(\bd V'_E) \times_M W'_{NI}-(-1)^{m-v}V'_E \times_M \bd W'_{NI}\\
			-(\bd V'_{NI}) \times_M W'_E-(-1)^{m-v}V'_{NI} \times_M \bd W'_E- (\bd V'_{NI}) \times_M W'_{NI}-(-1)^{m-v}V'_{NI} \times_M \bd W'_{NI}.
		\end{multline}
		Every term except for the pairs $(-1)^{m-v}V_E \times_M \bd W_{NI}-(-1)^{m-v}V'_E \times_M \bd W'_{NI}$ and $(\bd V_{NI}) \times_M W_E-(\bd V'_{NI}) \times_M W'_E$ involves a fiber product with an element of small rank and so is of small rank by \cref{L: pullback with Q}.

		For $V_E \times_M \bd W_{NI}-V'_E \times_M \bd W'_{NI}$, we recall that the data of two maps being transverse includes the assumption of transversality on boundaries.
		So as in our argument employed above to show $V_E \times_M W_E -V'_E \times_M W'_E$ is trivial, we know that $V_E$ and $V'_E$ must each be transverse to both $\bd W_{NI}$ and $\bd W'_{NI}$ by \cref{C: essential trans}.
		So by an analogous computation we arrive at
		\begin{equation*}
			V_E \times_M \bd W_{NI}-V'_E \times_M \bd W'_{NI} + V'_E \times_M \bd W_{NI} - V'_E \times_M \bd W_{NI} = (V_E- V'_E) \times_M \bd W_{NI}+ V'_E \times_M (\bd W_{NI}-\bd W'_{NI}).
		\end{equation*}
		We then have that $V_E - V'_E$ is trivial by \cref{L: essential}, and $\bd W_{NI}-\bd W'_{NI}$ is in $Q^*(M)$ by \cref{L: same NI}.
		Thus these fiber products are in $Q^*(M)$ by \cref{L: pullback with Q}, and so $V_E \times_M \bd W_{NI}-V'_E \times_M \bd W'_{NI} \in Q^*(M)$ by \cref{L: Lipy12}.
		By an analogous argument $(\bd V_{NI}) \times_M W_E-(\bd V'_{NI}) \times_M W'_E \in Q^*(M)$.
		In particular, these can be written as disjoint unions of components that are trivial or of small rank.

		Therefore, the boundary \eqref{E: boundary} can be completely decomposed into cochains that are trivial or have small rank,
		and this completes our proof that $V \times_M W-V' \times_M W' \in Q^*(M)$.
	\end{proof}

\end{comment}

\begin{comment}
	\subsubsection{Chain and cochains transversality and products}\label{S: trans products}
\end{comment}

To motivate our next step, suppose now a geometric cochain $\uV$ is simply transverse to two other geometric cochains of the same degree, $\underline{W_1}$ and $\underline{W_2}$.
This means we can form $\uV\uplus \underline{W_1}+\uV\uplus \underline{W_2}$, and we would like for this to equal $\uV\uplus (\underline{W_1} + \underline{W_2})$.
The problem is that it is not apparent from the definitions whether or not $\uV$ is simply transverse to $\uW_1+\uW_2$, as the simple transversality of the pairs $(\uV,\underline{W_1})$ and $(\uV,\underline{W_2})$ might be realized by representatives $V_1,V_2, W_1,W_2 \in PC^*_\Gamma(M)$ with $\underline{V_1} = \underline{V_2}$ so that $V_1$ and $W_1$ are transverse as spaces mapping to $M$ and $V_2$ and $W_2$ are transverse as spaces mapping to $M$, but neither $V_1$ nor $V_2$ is transverse to $W_1 \sqcup W_2$.
It is also not apparent how to find a $V_3$ representing $\uV$ that is transverse to both $W_1$ and $W_2$.
The simplest solution would then seem to be to just define
$\uV\uplus (\underline{W_1}+\underline{W_2})$ to be represented by $(V_1 \times_M W_1) \sqcup (V_2 \times_M W_2)$, so long as this is well defined.
The next definition builds on this idea.

\begin{comment}
	To do so, however, we must make sure that such a construction is independent of the choices involved.
	This is what we turn to now.
	We first show in \cref{P: multicup} that the products can be made linear in one variable as just described, and then we use that to provide a more general multilinearlity in \cref{T: multicup}.


	\begin{proposition}\label{P: multicup}
		Suppose $\sum_i \underline{W_i} = \sum_j \underline{W'_j} \in C_\Gamma^a(M)$ and that all $\underline{W_i}$ and $\underline{W_j'}$ are simply transverse to $\uV \in C_\Gamma^b(M)$.
		Then $$\sum_i \uV \uplus \underline{W_i} = \sum_j \uV\uplus \underline{W'_j}.$$
		Analogous statements hold with the sum in the first factor and for the cap and intersection products.
	\end{proposition}

	\begin{proof}
		We provide the proof for the cup product, the other arguments being analogous.

		We suppose each $\underline{W_i}$ represented by $W_i \in PC^*_\Gamma(M)$, and similarly for each $\underline{W'_j}$.
		Let $V_i$ and $V_j'$ all be representatives of $\uV$ with $V_i$ transverse to $W_i$ and $V'_j$ transverse to $W'_j$.
		We must show that $\bigsqcup_i V_i \times_M W_i$ and $\bigsqcup_j V'_j \times_M W'_j$ represent the same cochain, i.e.\ that $$\left(\bigsqcup_i V_i \times_M W_i\right) \sqcup \left(-\bigsqcup_j V'_j \times_M W'_j\right) \in Q^*(M).$$
		As $\bigsqcup_i W_i$ and $\bigsqcup_j W'_j$ represent the same geometric cochain, we have $\left(\bigsqcup_i W_i\right) \sqcup - \left(\bigsqcup_j W'_j \right) \in Q^*(M)$, so it suffices to prove the following:
		If $\bigsqcup_k W_k \in Q^*(M)$, $V_k$ is transverse to $W_k$ for all $k$, and all $V_k$ represent the same geometric cochain, then $$\bigsqcup_k V_k \times_M W_k \in Q^*(M).$$

		For each $W_k$, we consider its essential decomposition $$W_k = W_{k,E} \sqcup W_{k,TI} \sqcup W_{k,NI}.$$
		As each $W_{k,TI} \in Q^*(M)$, we have each $V_k \times_M W_{k,TI} \in Q^*(M)$ by \cref{L: pullback with Q}.

		We next consider $\bigsqcup_k W_{k,E}$, which is trivial by \cref{L: Q essential}.
		By \cref{L: trivial structure}, each connected component, say $\mc W$, appearing in one of the $W_{k,E}$ either has a co-orientation-reversing automorphism or appears zero times in all of $\bigsqcup_k W_{k,E}$ when counting with sign.
		If $\mc W$ has a co-orientation-reversing automorphism, then $\mc W$ is trivial and $V_k \times \mc W$ is trivial for any $V_k$ transverse to $\mc W$ by \cref{L: pullback with Q}.
		Otherwise, for each occurrence of $\mc W$ in some $W_{k,E}$, there is an occurrence of $-\mc W$ in some $W_{\ell,E}$.
		By \cref{T: cochain product}, $V_k \times_M \mc W$ and $V_\ell \times_m \mc W$ represent the same cochain, so
		$$(V_k \times_M \mc W) \sqcup -(V_\ell \times_M \mc W) = (V_k \times_M \mc W)\sqcup(V_\ell \times_M -\mc W) \in Q^*(M).$$
		Continuing this way with pairs of oppositely-co-oriented components of $\bigsqcup_k W_{k,E}$, and noting as in the proof of \cref{L: trivial structure} that each $\mc W$ occurs only a finite number of times, we see that $\bigsqcup_k V_k \times_M W_{k,E} \in Q^*(M)$.

		It remains to show that $\bigsqcup_k V_k \times_M W_{k,NI} \in Q^*(M)$.
		By \cref{L: Q essential}, we have $\bigsqcup_k W_{k,NI} \in Q^*(M)$.
		By definition, we can write $\bigsqcup_k W_{k,NI} = W_{tr} \sqcup W_{d}$ as the disjoint union of a trivial precochain and a degenerate precochain.
		By the same procedure as just above, if $\mc W$ is a connected component of $W_{tr}$, then either it has a co-orientation-reversing automorphism or it appears zero times in all $W_{tr}$ counting with sign.
		So, again as above, either either $V_k \times_M \mc W \in Q^*(M)$ or we can have pairs $V_k$ and $V_\ell$ with $(V_k \times_M \mc W) \sqcup (V_\ell \times_M -\mc W) \in Q^*(M)$.
		So it remains to consider the terms involving $W_d$.

		Let $W_d = \bigsqcup_k Y_k$, where $Y_k$ consists of those components of $W_d$ contributed by $W_{k,NI}$.
		We consider $\bigsqcup_k V_k \times_M Y_k$.
		Each $Y_k$ has small rank, hence so does each $V_k \times_M Y_k$ by \cref{L: pullback with Q}.
		Therefore, $\bigsqcup_k (V_k \times_M Y_k)$ has small rank, and it suffices to show that $\bd (\bigsqcup_k V_k \times_M Y_k)$ is the union of a trivial precochain and one of small rank.
		By \cref{leibniz},
		$$\bd \left(\bigsqcup_k V_k \times_M Y_k\right) = \bigsqcup_k ((\bd V_k) \times_M Y_k ) \sqcup (-1)^{m-v} (V_k \times_M \bd Y_k).$$
		We note that these terms are defined as the transversality of $V_k$ and $Y_k$ includes transversality with the boundaries.
		As the $Y_k$ have small rank, each $(\bd V_k) \times_M Y_k$ has small rank by \cref{L: pullback with Q}.
		As $W_d = \bigsqcup_k Y_k$ is degenerate by definition, $\bd (\bigsqcup_k Y_k) = \bigsqcup_k \bd Y_k$ can be written as $\bigsqcup_k\bd Y_k = A_{tr} \sqcup A_{sm}$, with $A_{tr}$ trivial and $A_{sm}$ of small rank.
		But then if $\mc A$ is a component of $\bd Y_k$ in $A_{sm}$, we have $V_k \times \mc A$ of small rank, and for the connected components of $A_{tr}$ we can once again recognize that either $\mc A$ has a co-orientation-reversing automorphism or appears zero times in all of $A_{tr}$ counting with co-orientation.
		So again repeating our earlier argument either $V_k \times_M \mc A$ is trivial or we can find pairs of components $\mc A$ in $\bd Y_k$ and $-\mc A$ in $\bd Y_\ell$ (possibly with $k=\ell$) such that $(V_k \times_M \mc A) \sqcup (V_\ell \times_M -\mc A) \in Q^*(M)$.
		So in particular this expression is a union of a trivial precochain and one of small rank by definition of $Q^*(M)$.
		Continuing in this way through all connected components, all of $\bigsqcup_k(V_k \times_M \bd Y_k)$ can be partitioned into trivial precochains and precochains of small rank.
	\end{proof}

	We now generalize yet again to fully multilinear versions of the cup, cap, and intersection products.
	Again, this requires enough transversality for all fiber products to be defined, but now we allow cochain representatives in both the first and second factors to vary.
\end{comment}


\begin{definition}\label{D: multicup}
	Let $M$ be a manifold without boundary.
	Let $\uV, \uW \in C_\Gamma^*(M)$, and suppose $\uV$ and $\uW$ can be written as finite sums $\uV = \sum_i \underline{V_i} \in C_\Gamma^*(M)$ and $\uW = \sum_j \underline{W_j} \in C_\Gamma^*(M)$ such that each pair $(\underline{V_i},\underline{W_j})$ is simply transverse.
	Then we say that $\uV$ and $\uW$ are \textbf{compound transverse} and define the cup product $\uV\uplus\uW$ as $$\uV\uplus\uW = \sum_{i,j} \underline{V_i}\uplus \underline{W_j},$$
	where the cup products on the right are those of \cref{D: cochain products}.

	We extend the definition of the cap and intersection products analogously.
	In particular, for each simply transverse pair $(\underline{V_i},\underline{W_j})$ as above, there is a simple transverse representation $(V_{ij}, W_{ji})$, and the product $\uV\uplus \uW$, $\uV\nplus \uW$, or $\uV\bullet\uW$ is represented by $\sum_{ij}V_{ij} \times_M W_{ji}$.
\end{definition}


\begin{comment}
	\begin{theorem}
		Let $M$ be a manifold without boundary.
		Suppose $\underline{V_1}, \underline{V_2} \in C_\Gamma^*(M)$ are both transverse to $\uW \in C_\Gamma^*(M)$.
		Then $\underline{V_1 + V_2}$ is transverse to $\uW$ and $$\underline{V_1 + V_2} \uplus \uW = \underline{V_1} \uplus \uW + \underline{V_2} \uplus \uW.$$
		The equivalent statements hold for the cap and intersection products and with the sum in the second variable.
	\end{theorem}
	\begin{proof}
		By definition, we can write

	\end{proof}
\end{comment}

We now demonstrate these products are well defined, noting that \cref{T: cochain product} occurs as the special case in which the sums for $\uV$ and $\uW$ in \cref{D: multicup} each have only one term.
The proof utilizes the essential decompositions of prechains and precochains developed in \cref{S: essential decomp}.

\begin{theorem}\label{T: multicup}
	The products of compound transverse chains and cochains of \cref{D: multicup} are well defined.
	In particular, they do not depend on the decompositions of $\uV$ and $\uW$ into sums of geometric chains or cochains.
\end{theorem}

\begin{proof}
	We provide the argument for the cup product, the other proofs being analogous.
	Suppose $\uV = \sum_i \underline{V_i} = \sum_k \underline{V'_k}$ and $\uW = \sum_j \underline{W_j} = \sum_\ell \underline{W'_\ell}$.
	Suppose the pairs $(\underline{V_i},\underline{W_j})$ and $(\underline{V'_k},\underline{W'_\ell})$ are simply transverse.
	We must show that $\sum_{i,j} \underline{V_i}\uplus \underline{W_j} = \sum_{k,\ell} \underline{V'_k}\uplus \underline{W'_\ell}$.
	The assumptions mean that for each pair $(\underline{V_i},\underline{W_j})$, there are simple transverse representatives we can choose and call $(V_{ij}, W_{ji})$, and similarly for the primed versions.
	Then we must show that $$\left(\bigsqcup_{i,j} V_{ij} \times_M W_{ji}\right) \sqcup \left(-\bigsqcup_{k,\ell} V'_{k\ell} \times_M W'_{\ell k}\right) \in Q^*(M).$$

	For each $V_{ij}$, we have its essential decomposition $$V_{ij} = V_{ij,E} \sqcup V_{ij,TI} \sqcup V_{ij,NI},$$
	and by \cref{T: minimal rep}, the cochain $\underline{V_{ij}}$ is also represented by a precochain of the form $Z_{ij} \sqcup V_{ij,NI}$, where $Z_{ij}$ is the minimal essential precochain of $\underline{V_{ij}}$.
	As $Z_{ij} \sqcup V_{ij,NI}$ is obtained from $V_{ij}$ by removing some components, we may assume that all $V_{ij}$ in fact have this form without disturbing our transversality assumptions, and similarly for the $W_{ji}$, $V'_{k\ell}$, and $W'_{\ell k}$.
	Furthermore, as $V_{ia}$ and $V_{ib}$ represent the same $\underline{V_i}$, they will have the same minimal essential cochain, which we can therefore write simply as $V_{i,E}$ rather than $Z_{ij}$, and again similarly for the other precochains.

	\begin{comment}
	Next, let us choose for each $j$ and $\ell$ particular representatives $W_j$ and $W'_\ell$ for $\underline{W_j}$ and $\underline{W'_\ell}$.
	By the same argument as just above, the essential component of this $W_j$ is the same as that of the other $W_{ji,E}$ up to trivial terms, so, again abusing notation but with no negative impact, we can take the essential component of $W_j$ to also be $W_{j,E}$, and the notation is consistent.
	Similarly for the $W'_\ell$.
	\end{comment}
	\begin{comment} Again we can decompose each $W_j$ into $W_{j,E} \sqcup W_{j,TI} \sqcup W_{j,NI}$, and by Corollary \ref{C: Q essential}, we can throw out some trivial components (which contribute trivial fiber products) and assume that these are the same $W_{j,E}$ as above.
		Similarly for the $W'_\ell$.
		As each $W_{j,TI}$ and $W'_{\ell,TI}$ is in $Q^*(M)$, it follow from Lemma \ref{L: Lipy12} that
		$$\left(\bigsqcup_j \left(W_{j,E} \sqcup W_{j,NI}\right)\right) \sqcup \left(-\bigsqcup_\ell \left(W'_{\ell,E} \sqcup W'_{\ell,NI}\right)\right) \in Q^*(M).$$
	\end{comment}

	We have $\left(\bigsqcup_j W_{j}\right) \sqcup -\left(\bigsqcup_\ell W'_{\ell}\right) \in Q^*(M)$ by assumption, so by \cref{L: Q essential}, $\left(\bigsqcup_j W_{j,E}\right) \sqcup -\left(\bigsqcup_\ell W'_{\ell,E}\right)$ must be trivial.
	Therefore, by \cref{L: trivial structure}, each connected component, say $\mc W$, appearing in one of the $W_{j,E}$ or $W'_{\ell, E}$ either has a co-orientation-reversing automorphism or appears zero times in all of $\left(\bigsqcup_j W_{j,E}\right) \sqcup -\left(\bigsqcup_\ell W'_{\ell,E}\right)$ when counting with sign.
	If $\mc W$ has a co-orientation-reversing automorphism, then $\mc W$ is trivial and so cannot appear in $W_{j,E}$ or $W'_{\ell,E}$.
	So, for each occurrence of $\mc W$ in $\left(\bigsqcup_j W_{j,E}\right) \sqcup -\left(\bigsqcup_\ell W'_{\ell,E}\right)$, there is an occurrence of $-\mc W$.
	Suppose $\mc W \subset W_{a,E}$ and $-\mc W \subset W_{b,E}$.
	Then, in particular, $\mc W \subset W_{ai}$ and $-\mc W \subset W_{bi}$ for all $i$, and so $\mc W$ is simply transverse to each $V_{ia}$ and $V_{ib}$.
	So $\bigsqcup_i V_{ia}$ and $\bigsqcup_i V_{ib}$ both represent $\uV \in C^*_\Gamma(M)$ and are transverse to $\mc W$.
	Thus
	$$\left(\bigsqcup_i V_{ia} \times_M \mc W\right) \sqcup \left(\bigsqcup_i V_{ib} \times_M -\mc W\right) = \left(\bigsqcup_i V_{ia} \times_M \mc W\right) \sqcup \left(-\bigsqcup_i V_{ib} \times_M \mc W\right) \in Q^*(M)$$
	by \cref{L: pullback with Q}, and similarly if one or both occurrences of $\pm \mc W$ are components of one of the $W'_{\ell, E}$, in which case the corresponding $V_{ia}$ or $V_{ib}$ is replaced with $V'_{k\ell}$ or $V'_{k\ell}$ .
	Continuing in this way, all of $$\left(\bigsqcup_{i,j} V_{ij} \times W_{j,E}\right) \sqcup \left(-\bigsqcup_{k,\ell} V'_{k\ell} \times_M W'_{\ell,E}\right)$$
	is in $Q^*(M)$.

	So it remains to show that
	\begin{equation}\label{E: multicup NI}
		\left(\bigsqcup_{i,j} V_{ij} \times W_{ji,NI} \right) \sqcup \left(- \bigsqcup_{k,\ell} V'_{k\ell} \times_M W'_{\ell k,NI}\right)
	\end{equation}
	is in $Q^*(M)$.
	As each $W_{ji,NI}$ and $W'_{\ell k,NI}$ has small rank, each component of \eqref{E: multicup NI} is of small rank by \cref{L: pullback with Q}.
	So it suffices to show that the boundary of \eqref{E: multicup NI} is a union of trivial and small rank precochains.
	The boundary terms of the form $(\bd V_{ij}) \times W_{ji,NI}$ and $(\bd V'_{k\ell}) \times_M W'_{\ell k,NI}$ all have small rank, again by \cref{L: pullback with Q}.
	So we consider
	$$\left(\bigsqcup_{i,j} V_{ij} \times \bd W_{ji,NI} \right) \sqcup \left(-\bigsqcup_{k,\ell} V'_{k\ell} \times_M \bd W'_{\ell k,NI}\right)$$
	(we can ignore the sign from the boundary formula, as all terms are multiplied by the same sign $(-1)^{m-v}$ in taking the boundary).

	We now consider the essential decompositions of the $\bd W_{ji,NI}$ and $\bd W'_{\ell k,NI}$.
	By \cref{L: pullback with Q}, any fiber product involving a TI component will be trivial and any fiber product involving an NI component will have small rank.
	So we must consider the terms $V_{ij} \times \left(\bd W_{ji,NI}\right)_E$ and $V'_{ij} \times \left(\bd W'_{ji,NI}\right)_E$.
	By \cref{L: same NI}, since $W_{ji}$ and $W_{ja}$ represent the same cochain for any $i,a$, we have that $\bd W_{ji,NI}$ and $\bd W_{ja,NI}$ represent the same cochain (and similar for the $W'$).
	So by \cref{C: Q essential}, these have the same minimal essential part and $\left(\bd W_{j,NI}\right)_E$ is the minimal essential part together with something trivial.
	As any fiber product with something trivial is trivial, we can concentrate on the minimal essential part; we now abuse notation and let $\left(\bd W_{j,NI}\right)_E$ stand just for the minimal essential part.
	So if we can show that
	$$\left(\bigsqcup_j \bd W_{j,NI}\right) \sqcup -\left(\bigsqcup_\ell \bd W'_{\ell,NI}\right)$$
	is in $Q^*(M)$ then we can proceed by the same argument we used above for $\left(\bigsqcup_j W_{j,E}\right) \sqcup -\left(\bigsqcup_\ell W'_{\ell,E}\right)$ to show that $\left(\bigsqcup_{i,j} V_{ij} \times W_{j,E}\right) \sqcup \left(-\bigsqcup_{k,\ell} V'_{k\ell} \times_M W'_{\ell,E}\right) \in Q^*(M)$.

	But, again, we know that
	$\left(\bigsqcup_j W_{j}\right) \sqcup \left(-\bigsqcup_\ell W'_{\ell}\right) \in Q^*(M)$, so by \cref{L: Lipy12}
	$$\left(\bigsqcup_j \left(W_{j,E} \sqcup W_{j,NI}\right)\right) \sqcup \left(-\bigsqcup_\ell \left(W'_{\ell,E} \sqcup W'_{\ell,NI}\right)\right) \in Q^*(M),$$
	as the $W_{j,TI}$ and $W'_{\ell, TI}$ are in $Q^*(M)$.
	Thus by \cref{L: Q essential}, $$\left(\bigsqcup_j W_{j,NI}\right) \sqcup \left(-\bigsqcup_\ell W'_{\ell,NI}\right) \in Q^*(M).$$
	So by \cref{L: bd defined}, the boundary
	$$\left(\bigsqcup_j \bd W_{j,NI}\right) \sqcup \left(-\bigsqcup_\ell \bd W'_{\ell,NI}\right)$$ is in $Q^*(M)$, as required.
\end{proof}



\begin{comment}
	\begin{corollary}
		Let $M$ be a manifold without boundary.
		Suppose $\underline{V_1}, \underline{V_2} \in C_\Gamma^*(M)$ are both simply transverse to $\uW \in C_\Gamma^*(M)$.
		Then $\underline{V_1 + V_2}$ is compound transverse to $\uW$ and $$\underline{V_1 + V_2} \uplus \uW = \underline{V_1} \uplus \uW + \underline{V_2} \uplus \uW.$$
		The equivalent statements hold for the cap and intersection products and with the sum in the second variable.
	\end{corollary}
	\begin{proof}
	This follows immediately from the definitions and \cref{D: cochain products,D: multicup,T: multicup}, taking in the theorem statement $\uV = \underline{V_1} + \underline{V_2}$ and letting $\uW$ simply be itself without splitting it into a sum.
	\end{proof}
\end{comment}

\cref{T: multicup} can be read to imply bilinear behavior of \textit{simply} transverse chains and cochains, although this is somewhat definitional: \cref{D: multicup} \textit{defines} $\uV \uplus (\underline{W_1} + \underline{W_2})$ as  $(\uV \uplus \underline{W_1}) + (\uV \uplus \underline{W_2})$, where the cup products on the right are those of \cref{D: cochain products}, and then \cref{T: multicup} tells us this is well defined.

The conundrum is that compound transverse chains and cochains again do not necessarily behave bilinearly, for essentially the same reasons that simple transversality does not provide bilinear products without extending to a broader definition of transversality:
The definition of compound transversality assumes fixed decompositions $\uV = \sum_i \underline{V_i}$ and $\uW = \sum_j \underline{W_j}$.
But now suppose we have $\uV \in C_\Gamma^*(M)$ that is \textit{compound} transverse to both $\underline{W_1}, \underline{W_2} \in C_\Gamma^*(M)$.
Again we would like $\uV \uplus (\underline{W_1} + \underline{W_2})  = (\uV \uplus \underline{W_1}) + (\uV + \underline{W_2})$, but $\uV \uplus \underline{W_1}$ and $\uV \uplus \underline{W_2}$ might be computed by the formula above using two different ways of writing $\uV$ as a sum, and \cref{T: multicup} does not cover this situation.

Conjecturally, we could mirror the preceding program by introducing an appropriate even broader notion of transversality, showing it is well defined, and then declaring it to provide a notion of bilinearity for products of compound transverse chains and cochains.
Even more conjecturally, this process can be repeated to all levels of ``$n$-transversality'' (with $n=1$ being simple transversality, $n=2$ being compound transversality, etc.) to provide well defined ``level $n$ products'' that definitionally provide bilinearity at the preceding the level.
But we will not pursue this project here.

\subsubsection{Exterior products}\label{S: exterior chain products}

As a complement to \cref{S: simple products}, we observe in this section that the exterior products defined in \cref{S: exterior products} give rise to well-defined products for geometric chains and cochains.
Unlike the cup, cap, and intersection products, these are fully defined, as the exterior products do not require any transversality assumptions.

\begin{definition}\label{D: exterior chain}
	Suppose $\uV \in C_*^{\Gamma}(M)$ and $\uW \in C_*^{\Gamma}(N)$ are represented by $V \in PC_*^{\Gamma}(M)$ and $W \in PC_*^{\Gamma}(N)$.
	Then we define the \textbf{exterior chain product (or chain cross product)} $$\times \colon C_*^{\Gamma}(M) \times C_*^{\Gamma}(N) \to C_*^{\Gamma}(M \times N)$$ by $\uV \times \uW = \underline{V \times W}$, giving the product of oriented manifolds the standard product orientation, as in \cref{S: oriented product}.

	Similarly, suppose $\uV \in C^*_{\Gamma}(M)$ and $\uW \in C^*_{\Gamma}(N)$ are represented by $V \in PC^*_{\Gamma}(M)$ and $W \in PC^*_{\Gamma}(N)$.
	Then we define the \textbf{exterior cochain product (or cochain cross product)}
	$$\times \colon C^*_{\Gamma}(M) \times C^*_{\Gamma}(N) \to C^*_{\Gamma}(M \times N)$$ by $\uV \times \uW = \underline{V \times W}$, using the co-orientation of a product of co-oriented maps as defined in \cref{D: co-oriented exterior}.
\end{definition}

As is standard for singular homology and cohomology, we use the symbol $\times$ for both products, allowing context to determine which product is meant.

\begin{proposition}
	The exterior chain and cochain products are well defined.
\end{proposition}

\begin{proof}
	We note that product of proper maps is proper by \cite[Proposition I.10.1.4]{Bou98}.

	It remains to show that if $V'$ and $W'$ are alternative representatives of $V$ and $W$ then $(V \times W) \sqcup -(V' \times W') \in Q(M \times N)$.
	We will show that $(V \times W) \sqcup -(V' \times W) \in Q(M \times N)$, then the general case follows from an equivalent argument with $W$.
	But we need only observe that $(V \times W) \sqcup -(V' \times W) = (V \sqcup -V') \times W$ and then apply
	\cref{L: exterior Q}.
\end{proof}


\subsubsection{Pullbacks of cochains}\label{S: product pullbacks}
\greg{Should this section go here?}
We now return to the main program of \cref{S: chain products} --- the behavior of geometric chains and cochains, and particularly the need for transversality assumptions.

In \cref{S: cohomology pullback}, we showed that a continuous map $f \colon M \to N$ of manifolds without boundary yields a well-defined cohomology map $f^* \colon H^*_\Gamma(N) \to H^*_\Gamma(M)$.
In this section we consider $f^*$ as a partially-defined map of cochain complexes $C^*_\Gamma(N) \to C^*_\Gamma(M)$.

\begin{definition}\label{D: transverse to map}
	Let $f \colon M \to N$ be a smooth map of manifolds without boundary, and let $\uV \in C^*_\Gamma(N)$.
	We will say that $\uV$ is \textbf{transverse to $f$} if $\uV$ has a representative $r_V \colon V \to N$ such that $r_V$ is transverse to $f$.
	In this case we define the pullback $f^*(\uV)$ to be $\underline{f^*(V)} \in C^*_\Gamma(M)$.

	We will write the set of cochains transverse to $h$ as $C^*_{\Gamma \pf f}(N)$.
\end{definition}

We notice that the transversality situation here is simpler than the more general ones in the preceding section, as $f$ is a fixed map.

\begin{proposition}
	Given a smooth map of manifolds without boundary $f \colon M \to N$, the set $C^*_{\Gamma \pf f}(N)$ is a subcomplex of $C^*_{\Gamma}(N)$, and the map $f^*:C^*_{\Gamma \pf f}(N) \to C^*_{\Gamma}(M)$ is a well-defined chain map.
\end{proposition}

\begin{proof}
	To show that $f^*$ is well defined on $C^*_{\Gamma \pf f}(N)$ we must show that it does not depend on the choice of representative $V$.
	Suppose $V$ and $V'$ both represent $\uV$ and are transverse to $f$.
	Then $V \sqcup -V'$ is transverse to $f$ and an element of $Q^*(N)$.
	So by \cref{L: pullback map Q}, $f^*(V \sqcup -V')$, which is by definition $(V \sqcup -V') \times_N M = (V \times_N M) \sqcup (-V' \times_N M)$ mapping to $M$, is an element of $Q^*(M)$.
	So $f^*(V)$ and $f^*(V')$ represent the same element of $C^*_{\Gamma}(M)$.
	Thus $f^*$ is well defined.

	If $\uV,\uW \in C^*_\Gamma(N)$ are represented by $r_V \colon V \to N$ and $r_W \colon W \to N$ that are transverse to $f$, then $\uV+\uW$ can be represented by $V \sqcup W$, which will also be transverse to $f$.
	So $C^*_{\Gamma \pf f}(N)$ is closed under addition.
	If $r_V \colon V \to N$ is transverse to $f$ then so is $-r_V$, i.e.\ $r_V$ with the opposite co-orientation, so $C^*_{\Gamma \pf f}(N)$ is closed under negation.
	The empty map $\emptyset \to N$ is always transverse to $f$ (since there are no points at which to check the tangent space condition), and so $0 \in C^*_{\Gamma \pf f}(N)$.
	Finally, if $\uV$ is represented by $r_V \colon V \to N$ transverse to $f$, then by definition $\bd V \to N$ is transverse to $f$, so $\bd \uV \in C^*_{\Gamma \pf f}(N)$.
	Therefore, $C^*_{\Gamma \pf f}(N)$, is a subcomplex of $C^*_{\Gamma}(N)$.

	To see that $f^*$ is a homomorphism, let $V,W \to N$ represent elements of $C^*_{\Gamma}(N)$ that are transverse to $f$.
	Then
	$$f^*(\uV+\uW) = \underline{f^*(V \sqcup W)} = \underline{f^*(V) \sqcup f^*(W)} = \underline{f^*(V)}+\underline{f^*(W)},$$
	using the definitions and obvious properties of the pullback.
	Furthermore, as $\bd M = \emptyset$, $f^*$ is a chain map by \cref{leibniz}, .
\end{proof}

\begin{remark}
	While $C^*_{\Gamma \pf f}(N)$ is a subcomplex, it is not closed under taking cup products, even when they are well defined.
	As an example, let $f \colon M \to N$ be the inclusion of the $x$-axis into the plane $\R^2$.
	Let $V$ be represented by an embedding of $\R$ into $\R^2$ as the line $y = x$, and let $W$ similarly correspond to $y = -x$, with any co-orientations.
	Then $\uV \uplus \uW$ is represented by the embedding of the origin into $\R^2$, but this is not transverse to $f$, even though both $V$ and $W$ are transverse to $f$.
\end{remark}

\subsubsection{Kronecker pairing}\label{S: Kronecker}
\greg{Should this section go here?}
Using similar arguments to those in \cref{S: product pullbacks}, we consider a partially-defined Kronecker-type evaluation $C^*_\Gamma(M) \to \Hom(C_*^\Gamma(M),\Z)$.

The partially-defined cap product yields a partially-defined pairing
$$C^i_\Gamma(M) \times C_i^\Gamma(M) \xr{\nplus} C_0^\Gamma(M) \xr{\aug}\Z,$$
where $\aug \colon C_0^\Gamma(M) \to \Z$ is the augmentation map of \cref{D: aug}.
We consider here the extent to which this pairing corresponds to a function $C^i_\Gamma(M) \to \Hom(C_i^\Gamma(M),\Z)$.
This situation is closely related to the preceding discussion of pullbacks.

\begin{definition}\label{D: transverse to cohain}
	Let $\uV \in C^i_\Gamma(M)$ be a geometric cochain.
	We write $C_i^{\Gamma \pf \uV}(M)$ for the subgroup of $C_i^\Gamma(M)$ generated by geometric $i$-chains simply transverse to $\uV$.
\end{definition}

\begin{proposition}
	Given a geometric cochain $\uV \in C^i_\Gamma(M)$, the map $\aug(\uV\nplus -):C_i^{\Gamma \pf \uV}(M) \to \Z$ is a well-defined homomorphism.
\end{proposition}

\begin{proof}
	We first observe that $\uV\nplus -$ is defined on all elements of $C_i^{\Gamma \pf \uV}(M)$.
	If $\uW \in C_i^\Gamma(M)$ can be written as a sum $\uW = \sum \underline{W_i}$ with each $\underline{W_i}$ simply transverse to $\uV$, then $\uV\nplus \uW$ is well defined as $\sum \uV\nplus \underline{W_i}$ by \cref{T: multicup}.
	The element $0 \in C_i^\Gamma(M)$, as represented by the empty map, is simply transverse to $\uV$ with $\uV\nplus 0 = 0$, and if $\uW$ is transverse to $\uV$ then so is $-\uW$.
	\cref{D: multicup,T: multicup} imply that $\uV \nplus -$ is a homomorphism.
	We know that $\aug$ is a homomorphism, so the proposition follows.
\end{proof}

So given $\uV \in C^i_\Gamma(M)$, we obtain an element of $\Hom\left(C_i^{\Gamma \pf \uV}(M),\Z\right)$, but of course we will not in general obtain an element of $\Hom\left(C_i^{\Gamma}(M), \Z \right)$ due to transversality requirements.

\begin{comment}
	\begin{proof}
		If $\uV,\uW \in C^*_\Gamma(N)$ are represented by $f \colon V \to N$ and $g \colon W \to N$ that are transverse to $h$, then $\uV+\uW$ is represented by $V \sqcup W$, which will also be transverse to $h$.
		So $C^*_{\Gamma \pf h}(N)$ is closed under addition.
		If $f \colon V \to N$ is transverse to $h$ then so is $-f$, i.e.\ $f$ with the opposite co-orientation, so $C^*_{\Gamma \pf h}(N)$ is closed under taking negatives.
		The empty map $\emptyset \to N$ is always transverse to $h$ (since there are no points at which to check the tangent space condition), and so $0 \in C^*_{\Gamma \pf h}(N)$.
		Finally, if $\uV$ is represented by $f \colon V \to N$ transverse to $h$, then by definition $\bd V \to N$ is transverse to $h$, so $\bd \uV \in C^*_{\Gamma \pf h}(N)$.
		Therefore, $C^*_{\Gamma \pf h}(N)$, is a subcomplex of $C^*_{\Gamma}(N)$.

		To how that $h^*$ is well defined on $C^*_{\Gamma \pf h}(N)$ we must show that it does not depend on the choice of representative $V$.
		Suppose $V$ and $V'$ both represent $\uV$ and are transverse to $h$.
		Then $V \sqcup -V'$ is transverse to $h$ and an element of $Q^*(N)$.
		So by \cref{L: pullback map Q}, $h^*(V \sqcup -V')$, which is by definition $(V \sqcup -V') \times_N M = (V \times_N M) \sqcup (-V' \times_N M)$ mapping to $M$, is an element of $Q^*(M)$.
		So $h^*(V)$ and $h^*(V')$ represent the same element of $C^*_{\Gamma}(M)$.
		Thus $h^*$ is well defined.

		To see that $h^*$ is a homomorphism, let $V,W \to N$ represent elements of $C^*_{\Gamma}(N)$ that are transverse to $h$.
		Then
		$$h^*(\uV+\uW) = \underline{h^*(V \sqcup W)} = \underline{h^*(V) \sqcup h^*(W)} = \underline{h^*(V)}+\underline{h^*(W)},$$
		using the definitions, obvious properties of the pullback and \cref{L: co/chains well defined}.
		Furthermore, $h^*$ is a chain map by \cref{leibniz}, as $\bd M = \emptyset$.
	\end{proof}
\end{comment}


\subsection{Properties of the chain and cochain products}\label{S: (co)chain properties}

Now that we have defined cup, cap, intersection, and exterior products of geometric chains and cochains and shown that these products are well defined, at least when the necessary transversality and orientation conditions hold, they immediately inherit many of the properties demonstrated in \cref{S: orientations and co-orientations}.
We provide below some tables listing these properties and the locations of the previous results that support them.
The references are typically to results that involve only transversality of a pair of prechains or precochains, but in the chain and cochain setting they generalize to the more general products of \cref{D: multicup} by applying them to each summand.

For example, suppose $\uV, \uW \in C^*_\Gamma(M)$ are compound transverse.
This means we can write $\uV = \sum_i \underline{V_i} \in C_\Gamma^*(M)$, $\uW = \sum_j \underline{W_j} \in C_\Gamma^*(M)$ with each pair $(\underline{V_i},\underline{W_j})$ simply transverse.
And this means that there are representatives $V_{ij},W_{ji} \in PC_\Gamma^*(M)$ such that for all $i$ and $j$, we have $\underline{V_{ij}} = \underline{V_i}$, $\underline{W_{ji}} = \underline{W_j}$, and $V_{ij}$ transverse to $W_{ji}$.
We then have $\uV\uplus \uW$ represented by
$\sum_{i,j} V_{ij} \times_M W_{ji}$.
By \cref{P: graded comm}, we have
$$\sum_{i,j} V_{ij} \times_M W_{ji} = \sum_{i,j} (-1)^{(m-v)(m-w)}W_{ji} \times_M V_{ij} = (-1)^{(m-v)(m-w)}\sum_{i,j} W_{ji} \times_M V_{ij},$$
and this last expression represents $(-1)^{(m-v)(m-w)} \uW\uplus \uV$.
So we obtain the cup product commutativity formula $$\uV\uplus\uW = (-1)^{(m-v)(m-w)}\uW\uplus\uV$$ for compound transverse cochains.

The more complicated exceptions to this inheritance of properties from the pre(co)chain properties concern associativity and naturality, which we will address below in a separate section.

In the tables that follow, we assume to hold all transversality required for each expression to be defined.
For intersection products, we assume that the underlying manifold is oriented.
Unless stated otherwise, our default notations for cup, cap, and intersection products will have manifolds with corners $V$ and $W$ mapping to a manifold without boundary $M$.
Our default notations for chain and cochain cross products will assume $V \to M$ and $W \to N$.
We explain the further assumptions and notations prior to each table of formulas

\subsubsection{Boundary formulas}

For our first table, with formulas involving boundaries, we also invoke the well-definedness of boundaries of geometric chains and cochains, see \cref{L: co/chains well defined}.
The cup, cap, and intersection products require (simple or compound) transversality of $\uV$ and $\uW$; the exterior products have no transversality requirements.
In the first line, we use that $\uV \times \uW = \uV \times_M \uW$, when $M$ is a point.

\begin{center}
	\begin{tabular}{|l|c|l|}
		\hline
		Chain cross product &$\bd(\uV \times \uW) = (\bd \uV) \times \uW+ (-1)^{v}\uV \times \bd \uW$&\cref{P: oriented fiber boundary}\\
		\hline
		Cochain cross product&$\bd(\uV \times \uW) = (\bd \uV) \times \uW+ (-1)^{m-v}\uV \times \bd \uW$&\cref{P: boundary of exterior product}\\
		\hline
		Cup product&$\bd (\uV \uplus \uW) = (\bd \uV) \uplus \uW+ (-1)^{m-v} \uV \uplus \bd \uW$&\cref{leibniz}\\
		\hline
		Cap product&$\bd(\uV\nplus \uW) = (-1)^{v+w-m} (\bd \uV)\nplus \uW + \uV\nplus\bd \uW$&\cref{P: Leibniz cap}\\
		\hline
		Intersection product &$\bd (\uV \bullet \uW) = (\bd \uV) \bullet \uW + (-1)^{m-v}\uV \bullet \bd \uW$&\cref{P: oriented fiber boundary}\\
		\hline
	\end{tabular}
\end{center}

\subsubsection{Commutativity formulas}

For the commutativity properties listed below, $\tau$ is the transposition map $\tau \colon N \times M \to M \times N$.
The cup and intersection products require transversality of $\uV$ and $\uW$; the exterior products have no transversality requirements.
In the first line, we again use that $\uV \times \uW = \uV \times_M \uW$, when $M$ is a point.

\begin{center}
	\begin{tabular}{|l|c|l|}
		\hline
		Chain cross product&$\tau(\uV \times \uW) = (-1)^{vw}\uW \times \uV$&\cref{P: commute oriented fiber}\\
		\hline
		Cochain cross product&$\tau^*(\uV \times \uW) = (-1)^{(m-v)(n-w)}\uW \times \uV$&\cref{P: exterior commutativity}\\
		\hline
		Cup product&$\uV\uplus \uW = (-1)^{(m-v)(m-w)} \uW\uplus \uV$&\cref{P: graded comm}\\
		\hline
		Intersection product&$\uV\bullet \uW = (-1)^{(m-v)(m-w)}\uW\bullet \uV$&\cref{P: commute oriented fiber}\\
		\hline
	\end{tabular}
\end{center}

\subsubsection{Unital properties}\label{S: unital properties}

For the following unital properties, we write $pt$ to refer to the point with its positive orientation.
We will write $\underline{pt}$ for the geometric chain given by $\id_{pt}:pt \to pt$ or for the geometric cochain given by the canonically co-oriented identity map $\id_{pt}:pt \to pt$.
Similarly, $\uM$ represents the geometric chain or cochain determined by $\id_M \colon M \to M$, canonically co-oriented in the cochain case.
Technically, $M$ must be compact for $\id_M$ to represent a chain, but the corresponding formulas hold more broadly at the referenced locations and so these identities could be taken as statements involving a broader class of geometric chains.
Note that, as a cochain, $\uM \in C^0_\Gamma(M)$, and \cref{P: projection pullbacks} shows that these behave like the singular cochain $1$.
We also let $\pi_1 \colon M \times N \to M$ and $\pi_2 \colon N \times M \to M$ denote the projections.
In the first formula for the cap product with $\uM$, $M$ is assumed oriented, and the first $\uV$ in the formula is represented by $V \to M$ as a cochain while the second $\uV$ in the formula is $V \to M$ as a chain with the induced orientation on $V$; see \cref{P: cap with identity M}.
In the second cap product formula, both instances of $\uV$ are as chains.
As $\id_M$ is transverse to all other maps, the following hold for all $\uV$.

\begin{center}
	\begin{tabular}{|l|c|l|}
		\hline
		Identity for chain cross product&$\uV \times \underline{pt} = \underline{pt} \times \uV = \uV$& Straightforward\\
		\hline
		Identity for cochain cross product&$\uV \times \underline{pt} = \underline{pt} \times \uV = \uV$& \cref{P: co-oriented exterior unit}\\
		\hline
		Cochain cross product with $1$&\begin{tabular}{c}$\pi_1^*\uV = \uV \times \underline{N}$\\$\pi_2^*\uV = \underline{N} \times \uV$ \end{tabular} &\cref{P: projection pullbacks}\\
		\hline
		Cup product with $1$&$\uV\uplus\uM = \uM\uplus \uV = \uV$&\cref{C: cup with identity}\\
		\hline
		Cap product with $\underline M$&$\uV\nplus \uM = \uV$ &\cref{P: cap with identity M}\\
		\hline
		Cap with product with 1&$\uM\nplus \uV = \uV$&\cref{P: cap with 1}\\
		\hline
		Intersection product with $\uM$ &$\uM\bullet \uV = \uV\bullet \uM = \uV$&\cref{P: oriented fiber product basic properties}\\
		\hline
	\end{tabular}
\end{center}

\subsubsection{Mixed properties}\label{S: mixed formulas}

The next grouping concerns properties that involve multiple kinds of products.
We recall that $\diag \colon M \to M \times M$ is the diagonal map.
For these properties we assume maps $V,W \to M$ and $X,Y \to N$.
We also have projections $\pi_M \colon M \times N \to M$ and $\pi_N \colon M \times N \to N$.
As in \cref{S: unital properties}, $\uM$ represents the geometric chain or cochain determined by $\id_M \colon M \to M$.
Then the last formula follows from \cref{P: compare cup and intersection orientations} by recalling from \cref{P: cap with identity M} that, when $M$ is oriented, the fiber product with $\id_M \colon M \to M$ takes a precochain to the corresponding chain with the induced orientation.
Again, $M$ must be compact for $\id_M$ to represent a chain, but the corresponding formulas hold more broadly at the referenced locations and so these identities could be taken as statements involving a broader class of geometric chains.

The first and last properties require that $\uV$ and $\uW$ be transverse.
The second holds for all $\uV, \underline{X}$.
The next three require that $\uV$ be transverse to $\uW$ and that $\underline{X}$ be transverse to $\underline{Y}$.



\begin{center}
	\begin{tabular}{|l|c|l|}
		\hline
		Cup from cross& $\uV\uplus \uW = \diag^*(\uV \times \uW)$&\ref{P: cross to cup}	\\
		\hline
		Cross from cup&$\uV \times \underline{X} = \pi_M^*(\uV)\uplus\pi_N^*(\underline{X})$& \ref{C: cross is cup}	\\
		\hline
		Cup of crosses&$(\uV \times \underline{X})\uplus (\uW \times \underline{Y}) = (-1)^{(m-w)(n-x)} (\uV\uplus \uW) \times (\underline{X}\uplus \underline{Y})$ &	\ref{C: criss cross}\\
		\hline
		Cap of crosses &$(\uV \times \underline{X})\nplus (\uW \times \underline{Y}) = (-1)^{(x+y-n)(m-v)} (\uV \nplus \uW) \times (\underline{X}\nplus \underline{Y})$ & \ref{P: cap cross}\\
		\hline
		Intersect. of crosses &$(\uV \times \underline{X})\bullet (\uW \times \underline{Y}) = (-1)^{(m-w)(n-x)}(\uV\bullet \uW) \times (\underline{X}\bullet \underline{Y})$&\ref{P: oriented interchange}\\
		\hline
		Cup and intersect. &$(\uV\uplus \uW)\nplus \uM = (-1)^{(m-v)(m-w)}(\uV\nplus \uM)\bullet(\uW\nplus \uM)$&\ref{P: compare cup and intersection orientations}\\
		\hline
	\end{tabular}
\end{center}

\subsubsection{Immersion formulas}

While geometric chains and cochains do not have unique representatives by prechains and precochains, we recall that if the two terms can be represented by transverse embeddings, then the cup, cap, and intersection products are represented by their intersection and we have simple formulas for the orientations or co-orientations; see \cref{P: normal pullback,P: cap of immersions,P: orient intersection}, respectively.
For cap and intersection products, the special cases where the (co)chains have complementary dimensions are further specified in \cref{C: complementary cap,C: orient complementary intersection}.

\subsubsection{Naturality and associativity formulas}

Formulas for associativity and naturality of geometric chain and cochain products are more delicate than our preceding formulas because they require sufficient transversality of more than two objects.
This would require some careful assumptions even just for maps of manifolds, but the ambiguity in representation of geometric chains and cochains makes the situation even more complicated.
To start, there is the question of which transversality we mean, as we have defined both simple and compound transversality for chains and cochains in \cref{S: simple products}.
If we limited ourselves to simple transversality, then we would be able to invoke results like \cref{C: fiber assoc} fairly directly, though even here there are a number of conditions that must be met.

If we want to work with compound transversality, the situation quickly becomes much more complicated.
For example, if $\uV$ and $\uW$ are compound transverse, then by definition we can write finite sums $\uV = \sum_i \underline{V_i}$ and $\uW = \sum_j \underline{W_j}$ and then find transverse representatives $V_{ij}$ and $W_{ji}$ of $\underline{V_i}$ and $\underline{W_j}$.
Then $\uV\uplus \uW$ is represented by $\sum_{ij}V_{ij} \times_M W_{ji}.$
Now suppose $Z$ is compound transverse to $\uV\uplus \uW$.
Then there must be similar decompositions of $Z$ and $\uV\uplus \uW$ into simply transverse pairs, but it is not clear that this condition can necessarily be written in terms of the $V_{ij}$ and $W_{ji}$ so that we can then take advantage of \cref{C: fiber assoc}.
So, rather than attempt to pursue the most general case, we will impose some extra restrictions in what follows so that we can utilize \cref{C: fiber assoc} and its analogues for the intersection product and for the cap product with a cup product.
These assumptions can be simplified if we only wish to consider simple transversality.

Similar concerns arise for our naturality formulas, as, for example, pulling back a cup product by a map $h$ requires that $h$ be transverse to the cup product, so we again have an interaction of three maps, leading to similar issues.

\textbf{Naturality.}
As noted above, naturality of cup and cap products requires some extra care to ensure not just that chains and cochains are appropriately transverse but that there are also the appropriate transversalities with respect to the maps we pull back by.
This requires a good number of further assumptions; see \cref{R: multiproducts,P: 3 out of 4 trans}.

So suppose first $h \colon N \to M$ is a map of manifolds without boundaries and that $\uV,\uW \in C^*_{\Gamma}(M)$.
For naturality of cup products we will assume not just that $\uV$ and $\uW$ are compound transverse, but we also require decompositions into finite sums $\uV = \sum_i \underline{V_i}$, $\uW = \sum_j \underline{W_j}$ such that each pair $(\underline{V_i},\underline{W_j})$ has representatives $V_{ij}$ and $W_{ji}$ such that:
\begin{itemize}
	\item $V_{ij}$ and $W_{ji}$ are transverse and
	\item $V_{ij}$, $W_{ji}$, and $V_{ij} \times_M W_{ji}$ are all transverse to $h$.
\end{itemize}
If we assume that $\uV$ and $\uW$ are simply transverse, then we need only representatives $V$ and $W$ such that $V$ and $W$ are transverse and, $V$, $W$, and $V \times_M W$ is transverse to $h$.

For naturality of cap products, we suppose $h \colon N \to M$, $\uV \in C^*_\Gamma(M)$, and $\uW \in C_*^\Gamma(N)$.
Then, via \cref{P: natural cap}, it is sufficient to assume decompositions $\uV = \sum_i \underline{V_i}$ and $\uW = \sum_j \underline{W_j}$ with representative pairs $(V_{ij}, W_{ji})$ such that each $V_{ij}$ is transverse to $h$ and each $W_{ji}$ is transverse to the pullback $V_{ij} \times_M N \to N$.
In the simple version we just need $V$ and $W$ with $V$ transverse $h$ and $W$ transverse to $V \times_M N \to N$.

The exterior products are simpler.
The naturality of the chain cross product requires no assumption, while the naturality of the cochain cross product requires only that $V$ and $W$ have representatives that are respectively transverse to $h$ and $k$.

With these assumptions, we have the following formulas.

\begin{center}
	\begin{tabular}{|l|c|l|}
		\hline
		Chain cross product&$(h \times k)(\uV \times \uW) = h(\uV) \times k(\uW)$ &Straightforward\\
		\hline
		Cochain cross product&$(h \times k)^*(\uV \times \uW) = h^*(\uV) \times k^*(\uW)$ &\cref{P: natural exterior}\\
		\hline
		Cup product &$h^*(\uV\uplus \uW) = h^*(\uV) \uplus h^*(\uW)$&\cref{C: fiber natural pullback}\\
		\hline
		Cap product &$\uV \nplus h(\uW) = h(h^*(\uV)\nplus \uW)$&\cref{P: natural cap}\\
		\hline
	\end{tabular}
\end{center}

\medskip\noindent\textbf{Associativity.}

For the associativity formulas we add a manifold with corners $X$ either mapping to $M$ for the cup, cap, and intersection products or to a third target manifold $Q$ for the cross products.
Once again, there are no special requirements for the exterior products in the first two formulas below.
For the other associativity formulas, while this might not encompass the most general possibility, in order to ensure associativity in a compound transversality setting, we assume decompositions into finite sums $\uV = \sum_i \underline{V_i}$, $\uW = \sum_j \underline{W_j}$, and $\underline{X} = \sum_k \underline{X_k}$ such that for each triple $(\underline{V_i},\underline{W_j}, \underline{X_k})$ there are representatives $V_{i,jk}$, $W_{j,ik}$, and $X_{k,ij}$ such that the following pairs are transverse: $(V_{i,jk}, W_{j,ik})$, $(W_{j,ik},X_{k,ij})$, $(V_{i,jk} \times_M W_{j,ik},X_{k,ij})$, and $(V_{i,jk}, W_{j,ik} \times_M X_{k,ij})$.
These assumptions will allow us to invoke \cref{C: fiber assoc,P: OC mixed associativity,P: oriented fiber mixed associativity}.
For simple transversality versions, we need only assume $V, W, X$ such that $(V, W)$, $(W,X)$, $(V \times_M W,X)$, and $(V, W \times_M X)$ are transverse pairs (and by \cref{P: 3 out of 4 trans}, the condition on the last pair is redundant).

We leave the reader to formulate associativity for products of larger collections of maps.

\begin{center}
	\begin{tabular}{|l|c|l|}
		\hline
		Chain cross product& $(\uV \times \uW) \times \uX = \uV \times (\uW \times \uX)$&Straightforward\\
		\hline
		Cochain cross product& $(\uV \times \uW) \times \uX = \uV \times (\uW \times \uX)$&\cref{P: exterior associativity}\\
		\hline
		Cup product &$(\uV\uplus \uW)\uplus\uX = \uV\uplus(\uW\uplus X)$&\cref{C: fiber assoc} \\
		\hline
		Cup/cap & $(\uV \uplus \uW)\nplus \uX = \uV\nplus(\uW\nplus\uX)$& \cref{P: OC mixed associativity}\\
		\hline
		Intersection product &
		$(\uV\bullet\uW)\bullet\uX = \uV\bullet(\uW\bullet \uX)$&\cref{P: oriented fiber mixed associativity} and following\\
		\hline
	\end{tabular}
\end{center}

We note that with our assumptions, these triple products exhibit a form of linearity in each variable akin to that discussed in \cref{S: simple products}.

\subsection{Homology and cohomology products}\label{S: homology products}

In this section we observe that the partially-defined cup, cap, and intersection products of geometric chains and cochains give rise to fully-defined products of geometric homology and cohomology classes.
Similarly, we obtain external homology and cohomology products, although this is more evident as external products are already fully defined for geometric chains and cochains.

\begin{theorem}\label{T: (co)homology products}
	Let $M$ and $N$ be manifolds without boundary.
	The chain cross product, cochain cross product, cup product, cap product, and, if $M$ is oriented, intersection product induce fully-defined bilinear maps
	\begin{align*}
		\times \colon & H^\Gamma_*(M) \otimes H^\Gamma_*(N) \to H^\Gamma_*(M \times N)\\
		\times \colon & H_\Gamma^*(M) \otimes H_\Gamma^*(N) \to H_\Gamma^*(M \times N)\\
		\uplus \colon & H_\Gamma^*(M) \otimes H_\Gamma^*(M) \to H_\Gamma^*(M)\\
		\nplus \colon & H_\Gamma^*(M) \otimes H^\Gamma_*(M) \to H^\Gamma_*(M)\\
		\bullet \colon & H^\Gamma_*(M) \otimes H^\Gamma_*(M) \to H^\Gamma_*(M).\\
	\end{align*}
\end{theorem}

We will prove \cref{T: (co)homology products} below.
The basic idea, in the case of the last three products, will be to show that we can represent pairs of homology or cohomology classes by simply transverse representatives, which is accomplished by \cref{T: transverse reps}, below, and then form the usual fiber products.
We therefore have the following immediate consequence.

\begin{theorem}
	The homology cross product, cohomology cross product, cup product, cap product, and, if $M$ is oriented, intersection product satisfy the properties enumerated in \cref{S: (co)chain properties}, except for the boundary formulas.
\end{theorem}

\begin{remark}
	For the naturality and associativity properties which require additional assumptions about transversality of representatives, those assumptions can all be met in the (co)homology setting.
	For example, for naturality of the cup product with respect to a map $h \colon N \to M$, once transverse representatives $V$ and $W$ of $\uV$ and $\uW$ have been found, we can use \cref{T: basic trans,R: countable trans} to replace $h$ with a homotopic map transverse to $V$, $W$, and $V \times_M W$, and by \cref{P: cohomology pullback}, we can use this transverse map to pull back our cohomology classes.
	For the cap product, we can again use \cref{T: basic trans} to assume $h$ transverse to $V$ and then \cref{T: transverse reps}, below, to choose a $W$ in the desired homology class transverse to the pullback $V \times_M N \to N$.
	Similarly, for associativity, we use \cref{T: transverse reps,R: countable trans2} to choose representatives $V$, $W$, and $X$ first so that $W$ is transverse to $V$ and then so that $X$ is transverse to $V \times_M W$ and $W$.
\end{remark}

To prove \cref{T: (co)homology products}, we will use the following important theorem.

\begin{theorem}\label{T: transverse reps}
Let $r_W \colon W \to M$ be a proper map from a manifold with corners to a manifold without boundary, and let $\uV \in H_*^\Gamma(M)$ or $\uV \in H^*_\Gamma(M)$.
Then there is an $r_V \colon V \to M$ representing $\uV$ such that $V$ is transverse to $W$.

Furthermore, if $V$ is transverse $W$ and there is a pre(co)chain $Z$ such that $\bd Z \sqcup -V \in Q(M)$, i.e.\ $\uV = 0$ as a homology or cohomology class, then such a $Z$ can be chosen so that it is transverse to $W$.
\end{theorem}

We will prove \cref{T: transverse reps} below in \cref{S: transverse maps}.
For now we use it to prove \cref{T: (co)homology products}.



\begin{comment}
Suppose V is a cycle transverse to N that bounds. Then there is a Z transverse to N that realizes it:

Choose Y so that \bd Y \sqcup  -V \in Q. Y may not be transverse.

Do a universal homotopy on Y \sqcup V so that Y becomes transverse and the trace of V is transverse. Let Y and V be the results and let W be the trace of the V homotopy. Let Z = Y \sqcup -W, which is transverse. Also \bd Y \sqcup -V is in Q.

Then \bd Z \sqcup -V is
(\bd Y \sqcup - V \sqcup V \sqcup -V)
Which is in Q.

\end{comment}



\begin{proof}[Proof of \cref{T: (co)homology products}]
	For the exterior products, by \cref{S: exterior chain products} we already have fully-defined maps
	\begin{align*}C^\Gamma_*(M) \times C^\Gamma_*(N)& \to C^\Gamma_*(M \times N)\\ C_\Gamma^*(M) \times C_\Gamma^*(N)& \to C_\Gamma^*(M \times N).
	\end{align*}
	These are easily seen to be bilinear and $\Z$-balanced (i.e.\ they satisfy $(a\uV) \times \uW = a(\uV \times \uW) = \uV \times a\uW$ for any $a \in \Z$).
	Moreover, these are chain maps: for the chain cross product this follows from the standard boundary formula for oriented products and our boundary conventions, \cref{Con: oriented boundary}, and for the cochain cross product this follows from \cref{P: boundary of exterior product}, recalling our indexing convention for cochains.
	The existence of the homology and cohomology cross products now follows from standard homological algebra.



	\begin{comment}
	 show that if we are given homology or cohomology classes (depending on the particular product), then they can be represented by chains or cochains $\uV$ and $\uW$ that are simply transverse and that the product does not depend on such a choice.
	The general idea of the proof is relatively standard and analogous to the proof of \cref{T: transverse complex}.
	We provide the details here modulo a technical lemma that we will prove below.
	\end{comment}

	To define the other products, we utilize \cref{T: transverse reps}.
	Given (co)homology classes represented by $r_V \colon V \to M$ and $r_W \colon W \to M$, we can find by \cref{T: transverse reps} a map $r_V' \colon V' \to M$ that represents the same (co)homology class as $V$ and is transverse to $W$.
	We then represent the product by the (oriented or co-oriented) fiber product of $r_V'$ and $r_W$.

	To show that this gives a well-defined (co)homology class, we can suppose that $r_V'' \colon V'' \to M$ is another map transverse to $r_W$ representing the same (co)homology class as $r_V \colon V \to M$.
	Suppose $r_Z:Z \to M$ with $\bd Z \sqcup V' \sqcup -V'' \in Q(M)$, provides the (co)homology.
	We must show that $V' \times_M W$ and $V'' \times_M W$ are (co)homologous.

	Now by \cref{T: transverse reps}, we can assume that $Z$ is also transverse to $W$.
	\begin{comment}
		 To do so, we claim we can find a proper universal homotopy $H \colon Z \times I \to M$ from $r_Z$ to an $r_Z':Z' \to M$ with $Z = Z'$ such that the restrictions of $H$ to $V' \times I$ and $V'' \times I$ are transverse to $r_W$ and $r_Z'$ is also transverse to $r_W$.
		We will prove this is possible in \cref{P: perturb transverse to map}.
		Then $H|_{V' \times I}$ and $H|_{V'' \times I}$ give (co)homologies from the (co)chains represented by $V'$ and $V''$ to (co)chains that are (co)homologous to each other via $r_Z'$.
		Altogether, this gives a (co)homology from $V'$ to $V''$ via maps that are transverse to $r_W$.
		Call the (co)chain representing this last (co)homology $\mc V$ so that $(\bd \mc V) \sqcup V' \sqcup -V'' \in Q(M)$ and $\mc V$ is transverse to $W$.
	\end{comment}
	So we can form $Z \times_M W$, and we have $$\bd (Z \times_M W) = \pm \left( (\bd Z) \times_M W \right) \sqcup \pm \left( Z \times_M \bd W \right)$$ via the appropriate boundary formulas, with the precise signs depending on which kind of product we are considering (see \cref{P: oriented fiber boundary,leibniz,P: Leibniz cap}).
	As $W$ represents a (co)cycle, $\bd W \in Q(M)$ by \cref{R: cycles and boundaries}, so $Z \times_M \bd W \in Q(M)$ by \cref{L: pullback with Q}.
	Meanwhile, we have
	$$((\bd Z) \times_M W) \sqcup (V' \times_M W) \sqcup -(V'' \times_M W) = \left((\bd Z) \sqcup V' \sqcup -V''\right) \times_M W,$$
	which is again in $Q(M)$ by \cref{L: pullback with Q}.
	Altogether then,
	\begin{multline*}
	\bd (Z \times_M W)  \sqcup (V' \times_M W) \sqcup -(V'' \times_M W)\\
	  = \pm \left( (\bd Z) \times_M W \right) \sqcup \pm \left( Z \times_M \bd W \right) \sqcup (V' \times_M W) \sqcup -(V'' \times_M W)\\
	 = \left[\pm Z \times_M \bd W\right] \sqcup \left[ \pm \left((\bd Z) \times_M W \right) \sqcup (V' \times_M W) \sqcup -(V'' \times_M W)\right].
	\end{multline*}
	We need to have $+(\bd Z) \times_M W$ in the bottom line of this computation, but we can obtain that by replacing $Z \times_M W$ with $-Z \times_M W$ if necessary.
	Then the bottom line will be an element of $Q(M)$.

	So $V' \times_M W$ and $V'' \times_M W$ are (co)homologous.
	\qedhere
	\begin{comment}
		To finish the proof, we need an analogue of \cref{P: ball stability} that allows us to construct the homotopy $H$.
		This is the content of \cref{P: perturb transverse to map} below.
	\end{comment}
\end{proof}

\begin{comment}
NEED TO PULL THIS OUT

The arguments of the proof of \cref{T: (co)homology products} also demonstrate the following important theorem:



\greg{Once this section is edited and fixed up, we need to pull out a theorem that says that given $W$, (1) any cocycle can be represented by a pre(co)chain $V$ transverse to $W$ and (2) given such a cocycle transverse to $W$ that bounds, we can cobound it with something transverse to $W$. For sketch of proof, see comment after this note marker
}
\end{comment}


\subsubsection{Representing (co)homology classes by transverse maps}\label{S: transverse maps}.

In this section, we prove \cref{T: transverse reps}.
The main tool will be \cref{P: perturb transverse to map}, stated below.
This proposition is analogous to \cref{P: ball stability} with the difference being that instead of making a map transverse to the faces of a cubulation we must make a map transverse to another map.
We will explain how to modify the proof of \cref{P: ball stability} to accomplish this.
We change notation slightly from that of \cref{T: transverse reps} to make it more consistent with \cref{P: ball stability}, which we hope will ease comparison of the two results for the reader.

\begin{proposition}\label{P: perturb transverse to map}
	Suppose $r_V \colon V \to M$ and $r_X \colon X \to M$ are proper maps from manifolds with corners to a manifold without boundary.
	Then there is a proper homotopy $H \colon M \times I \to M$ such that $H(-,0) = \id$ and $H(-,1)r_V \colon V \to M$ is transverse to $r_X$.

	Furthermore, given another proper map $r_W \colon W \to M$ that is transverse to $r_X$, we can choose the homotopy $H$ above so that also the resulting universal proper homotopy of $W$ given by $W \times I \xr{r_W \times \id_I} M \times I \xr{H} M$ is transverse to $r_X$.
\end{proposition}

Proving \cref{P: perturb transverse to map} will involve \cref{L: all transversality is wrt embeddings}, which, in our current notation, says that two maps $r_V \colon V \to M$ and $r_X \colon X \to M$ are transverse if and only when we replace $r_X$ with an embedding $e \colon X \into M \times \R^n$ that projects to $r_X$, then $e$ is transverse to $r_V \times \id_{\R^n}$.
So this lemma allows us to replace transversality of arbitrary maps with transversality in which one map is an embedding.
The following lemma says, roughly speaking, that when we construct such an embedding $e$, then $e(X)$ does not run off to infinity in the $\R^n$ factors over compact subsets of $M$.

\begin{comment}
	\red{GOING TO MOVE ELSEWHERE - HEREHERE}

	\begin{lemma}\label{L: all transversality is wrt embeddings}
		Let $f \colon V \to M$ and $g \colon W \to M$ be smooth maps from manifolds with corners to a manifold without boundary.
		Let $e \colon W \to M \times \R^n$ be an embedding such that $\pi e = g$, where $\pi$ is the projection $M \times \R^n \to M$.
		Then $f$ and $g$ are transverse if and only if $e$ is transverse to $f \times \id_{\R^n} \colon V \times \R^n \to M \times \R^n$.
	\end{lemma}

	\begin{proof}
		It suffices to assume that $V$ and $W$ are without boundary.
		Otherwise we can apply the following argument to each pair of strata of $V$ and $W$.

		Suppose that $f$ and $g$ are transverse, i.e.\ that if $f(v) = g(w)$ then $Df(T_vV)+Dg(T_wW) = T_{f(v)}M$.
		For each $w \in W$, we can write $e(w) = (g(w),e_\R(w)) \in M \times \R^n$.
		Now suppose $w \in W$ and $(v,z) \in V \times \R^n$ such that $e(w) = (f \times \id_{\R^n})(v,z)$.
		Then we have $(g(w),e_\R(w)) = (f(v),z)$.
		The image of the derivative of $f \times \id_{\R^n}$ at such a point will span $Df(T_vV) \oplus T_z(\R^{n}) = Df(T_vV) \oplus \R^{n}$, while the derivative of $e$ will take $a \in T_w(W)$ to $Dg(a)+ De_{\R}(a)$.
		But the image of $D(f \times \id_{\R^n})$ already includes $0 \oplus \R^{n}$, so
		subtracting off the second summand, $D(f \times \id_{\R^{n}})(T_{(v,z)}(V \times \R^n))+De(T_wW)$ contains $Dg(a)$.
		It follows that $D(f \times \id_{\R^{n}})(T_{(v,z)}(V \times \R^n))+De(T_wW)$ contains $Df(T_vV) \oplus 0$, $Dg(T_wW) \oplus 0$, and $0 \oplus \R^n$.
		Since $f$ and $g$ are transverse and $D(f \times \id_{\R^{n}})(T_{(v,z)}(V \times \R^n))+De(T_wW)$ is a vector space, it therefore contains all of $T_{f(v)}M \oplus \R^n = T_{e(w)}(M \oplus \R^n)$.
		So $f \times \id_{\R^n}$ and $e$ are transverse.

		Next suppose $f \times \id_{\R^n}$ and $e$ are transverse and that $f(v) = g(w) \in M$.
		Suppose $e(w) = (g(w),z)$.
		Then $e(w) = (f \times \id_{\R^n})(v,z)$.
		So, by definition and assumption,
		\begin{equation}\label{E: Quillen transverse}
			D(f \times \id_{\R^{n}})(T_{(v,z)}(V \times \R^n))+De(T_wW) = T_{e(w)}(M \times \R^n) = T_{f(v)}M \oplus \R^n.
		\end{equation}
		As $\pi$ is a submersion, the image of this tangent space under $D\pi$ is all of $T_{f(v)}M$.
		But $(D\pi)(De) = D(\pi e) = Dg$, so $(D\pi \circ De)(T_wW) = Dg(T_wW)$.
		Furthermore, letting $\pi_V \colon V \times \R^n \to V$ be the projection, we have $(D\pi)(D(f \times \id_{\R^{n}})) = D(\pi(f \times \id_{\R^{n}})) = D(f\pi_V) = (Df)(D\pi_V)$, so, as $D\pi_V \colon T_{(v,z)}(V \times \R^n) \to T_vV$ is surjective, we have $(D\pi)(D(f \times \id_{\R^{n}}))(T_{(v,z)}(V \times \R^n)) = Df(T_vV)$.
		So applying $D\pi$ to equation \eqref{E: Quillen transverse}, we get $Df(T_vV)+Dg(T_wW) = T_{f(v)}M$, and $f$ is transverse to $g$.
	\end{proof}

\end{comment}



\begin{lemma}\label{L: compact preimage}
	Let $r_X \colon X \to M$ be a proper map from a manifold with corners to a manifold without boundary, let $\pi_M \colon M \times \R^n \to M$ be the projection, and let $e \colon X \to M \times \R^n$ be an embedding such that $\pi_Me = r_X$.
	Then if $L \subset M$ is compact, there exists a close ball $\bar B^n_L \subset \R^n$ such that $e(r_X^{-1}(L)) \subset L \times \bar B^n_L$.
\end{lemma}

\begin{proof}
	As $L$ is compact and $g$ is proper, $r_X^{-1}(L)$ is compact.
	So $e(r_X^{-1}(L))$ is compact, as is its image under the projection $\pi_{\R^n} \colon M \times \R^n \to \R^n$.
	Let $\bar B^n_L \subset \R^n$ be a closed ball containing this projection.
	Then $\pi_Me(r_X^{-1}(L)) = r_X(r_X^{-1}(L)) \subset L$ and $\pi_{\R^n}e(r_X^{-1}(L)) \subset \bar B^n_L$.
	So $e(r_X^{-1}(L)) \subset L \times \bar B^n_L$.
\end{proof}

We can now use \cref{L: all transversality is wrt embeddings,L: compact preimage} to augment the proof of \cref{P: ball stability} to a proof of \cref{P: perturb transverse to map}.

\begin{proof}[Proof of \cref{P: perturb transverse to map}]
	Suppose $e \colon X \to M \times \R^n$ is an embedding such that $\pi e = r_X$, with $\pi \colon M \times \R^n \to M$ the projection.
	Such an embedding always exists by \cref{C: embed V}.
	By \cref{L: all transversality is wrt embeddings}, it suffices to show that there is a proper  homotopy $H \colon M \times I \to M$ such that
	\begin{enumerate}
		\item $H(-,0) = \id$,
		\item $(H(-,1)r_V) \times \id_{\R^n} \colon V \times \R^n \to M \times \R^n$ is transverse to $e \colon X \to M \times \R^n$, and
		\item $(H (W \times \id_I)) \times \id_{\R^n}: W \times I \times \R^n \to M \times \R^n$ is transverse to $e$.
	\end{enumerate}
	To do so, we will run through the proof of \cref{P: ball stability} again, adapting it to this altered situation and referring back to that proof for some of the details.

	\begin{comment}
		\red{Note to Dev and Anibal: I know this is a bit redundant and \cref{P: ball stability} is arguably a special case with $n = 0$ (though there are a few other differences), but the proof of \cref{P: ball stability} is already very complicated so I didn't want to just do this more general version earlier.}
	\end{comment}

	As in the proof of \cref{P: ball stability}, we begin with the case where $W$ is compact.
	We will construct $F \colon M \times D^N \to M$, with $D^N$ the unit ball centered at $0$ in $\R^N$ for some $N$, such that

	\begin{enumerate}
		\item $F(-,0) = \id \colon M \to M$,
		\item for almost all $s \in D^N$ the composition $V \times \R^n \xr{r_V \times \id_{\R^n}} M \times \R^n \xr{F(-,s) \times \id_{\R^n}} M \times \R^n$ is transverse to $e \colon X \to M \times \R^n$,

		\item there is a ball neighborhood $D_r^N$ of $0$ in $D^N$ such that for all $s \in D_r^N$ the composition $W \times \R^n \xr{r_W \times \id_{\R^n}} M \times \R^n \xr{F(-,s) \times \id_{\R^n}}M \times \R^n$ is transverse to $e$.
	\end{enumerate}

	Given such an $F$, we let $s_0$ be any point in $D_r^N$ such that $V \times \R^n \xr{r_V \times \id_{\R^n}} M \times \R^n \xr{F(-,s_0) \times \id_{\R^n}} M \times \R^n$ is transverse to $e \colon X \to M \times \R^n$.
	Then let $H(-,t) = F(-,ts_0)$, i.e.\ $H(y,t) = F(y,ts_0)$.
	Then $H(-,0) = F(-,0) = \id$, and $H(-,1)r_V$ will be transverse to $r_X$ by our choice of $s_0$ and \cref{L: all transversality is wrt embeddings}.
	Finally, $ts_0 \in D_r^N$ for all $t \in I$, each $F(-,ts_0)r_W \times \id_{\R^n}$ is transverse to $e$, so $F(-,ts_0)r_W$ is transverse to $r_X$.
	Each $F(-,ts_0)r_W$ is the restriction of $H \circ (r_W \times \id) \colon W \times I \to M$ to a fixed $W \times t$, so this implies $H \circ (r_W \times \id)$ is transverse to $r_X$.
	This does not provide the properness of $H$, which we will discuss below.

	We now claim that we can construct $F$ almost exactly as in \cref{P: ball stability}.
	Recall that we let $M_\epsilon$ be an $\epsilon$-neighborhood of a proper embedding of $M$ into some $\R^N$ in the sense of the $\epsilon$-Neighborhood Theorem of \cite[Section 2.3]{GuPo74}, with $\epsilon$ a smooth positive function of $M$ and $M_\epsilon = \{z \in \R^N \mid |z-y|<\epsilon(y) \text{ for some }y \in M\}$.
	We may assume $\epsilon$ is a bounded function.
	Let $\pi_\epsilon: M_\epsilon \to M$ be the submersion.
	We define $f: M \times D^N \to M_\epsilon$ by $f(y, s) = y + \eta(y) s$, where $\eta \colon M \to \R$ is a smooth function such that $0 < \eta(y) < \epsilon(y)$ for all $y \in M$.
	As $\eta > 0$, this is clearly a submersion (onto its image) at all points.
	Then we let $F \colon M \times D^N \to M$ be the submersion $M \times D^N \xr{f}M_\epsilon \xr{\pi} M$ and let $\ms F \colon V \times D^N \to M$ be the composition $F \circ (r_V \times \id_{D^N})$.
	It is clear that $F(-,0) = \id_M$,
	Furthermore, the map $\ms F$, as well as each $\ms F|_{S^k(V)}$, is a submersion onto its image.
	Consequently the maps
	$$S^k(V) \times D^N \times \R^n \xr{\ms F \times \id_{\R^n}} M \times \R^n$$
	are also submersions onto their images.
	Thus they are all transverse to all the strata of $X$, embedded by $e$ into $M \times \R^n$.
	It follows by the Transversality Theorem of \cite[Section 2.3]{GuPo74} that for any stratum $S^j(X)$ of $X$, each $\ms F|_{S^k(V)}(-,s) \times \id_{\R^n}$ is transverse to $S^k(X)$ for almost all $s \in D^N$; note that $D^N$ remains our parameter space for invoking the Transversality Theorem, though we no longer write it as the last factor.
	As $X$ and $V$ each have finitely many strata and as the finite union of measure zero sets has measure zero, for almost all $s \in D^N$ we have all $\ms F|_{S^k(V)}(-,s) \times \id_{\R^n}$ transverse to all $S^j(X) \subset M \times \R^n$.
	So $\ms F(-,s) \times \id_{R^n}$ is transverse to $e$ for almost all $s \in D^N$.

	We also observe as in the proof of \cref{P: ball stability} that $H$ can be assumed proper, by replacing $\eta$ with a function with smaller values if necessary.

 	So it remains to show that if $W$ is compact (as we are currently assuming) and $r_W$ is transverse to $r_X$ (or, equivalently, $r_W \times \id_{\R^n}: W \times \id_{R^n} \to M \times \R^n$ transverse to $e$) then $(F(-,s) \circ r_W) \times \id_{\R^n} \colon W \times \R^n \to M \times \R^n$ is transverse to $e$ for all $s$ in some neighborhood $D_r^N$ of $0$ in $D^N$.
	Similarly to \cref{P: ball stability}, it is more convenient here to work with boundaries than with strata, recalling that, by \cref{L: simple trans}, to prove that two maps of manifolds with corners are transverse it is sufficient to show that their compositions with all pairs of boundary inclusions are naively transverse (see \cref{D: naive transversality}).
	Let $\Upsilon_k$ denote the composition $\Upsilon_k \colon \bd^k W \times D^N \xr{i_{\bd^k W} \times \id_{D^N}} W \times D^N \xr{r_W \times \id_{D^N}} M \times D^N \xr{F} M$.
	We must show that there is a $D_r^N$ such that for each $s\in D_r^N$ the maps $\Upsilon_k(-,s) \times \id_{\R^n}$ and $e i_{\bd^jX}$ are naively transverse for all $j,k$.
	We will sometimes provide the details only for $\Upsilon_0$, with $\bd^0 W$ being $W$ itself, when the other cases are analogous.

	We must start with two observations that were not needed in the proof of \cref{P: ball stability}.

	First, as we are currently assuming that $W$ is compact, $L_k = \Upsilon_k(\bd^k W \times \bar D^N_{1/2}) \subset M$ is compact, and so by \cref{L: compact preimage} we have $e(r_X^{-1}(L_k)) \subset M \times \bar B^n_k$ for some closed ball $\bar B^n_k \in \R^n$.
	In particular, this implies that for $|s| \leq 1/2$ only points in the compact set $\bd^k W \times \bar B^n_k$ can be taken by $\Upsilon_k(-,s) \times \id_{\R^n}$ to points of $e(X)$ in $M \times \R^n$.

	Second, we also have to be more careful here about the map $e \colon X \to M \times \R^n$, as its behavior can be more complicated than the embedding of a closed cube of a cubulation, in which each boundary component also embeds.
	Let $X_j = ei_{\bd^jX}(\bd^jX)$, the image of $\bd^jX$ in $M \times \R^n$.
	As the maps $i_{\bd^jX}$ are not necessarily embeddings, it will not generally be the case that $X_j \cong \bd^jX$.
	However, by \cite[Lemma 2.8]{Joy12}, the $i_{\bd^jX}$ are proper maps, so $X_j$ is a closed subset of $M \times \R^n$ (recall that proper maps are closed --- see \cite[Proposition I.10.1.1]{Bou98}).

	Now, suppose\footnote{In this argument we will use the symbol $w$ to refer to points in $W$ or $\bd^k W$, not the dimension of $W$.} $(w,z) \in W \times \bar B^n_0$, and let us fix $X_j$ as above.
	As $r_W$ is transverse to $r_X$ by assumption, $\Upsilon_0(-,0) \times \id_{\R^n} = r_W \times \id_{\R^n}$ is transverse to $e \colon X \to M \times \R^n$.
	So either $(r_W(w),z)\notin X_j$ or $r_W \times \id_{\R^n}$ is naively transverse to $ei_{\bd^jZ}$ at $(w,z)$ (recall \cref{D: naive transversality}).
	In the former case, as $X_j$ is closed, there is an open neighborhood $A_{(w,z)}$ of $(w,0,z) \in W \times D^N \times \R^n$ such that $(\Upsilon_0 \times \id_{\R^n})(A_{(w,z)}) \cap X_j = \emptyset$.
	On the other hand, suppose that $(r_W(w),z) \in X_j$ and $\Upsilon_0(-,0) \times \id_{\R^n}$ is naively transverse to $ei_{\bd^jX}$ at $(w,z)$.
	As $e$ is an embedding, the preimage of $(r_W(w),z)$ in $\bd^jX$ is the preimage of a point of $X$ under the boundary map $i_{\bd^jX}$, which is a finite set of points.
	Let $a \in \bd^jX$ be one point of this preimage.
	As the boundary maps are immersions, there is a neighborhood $C_a$ of $a$ in $\bd^jX$ on which $ei_{\bd^jX}$ restricts to an embedding from an $x-j$ dimensional manifold with corners into $M \times \R^n$.
	In fact, by choosing a chart that takes $0 \subset \R^{x-j}$ to $a$ and using the definition of a smooth map of manifolds with corners, $ei_{\bd^jX}$ (composed with the chart map) extends to a smooth immersion of a neighborhood of $0 \in \R^{x-j}$ into $M \times \R^n$.
	By further appealing to charts and local diffeomorphisms, we can identify a neighborhood of $(r_W(w),z)$ in $M \times \R^n$ with $\R^{m+n}$ and the image of the extension of $ei_{\bd^jX}$ with $\R^{x-j} \times 0 \subset \R^{m+n}$ (cf.\ the Local Immersion Theorem in \cite{GuPo74}).
	Making these identifications, the transversality assumption means that the composition of $D(\Upsilon_0(-,0) \times \id_{\R^n}) \colon T_wW \times T_z\R^n
	\to T_{(r_W(w),z)}(M \times \R^n)$ with the projection to the last $m+n-(x-j)$ coordinates is a linear surjection.
	As this is an open condition on the Jacobian matrix of $\Upsilon_0(-,0) \times \id_{\R^n}$ at $(w,z)$, it follows again that there is an open neighborhood $A_{(w,t),a}$ of $(w,0,z)$ in $W \times D_{1/2}^N \times \R^n$ such that for each $(w',s,z')$ in the neighborhood $\Upsilon_0(-,s) \times \id_{\R^n}$ is transverse to the restriction of $ei_{\bd^jX}$ to a neighborhood of $a$ (cf.\ the Stability Theorem in \cite{GuPo74}).
	As there are a finite number of possible choices for the point $a$ and the transversality assumptions must hold for all of them, by taking $A_{(w,z)} = \cap_a A_{(w,z),a}$ with the finite intersection running over all points of $\bd^jX$ that map to $(r_W(w),z)$, we obtain a neighborhood $A_{(w,z)}$ of $(w,0,z)$ in $W \times D_{1/2}^N \times \R^n$ such that for each $(w',s,z')$ in the neighborhood, $\Upsilon_0(-,s) \times \id_{\R^n} \colon W \times \R^n \to M \times \R^n$ is transverse to $ei_{\bd^jX}$ at $(w',z')$.

	Now, taking the union of the $A_{(w,z)}$ over all $(w,z) \in W \times \bar B^n_0$ gives a neighborhood $G_j$ of $W \times 0 \times \bar B^n_0$ in $W \times D_{1/2}^N \times \bar B^n_0$, and by the Tube Lemma, as $W \times \bar B^n_0$ is compact, there is a neighborhood of $W \times 0 \times \bar B^n_0$ of the form $W \times U_j \times \bar B^n_0$ in $G_j$.
	For each $s \in U_j$, we have $\Upsilon_0(-,s) \times \id_{\R^n} \colon W \times \bar B^n_0 \to M \times \R^n$ naively transverse to $ei_{\bd^jX}$.
	Furthermore, by the choice of $\bar B^n_0$, the map $\Upsilon_0(-,s) \times \id_{\R^n}$ takes no point of $W \times \R^n$ that is in the complement of $W \times \bar B^n_0$ to the image of $X$,
	so in fact $\Upsilon_0(-,s) \times \id_{\R^n} \colon W \times \R^n \to M \times \R^n$ is naively transverse to $ei_{\bd^jX}$.
	Repeating the argument for all of the finite $j$ such that $\bd^jX \neq \emptyset$ and taking $U^0 = \cap_j U_j$, we obtain a neighborhood of $0$ in $D_{1/2}^N$ on which $\Upsilon_0(-,s) \times \id_{\R^n} \colon W \times \R^n \to M \times \R^n$ is naively transverse to all $ei_{\bd^jX}$.
	By equivalent arguments, we can find open sets $U^k$ such that $\Upsilon_k(-,s) \times \id_{\R^n} \colon \bd^k W \times \R^n \to M \times \R^n$ is naively transverse to all $ei_{\bd^jX}$ for all $s \in U^k$ and all $k\geq 0$.
	Finally, taking $r$ sufficiently small so that $D_r^N \subset \cap_k U^k$, we obtain the desired $D_r^N$.

	This completes the proof of the proposition for $W$ compact.

	Next suppose that $W$ is no longer necessarily compact.

	We will continue to utilize $F \colon M \times I \to M$ as defined above, which did not rely on $W$ being compact.
	For $W$ not compact, the first two properties listed above for $F$ will continue to hold, but the third relied on compactness and so need not hold any long in general.
	However, the only places where we required compactness above were in defining $L_k$ and hence $\bar B^n_k$ via \cref{L: compact preimage}, and then in applying the Tube Lemma.
	So now let $K \subset W$ be compact.
	Then each $i_{\bd^k W}^{-1}(K)$ is also compact as the $i_{\bd^k W}$ are proper.
	Proceeding exactly as in the argument above, using $L_k = \Upsilon_k(i_{\bd^k W}^{-1}(K) \times \bar D^N_{1/2})$, we can find an open neighborhood
	$D_{r_K}^N$ of $0$ in $D^N$ such that for all $s \in D_{r_K}^N$ and any $k\geq 0$ we have that $\Upsilon_k(-,s) \times \id_{\R^n} \colon W \times \R^n \to M \times \R^n$ is naively transverse to all $ei_{\bd^j X}$ at all points of $i_{\bd^k W}^{-1}(K) \times \R^n$.\footnote{We note that this condition still concerns transversality of $\Upsilon_k(-,s) \times \id_{\R^n}$ as a map with domain $\bd^k W \times \R^n$, not $i_{\bd^k W}^{-1}(K) \times \R^n$, which may not be a manifold with corners. But we only consider this condition at points of $i_{\bd^k W}^{-1}(K) \times \R^n$.}

	\begin{comment}
		Let $L^K_k = \Upsilon_k(i_{\bd^k W}^{-1}(K) \times \bar D_{1/2}^N) \subset M$.
		Choosing an $X_j$ as above, we can now proceed exactly as in the precious argument, obtaining and taking the union of the resulting $A_{(w,z)} \subset W \times D_{1/2}^N \times \R^n$ over all $(w,z) \in K \times \bar B^n_0$ and intersecting with $K \times D^N \times \bar B^n_0$ gives an open neighborhood $G_j$ of $K \times 0 \times \bar B^n_0$ in $K \times D^N \times \bar B^n_0$, such that
		$\Upsilon_0(-,s) \times \id_{\R^n}$ is transverse to $ei_{\bd^j X}$ for all $(w,z) \in K \times \bar B^n_0$.
		Again we can use the Tube Lemma to find a neighborhood $U_j$ of $0$ in $D^N$ so that $K \times U_j \times \bar B^n_0 \subset G_j$, and then for every $s \in U_j$, we know that $\Upsilon_0(-,s) \times \id_{\R^n}$ is transverse to $ei_{\bd^j X}$ at every point of $K \times \R^n$, as points of $K \times \R^n$ outside of $K \times \bar B^n_0$ do not intersect $W_j$.
		Now, as above, by ranging over all of the finite options for $j$ and then similarly considering the $\bd^k W$ with subsets $i_{\bd^k W}^{-1}(K)$, maps $\Upsilon_k$, and balls $\bar B^n_k$, we can then find a neighborhood $U$ of $0$ in $D^N_{1/2}$ such that for all $s \in U$ we have $\Upsilon_k(-,s) \times \id_{\R^n}$ naively transverse to all $ei_{\bd^j X}$ at all points of $\bd^k W \times \R^n$, $k\geq 0$, that map to $K \times \R^n$ via the boundary immersions times $\id_{R^n}$.
	\end{comment}

	Let $\{\mc U_\ell\}$ be a locally finite covering of $M$ such that each $\bar{\mc U_\ell}$ is compact.
	As $r_W \colon W \to M$ is proper, each $r^{-1}_W(\bar {\mc U_\ell})$ is compact in $W$.
	Proceeding as just above with $r_W^{-1}(\bar U_\ell)$ in place of $K$, we can find for each $\ell$ an $\varepsilon_{\ell,k} \leq 1/2$ so that for every $s \in D^N_{\varepsilon_{\ell,k}}$ we have $\Upsilon_k(-,s) \times \id_{\R^n}$ naively transverse to all $ei_{\bd^j X}$ at every $(w,z) \in i_{\bd^k W}^{-1} r^{-1}_W(\bar {\mc U_\ell}) \times \R^n$.
	Let $\varepsilon_\ell = \min\{\varepsilon_{\ell,k} \mid k\geq 0\}$.
	These minima exist as $W$ has finite depth.

	Now, using \cref{L: minimizer}, we choose a smooth function $\phi \colon M \to \R$ such that for all $y \in M$ we have $0<\phi(y)<\epsilon_\ell$ if $y \in \bar{\mc U_\ell}$.
	Let $M \times_\phi D^N = \{(y,s) \in M \times D^N \mid |s|<\phi(y)\}$.
	By our construction, for all $k\geq 0$ we have $\Upsilon_k(-,s) \times \id_{\R^n} \colon \bd^k W \times \R^n \to M \times \R^n$ transverse to $ei_{\bd^j X}$ for at each $(w,s,z) \in \bd^k W \times D^N \times \R^n$ such that $(w,s) \in (r_Wi_{\bd^{k}W} \times \id_{D^N})^{-1}(M\times_\phi D^N) = \{(w,s) \in \bd^k W \times D^N \mid |s|<\phi(r_Wi_{\bd^k W}(w))\}$.

	We now modify our above constructions as follows.
	Let $\hat f: M \times D^N \to M_\epsilon \subset \R^N$ be given by $\hat f(y, s) = y +\phi(y) \eta(y) s$; as $\phi(y)\eta(y)>0$, this is again a submersion onto its image at all points.
	Let $\hat F \colon M \times D^N \to M$ be the composition $M \times D^N \xr{\hat f} M_\epsilon \xr{\pi_\epsilon} M$, and let $\hat \Upsilon_k$ be the composition $\bd^k W \times D^N \xr{i_{\bd^k W} \times \id} W \times D^N \xr{r_W \times \id} M \times D^N \xr{\hat F} M$ for $k\geq 0$.
	Once again employing the Transversality Theorem of \cite[Section 2.3]{GuPo74} as above, for almost all $s \in D^N$ we have $V \times \R^n \xr{r_V \times \id_{\R^n}} M \times \R^n \xr{\hat F(-,s) \times \id_{\R^n}} M \times \R^n$ transverse to $e \colon X \to M \times \R^n$.
	Letting $s_0$ be any such point we define $\hat H \colon M \times I \to M$ to be $\hat H(y,t) = \hat F(y,ts_0)$, and we claim that this $\hat H$ satisfies the conditions required by the proposition.

	The map $\hat H$ is proper again by \cref{L: nearby proper homotopy} because $\phi(y) \eta(y) \leq \eta(y)$.
	The first two conditions of the proposition follow immediately from the construction and preceding observations.
	Let $$\hat h_k = \hat H \circ (r_W i_{\bd^k W} \times \id_I): \bd^k W \times I \to M.$$
	By \cref{L: all transversality is wrt embeddings}, it remains to verify that each $$\hat h_k \times \id_{\R^n} \colon \bd^k W \times I \times \R^n \to M \times \R^n$$ is naively transverse to each $ei_{\bd^j X}$.
	\begin{comment}
		DO WE NEED ANY OF THIS??
		As we already know from the second condition of the proposition that $\hat h(-,1) \times \id_{\R^n}$ is transverse to $e$ and from the hypotheses that $\hat h(-,0)$ is transverse to $e$, it suffices to demonstrated transversality to $e$ of the restriction of $\hat h \times \id_{\R^n}$ to $X \times (0,1) \times \R^n$.
	\end{comment}
	From here, the argument is essentially the same as the end of the proof of \cref{P: ball stability} with the $\R^n$ factor just along for the ride.
	Again we focus primarily on $k=0$ to simplify notation slightly.

	In detail, for $(w,t) \in W \times I$ we can write $\hat h_0 \colon W \times I \to M$ explicitly as
	$$\hat h_0(w,t) = \pi_\epsilon(r_W(w)+\phi(r_W(w))\eta(r_W(w))ts_0).$$
	So, alternatively, we can observe that $\hat h_0 (w,t)$ is the composition
	\begin{equation}\label{E: perturb transverse to map}
		W \times I \xr{\Phi} W \times I \xhookrightarrow{\Psi} W \times D^N \xr{r_W \times \id} M \times D^N \xr{F} M,
	\end{equation}
	with $\Phi(w,t) = (w,\phi(r_W(w))t)$, $\Psi(w,t) = (w,ts_0)$, and noting that on the right we do mean our original $F$ and not $\hat F$.

	As $0 < \phi(r_W(w)) < 1$ for all $w \in W$, the first map $\Phi$ is a diffeomorphism onto its image, which is a neighborhood of $W \times 0$ in $W \times I$, and the map $\Psi$ embeds this into $W \times D^N$ by a product map that is constant in the $W$ direction and nontrivial linear in the second factor.
	The composition of the last two maps is just our earlier map $\Upsilon_0$.
	By construction, the map $r_W \times \id_{D^N}$ now takes the image of $\Psi\Phi$ into $M\times_\phi D^N$ (as $|s_0|<1$), and so at each point $(w,s,z)$ in the image of $\Psi\Phi \times \id_{\R^n}$ if we fix $s$ and consider $\Upsilon_0(-,s) \times \id_{\R^n}$ we get by construction a map on $W \times \R^n$ that is naively transverse at $(w,s,z)$ to each $ei_{\bd^j X}$.
	Let $(w,t) \in W \times I$, let $\Psi \Phi(w,t) = (\xi,s)$, and let $\R s_0$ denote the line in $\R^N = T_sD^N$ spanned by the position vector of $s_0$.
	As $\Phi$ is a diffeomorphism onto its image and $\Psi$ is an embedding that is the identity with respect to $W$ and nontrivial linear on $I$ for each fixed $w$, we see
	that the derivative of $\Psi\Phi$ maps the tangent space $T_{(w,t)}(W \times I)$ onto $T_\xi W \times \R s_0 \subset T_{(\xi,s)}(W \times D^N)$.
	In particular, this image contains $T_\xi W \times 0$, and we have established that $D(\Upsilon_0 \times \id_{\R^n})$ takes $T_w W \times 0 \times T_z\R^n$ to a tangent subspace in $M \times \R^n$ at $(\hat h_0(w,t),z)$ that is transverse to the tangent space there of each $ei_{\bd^j X}$.

	The same argument holds for each $k>0$ replacing $W$ with $\bd^{k}W$ in \eqref{E: perturb transverse to map} and $r_W$ with $r_{\bd^k W}$.
	So we see that $\hat H$ satisfies all the requirements of the proposition.
	\qedhere
	\begin{comment}
		But as $\Phi$ is a diffeomorphism onto its image and $\Psi$ is an embedding that is the identity with respect to $X$, we see $\Psi\Phi$ takes a neighborhood of any $(x,t) \in X \times (0,1)$ to a neighborhood of its image in $X \times \R s_0$, where $\R s_0$ is the line in $\R^N$ spanned by $s_0$.
		In particular, the derivative of $\Psi\Phi$ maps the tangent space to $X \times (0,1)$ at $(x,t)$ onto $ T_xX \times \R s_0 \subset T_{\Psi\Phi(x,t)}(X \times D^N)$.
		So for any $(x,t,z) \in X \times (-1,1) \times \R^n$, the image of $T_{(x,t,z)}(X \times (-1,1) \times \R^n)$ under
		$D(\Psi\Phi \times \id_{\R^n})$ contains $T_xX \times 0 \times \R^n$.
		By our construction, $DH_1$ takes this tangent space to a tangent subspace in $M \times \R^n$ at $\hat h(x,t)$ that is transverse to the images of all $D(ei_{\bd^jW})$.
		The same holds for $k>1$ replacing $X$ with $\bd^{k}V$ and $r_X$ with $r_{\bd^{k}V}$.
		So we see that $\hat h$ satisfies all the requirements of the proposition.
	\end{comment}
\end{proof}

Finally, we prove \cref{T: transverse reps}.

\begin{proof}[Proof of \cref{T: transverse reps}]
	Given \cref{L: compact preimage}, the proof is very analogous to that of \cref{T: transverse complex}.

	Let $r_W \colon W \to M$ be a proper map from a manifold with corners to a manifold without boundary, and let $\uV \in C_*^\Gamma(M)$ (or $C^*_\Gamma(M)$) be a cycle (or cocycle).
	Let $r_V \colon V \to M$ be any representative for $\uV$.
	By \cref{P: perturb transverse to map} there is a proper homotopy $H \colon M \to I$ such that $H(-,1)r_V$ is transverse to $r_W$.
	By \cref{D: universal homotopy,P: universal homotopy}, $H(-,1)r_V$ represents the same homology or cohomology class as $V$.

	Next, suppose $V$ is transverse to $W$ and there is a pre(co)chain $Z$ such that $\bd Z \sqcup -V \in Q(M)$.
	We consider first the case where $V$ is a precochain.
	By \cref{P: perturb transverse to map}, there is a proper homotopy $H$ such that $H(-,1)r_Z$ is transverse to $r_W$ and $V \times I \xr{r_V \times \id_I} M \times I \xr{H} M$ is transverse to $r_W$.
	Let $Z'$ denote the precochain $Z \xr{H(-,1)r_Z} M$, let $V'$ be the precochain $V \xr{H(-,1)r_V} M$, and let $Y$ be the precochain $V \times I \xr{H\circ (r_V \times \id_I)} M$.
	Let $A$ be the precochain $Z' \sqcup -Y$, which is transverse to $r_W$.
	We note that $\bd Z' \sqcup -V'$ is the image of $\bd Z \sqcup -V$ after composing with $H(-,1)$, and so it is in $Q(M)$ by \cref{L: Q preservation}, using that we can co-orient $H$ and $H(-,1)$ as in \cref{S: co-oriented homotopy}.
	We also have $\bd Y = V' \sqcup -V \sqcup B$, where $B$ is the precochain $\bd V \times I \xr{H\circ (r_{\bd V} \times \id_I)} M$ (cf. the proof of \cref{C: homotopy}).
	We now compute
	\begin{align*}
		\bd A \sqcup -V &= \bd Z' \sqcup -\bd Y \sqcup -V\\
		&= \bd Z' \sqcup -(V' \sqcup -V \sqcup B) \sqcup -V\\
		&= \bd Z' \sqcup -V' \sqcup V \sqcup -V \sqcup -B.
	\end{align*}
	We have already noted $\bd Z' \sqcup -V' \in Q(M)$ and $V \sqcup -V$ is trivial.
	Since $V$ represents a cycle, $\bd V \in Q^*(M)$ and hence $B \in Q^*(M)$ by \cref{L: dessicated homotopy}.
	So $\bd A \sqcup -V \in Q^*(M)$ and $A$ is transverse to $r_W$.
	So $A$ is our desired replacement for $Z$.

	In the oriented case, we instead have $\bd Y = (-1)^{v} V' \sqcup (-1)^{v+1} V \sqcup B$, identifying $V \times I$ with $V \times_{pt} I$ and applying \cref{P: oriented fiber boundary} (again cf.\ the proof of \cref{C: homotopy}).
	In this case, we let $A = Z' \sqcup (-1)^{v+1} Y$.
	Then
	\begin{align*}
		\bd A \sqcup -V &= \bd Z' \sqcup (-1)^{v+1}\bd Y \sqcup -V\\
		&= \bd Z' \sqcup (-1)^{v+1}((-1)^{v} V' \sqcup (-1)^{v+1} V \sqcup B) \sqcup -V\\
		&= \bd Z' \sqcup -V' \sqcup V \sqcup -V \sqcup (-1)^{v+1}B,
	\end{align*}
	and this is in $Q(M)$ for the same reasons as above.
\end{proof}


\begin{remark}\label{R: countable trans2}
As in \cref{R: countable trans}, and for the same reasons, the proof of \cref{T: transverse reps} allows use to extend the first part of theorem, concerning finding a representative $V$ of $\uV$ that is transverse to $W$, to finding a $V$ that is transverse to each of a countable collection $W_i$.
\end{remark}




\subsection{The Kronecker pairing and the Universal Coefficient Theorem for geometric cohomology}

When applying the cap product to cohomology and homology classes of the same degree, we can compose with the augmentation map $\aug \colon H_0^\Gamma(M) \to \Z$ of \cref{D: aug} to obtain a bilinear Kronecker pairing
$$H^i_\Gamma(M) \otimes H_i^\Gamma(M) \xr{\nplus} H_0^\Gamma(M) \to \Z.$$
Taking the adjunct then provides a map
$$\alpha: H^i_\Gamma(M) \to \Hom(H_i^\Gamma(M),\Z).$$
Tracing through the definitions, this maps acts by counting the intersection number between a geometric chain and a geometric cochain in the sense of \cref{D: intersection number}.

When $H^i_\Gamma(M)$ is finitely generated, this map fits into a short exact sequence, just as for singular cohomology.

\begin{theorem}\label{T: UCT}
	If $H^i_\Gamma(M)$ is finitely generated, there is a short exact sequence
	\[
	0 \to \Ext\left(H_{i-1}^\Gamma(M),\Z\right) \to H^i_\Gamma(M) \xr{\alpha} \Hom\left(H_i^\Gamma(M),\Z\right) \to 0.
	\]
\end{theorem}

\begin{remark}
	The existence of a Universal Coefficient exact sequence holds even if $H^i_\Gamma(M)$ is not finitely generated, as we know by \cref{T: geometric is singular} that $H^i_\Gamma(M) \cong H^i(M)$, and then we have the usual singular cohomology Universal Coefficient Theorem.
	We can further identify $\Hom(H_i(M),\Z)$ and $\Ext(H_{i-1}(M),\Z)$ with $\Hom(H^\Gamma_i(M),\Z)$ and $\Ext(H^\Gamma_{i-1}(M),\Z)$, also using \cref{T: geometric is singular}.
	The reason we need to invoke finite generation in \cref{T: UCT} is that we use \cref{T: intersection qi}, which has that condition, in the proof. What we lose from \cref{T: UCT} by following instead the approach outlined in this remark is the identification of the map $H^i_\Gamma(M) \to \Hom(H_i^\Gamma(M),\Z)$ with the map $\alpha$ given by counting intersection numbers.
\end{remark}

\begin{proof}[Proof of \cref{T: UCT}]
	Let $M$ have a cubulation $X$, let $\mc I \colon C_{\Gamma \pf X}^*(M) \to K^*(X)$ be the intersection map of \cref{D: intersection homomorphism},
	and let $\mc J \colon K_*(X) \to C^\Gamma_*(M)$ be the map inducing the homology isomorphism of \cref{T: cubical homology iso}.
	We consider the diagram
	\[
	\begin{tikzcd}
		H^i_\Gamma(M) \arrow[r, "\alpha"] & \Hom(H_i^\Gamma(M),\Z) \arrow[dd, "\cong", "\mc J^*"'] \\
		H^i(C^*_{\Gamma \pf X}(M)) \arrow[u, "\cong"'] \arrow[d, "\cong", "\mc I"'] & \\
		H^i(K^*(X)) \arrow[r] & \Hom(H_i(K_*(X)), \Z).
	\end{tikzcd}
	\]
	The vertical maps on the left are isomorphisms by \cref{T: transverse complex,T: intersection qi}, while the right hand vertical map is an isomorphism by \cref{T: cubical homology iso}.
	We claim the diagram commutes.
	In fact, let $V \in PC_\Gamma^i(M)$ represent an element of $H^i(C^*_{\Gamma \pf X}(M))$.
	Then $V$ is transverse to the cubulation, and by definition the path clockwise around the diagram takes $\uV$ to a map that acts on an element $\xi$ of $H_*(K_*(X))$ represented by a $\Z$-linear combination of cubical faces $\sum_j c_j E_j$ by treating each $E_j$ as a geometric chain and forming
	$$\aug\left( V \times_M \sum_jc_jE_j\right) = \sum_jc_j\aug(V \times_M E_j).$$

	On the other hand, by \cref{D: intersection homomorphism}, the composition counterclockwise takes $\uV$ to a map that acts on $\xi$ by $\sum_j c_j I_M(V,E_j)$.
	But $I_M(V,E_j)$ is precisely $\aug(V \times_M E_j)$ by \cref{D: intersection number}.
	So the diagram commutes.

	We know that $K_i(X)$ is a free abelian group, so the bottom map of the diagram is a surjection by the algebraic Universal Coefficient Theorem, with kernel $\Ext(H_{i-1}(K_*(X)),\Z)$.
	The commutativity of the diagram thus implies that the top map of the diagram is a surjection with isomorphic kernel.
	To complete the proof, we again invoke \cref{T: cubical homology iso} to observe $\Ext(H_{i-1}(X),\Z) \cong \Ext(H^\Gamma_{i-1}(X),\Z)$.
\end{proof}

\begin{remark}
	Note that while we obtain the expected Universal Coeficient Theorem relating geometric cohomology and homology, we do not claim to have either an isomorphism or a quasi-isomorphism between $C^i_\Gamma(M)$ and $\Hom(C_i^\Gamma(M),\Z)$.
	In fact, as we do not know $C_*^\Gamma(M)$ to be a complex of free abelian groups (which we leave as an open question), it is not clear $\Hom(C_i^\Gamma(M),\Z)$ fits into a short exact Universal Coefficient-type sequence at all.
\end{remark}

\subsection{The geometric cup product is the usual cup product}\label{S: usual cup}

In this section we show that the geometric cup product agrees with the singular cup product in the sense that there is a natural ring isomorphism between singular cohomology $H^*(-)$ with the usual cup product and geometric cohomology $H^*_\Gamma(-)$ with the cup product $\uplus$.

\begin{theorem}\label{T: intersection is cup product}
	On the category of smooth manifolds without boundary and continuous maps, there are natural isomorphisms of functors $\Phi_p \colon H^p(-) \to H^p_\Gamma(-)$, $p \geq 0$, from singular cohomology to geometric cohomology that are also compatible with cup products.
	In other words, for each manifold without boundary $M$ there is a commutative diagram
	\[
	\begin{tikzcd}
		H^p(M) \otimes H^q(M) \arrow{r}{\smile} \arrow{d}{\Phi_p \otimes \Phi_q} &
		H^{p+q}(M) \arrow{d}{\Phi_{p+q}} \\
		H^p_\Gamma(M) \otimes H^q_\Gamma(M) \arrow{r}{\uplus} & H^{p+q}_\Gamma(M).
	\end{tikzcd}
	\]
\end{theorem}

Our proof is based on an axiomatic characterization of the cup product on manifolds due to Kreck and Singhof \cite[Proposition 12]{Krec10b}.
As the proof of this proposition is only sketched in \cite{Krec10b}, we first fill in the details, restricting ourselves to $\Z$ coefficients and changing Kreck and Singhof's notation a bit to avoid conflicts with our earlier notation.
Before stating the result, we establish some further notation and conventions for this section.

In this section we assume the spheres $S^p$, $p>0$, to each have a fixed orientation.
We also want these orientations to be compatible in the sense that the composition $\nu \colon S^p \times S^q \to S^p \wedge S^q \cong S^{p+q}$ is orientation preserving away from the subspace that is collapsed to form the wedge product.
In particular, if $[S^p]$ and $[S^q]$ are the corresponding fundamental classes, the quotient should take $[S^p] \times [S^q]$ to $[S^{p+q}]$.
This can be arranged, for example, by modeling our spheres as the standardly-oriented cubes with their boundaries collapsed.
For each $p>0$, we let $s_p \in H^p(S^p) \cong \Hom(H_p(S^p), \Z)$ be the cohomology class that evaluates to $1$ on $[S^p]$.
Let $\pi_1 \colon S^p \times S^q \to S^p$ and $\pi_2 \colon S^p \times S^q \to S^q$ be the projections.

We let $K_p = K(\Z,p)$, $p>0$, be the Eilenberg-MacLane spaces, which we can assume have been constructed as CW complexes such that the $p+1$-skeleton of $K_p$ is $S^p$.
Let $\iota_p \in H^p(K_p)$ denote the fundamental class such that if $\phi_p \colon S^p \to K_p$ is the inclusion, then $\phi_p^*(\iota_p) = s_p$.
As the $p+1$ skeleton of $K_p$ is the image of $S^p$ under $\phi_p$, it is standard that $\phi_p^*$ is an isomorphism.
We also let $\mu \colon K_p \times K_q \to K_{p+q}$ be the unique-up-to-homotopy map that extends the collapse map $\nu$.

For $M$ connected, we always assume $H^0(M) \cong \Z$ generated by the class of the cochain $1 \in C^0(M)$,  i.e.\ the cochain that evaluates to $1$ on each singular $0$-simplex.
Then for $\lambda \in \Z$, we write $\lambda$ also for the class $\lambda 1$,.

\begin{proposition}[Kreck and Singhof, Proposition 12 of \cite{Krec10b}]\label{P: Kreck-Singhof pairing}
	Consider singular cohomology $H^*(-)$ as a cohomology theory on smooth manifolds\footnote{As defined in \cite{Krec10b}; see the proof of \cref{T: geometric is singular} above.}.
	Suppose $\star$ is a natural multiplication on $H^*(-)$ such that if $M$ is connected and $\lambda \in H^0(M)$ then $\lambda\star \alpha = \alpha\star \lambda = \lambda\alpha$ for all $\alpha \in H^*(M)$ (and with the obvious extension when $M$ is not connected).
	Then if\footnote{Rather than $s_p \times s_q$, Kreck and Singhof require $\pi_1^*(s_p) \star \pi_2^*(s_q)$ to be the element of $H^{p+q}(S^p \times S^q)$ that evaluates to $1$ on the fundamental class of $S^p \times S^q$, but with our conventions that tensor products of cochains act by $(\alpha \otimes \beta)(x \otimes y) = \alpha(x)\beta(y)$, these are the same cohomology class (c.f.\ \cite[page 245]{Span81} and \cite[Section 3B]{Hatc02}.
	} $\pi_1^*(s_p) \star \pi_2^*(s_q) = s_p \times s_q \in H^{p+q}(S^p \times S^q)$ for all $p,q\geq 1$, the product $\star$ is the cup product.
\end{proposition}

\begin{proof}
	For a smooth manifold $M$, let $\alpha \in H^p(M)$ and $\beta \in H^q(M)$.
	The condition that $\lambda\star \alpha = \alpha\star \lambda = \lambda\alpha$ whem $M$ is connected already guarantees that $\star$ is the cup product when $p$ or $q$ is $0$, so we can suppose $p,q>0$.
	As $H^*$ is ordinary singular cohomology, we know that $\alpha$ and $\beta$ can be represented by maps $\bar \alpha \colon M \to K_p$ and $\bar\beta \colon M \to K_q$ with $\alpha = \bar \alpha^*(\iota_p)$ and $\beta = \bar\beta^*(\iota_q)$.
	Furthermore, $\alpha\smile \beta$ is the pullback of $\iota_{p+q}$ by the composition
	\begin{equation}\label{E: EM cross}
		M \xr{\diag} M \times M \xr{\bar\alpha \times \bar \beta} K_p \times K_q \xr{\mu} K_{p+q},
	\end{equation}
	while similarly $s_p \times s_q$ is the pullback of $\iota_{p+q}$ by
	\begin{equation}\label{E: sphere cross}
		S^p \times S^q \xr{\phi_p \times \phi_q} K_p \times K_q \xr{\mu} K_{p+q};
	\end{equation}
	see \cite[Section 4.3]{Hatc02}.

	As we will want to apply the naturality of $\star$ in the category of smooth manifolds, we will choose manifold replacements for $K_p$, $K_q$, and $K_{p+q}$.
	In particular, suppose we realize $K_p$ as a CW complex by the standard constructions and let $K_p^N$ be the $N$-skeleton of $K_p$ with $N$ much larger than $\dim(M)$.
	Then $K_p^N$ is homotopy equivalent to a finite simplicial complex \cite[Theorem 2C.5]{Hatc02}, and we can embed it simplicially into some Euclidean space and take an open regular neighborhood to get a smooth manifold $\mc K_p$ homotopy equivalent to the $N$-skeleton of $K_p$.
	We define $\mc K_q$ and $\mc K_{p+q}$ analogously, using a large enough skeleton $K^{N'}_{p+q}$ of $K_{p+q}$ for the restriction of $\mu$ to $K_p^N \times K_q^N \to K_{p+q}^{N'}$ to be defined.
	Abusing notation, we continue to write $\bar \alpha$, $\bar \beta$, $\phi_p$, $\mu$, etc.
	for the maps involving these manifold replacements of the $K_*$.
	These replacements will be sufficient for all cohomology and homotopy computations required in what follows.

	Next we make two more preliminary observations.
	The first is that it follows from $\star$ being natural with respect to pullbacks that, when $f^*$ is an isomorphism, the product $\star$ is also natural with respect to $(f^*)^{-1}$, as we see by applying the isomorphism $f^*$ to the claimed identity $(f^*)^{-1}(x)\star (f^*)^{-1}(y) = (f^*)^{-1}(x\star y)$.
	The second is that there is an evident commutative diagram
	\begin{equation}\label{D: projections}
		\begin{tikzcd}
			H^p(\mc K_p) \arrow{r}{\pi_1^*} \arrow[d, "\phi_p^*"] &
			H^p(\mc K_p \times \mc K_q) \arrow[d, "(\phi_p \times \phi_q)^*"] \\
			H^p(S^p) \arrow{r}{\pi_1^*} & H^p(S^p \times S^q)
		\end{tikzcd}
	\end{equation}
	and similarly for $\pi_2$, abusing notation to write $\pi_1$ and $\pi_2$ for the projections to the first and second factors for both pairs of spaces.
	Now we compute:
	\begin{comment}
		Now, we consider the diagram
		\begin{diagram}
			H^{p+q}(M)&\lTo^{\diag^*(\bar \alpha \times \bar \beta)^*}& H^{p+q}(\mc K_p \times \mc K_q)&\lTo^{\mu^*}&H^{p+q}(\mc K_{p+q})\\
			&&\dTo^{(\phi_p \times \phi_q)^*}&&\dTo^{\phi_{p+q}}\\
			&&H^{p+q}(S^p \times S^q)&\lTo^{\nu^*}&H^{p+q}(S^{p+q}).
		\end{diagram}
		As the $p+1$ skeleton of $K_p$ can be taken to be the image of $S^p$ under $\phi_p$, it is standard that the vertical maps are isomorphisms.

		Again by \cite[Section 4.3]{Hatc02}, $\mu^*(\iota_{p+q}) = \iota_p \times \iota_q$, so $\alpha\smile \beta = \diag^*(\bar \alpha \times \bar \beta)^*(\iota_p \times \iota_q)$.
		So we compute as follows.
	\end{comment}
	\begin{align*}
		\alpha\smile \beta& = \diag^*(\bar \alpha \times \bar \beta)^*\mu^*(\iota_{p+q})&\text{see \eqref{E: EM cross}}\\
		& = \diag^*(\bar \alpha \times \bar \beta)^*((\phi_p \times \phi_q)^*)^{-1}(\phi_p \times \phi_q)^*\mu^*(\iota_{p+q})\\
		& = \diag^*(\bar \alpha \times \bar \beta)^*((\phi_p \times \phi_q)^*)^{-1}(s^p \times s^q)&\text{see \eqref{E: sphere cross}}\\
		& = \diag^*(\bar \alpha \times \bar \beta)^*((\phi_p \times \phi_q)^*)^{-1}(\pi_1^*(s_p) \star \pi_2^*(s_q))&\text{by assumption}\\
		& = \diag^*(\bar \alpha \times \bar \beta)^*(((\phi_p \times \phi_q)^*)^{-1}\pi_1^*(s_p) \star ((\phi_p \times \phi)^*)^{-1}\pi_2^*(s_q))&\text{by naturality}\\
		& = \diag^*(\bar \alpha \times \bar \beta)^*(\pi_1^*(\phi_p^*)^{-1}(s_p) \star \pi_2^*(\phi_q^*)^{-1}(s_q))&\text{by diagram \eqref{D: projections}}\\
		& = \diag^*(\bar \alpha \times \bar \beta)^*(\pi_1^*(\iota_p) \star \pi_2^*(\iota_q))\\
		& = (\diag^*(\bar \alpha \times \bar \beta)^*\pi_1^*(\iota_p)) \star (\diag^*(\bar \alpha \times \bar \beta)^*\pi_2^*(\iota_q))&\text{by naturality}\\
		& = \bar\alpha^*(\iota_p) \star \bar\beta^*(\iota_q)&\text{see below}\\
		& = \alpha\star\beta &\text{by definition}.
	\end{align*}
	For the penultimate equality, we have used that the composition of maps $$M \xr{\diag}M \times M \xr{\bar\alpha \times \bar \beta}K_p \times K_q \xr{\pi_1}K_p$$ is just $\bar \alpha$, and similarly for $\bar \beta$.
\end{proof}


	Now, recall that in the proof of \cref{T: geometric is singular}, which established an isomorphism between geometric and singular cohomology, we applied \cite[Theorem 10]{Krec10b}.
	That theorem of Kreck-Singhof shows that there is a natural isomorphism of these cohomology theories on the category of smooth manifolds and continuous maps.
	In fact, it shows there is such an isomorphism extending any given isomorphism of coefficients $\Phi_0 \colon H^0(pt) \to H^0_\Gamma(pt)$ to natural isomorphisms $\Phi_p \colon H^p(-) \to H^p_\Gamma(-)$ for all $p\geq 0$.
	We will here assume $\Phi_0$ chosen so that it takes $1 \in H^0(pt)$ to the element $\underline{pt} \in H^0_\Gamma(pt)$ represented by the identity $pt \to pt$ with tautological co-orientation (see \cref{E: first examples}).

	For the proof of \cref{T: intersection is cup product}, we need to arrange that for all $p\geq 1$ we have $\Phi_p(s_p) = s_p^\Gamma$, where
	$s_p \in H^p(S^p)$ is our preferred generator described above and $s_p^\Gamma \in H^p_\Gamma(S^p)$ is the generator represented by an embedded point with normal co-orientation agreeing with our chosen orientation of $S^p$.
	This will not necessarily be the case for the $\Phi_p$ output by \cref{T: geometric is singular}.
	However, part of the data for a cohomology theory in the Kreck-Singhof theory consists of the natural connecting maps $\delta$ of the Mayer--Vietoris sequence, and part of the output of the theorem is that the isomorphisms $\Phi_p$ commute with these connecting maps.
	Let us write the connecting map for a cohomology theory $h^*$ more explicitly as $h^p(U \cap V) \xr{\delta_p}h^{p+1}(U \cup V)$; we will generally write $\delta_p$ for the connecting map independent of which cohomology theory we are discussing.
	Of course if we replace a given $\delta_p$ by $-\delta_p$ for all spaces, then we still have a natural connecting map, and we will not have affected the exactness of the Mayer--Vietoris sequence.
	If we make such a change, we technically have a new cohomology theory with the same cohomology groups, but \cite[Theorem 10]{Krec10b} will output different isomorphisms $\Phi_p$.
	As \cref{T: intersection is cup product} does not particularly care about the signs of the connecting maps in the Mayer--Vietoris sequence, we will first tinker with the connecting maps in order to arrange that $\Phi_p(s_p) = s_p^\Gamma$ for all $p\geq 1$.
\begin{comment}
	Then we will be able to show the resulting $\Phi_p$ satisfy \cref{T: intersection is cup product}.
\end{comment}

\begin{lemma}\label{L: connecting signs}
	Possibly by changing the signs of the connecting morphisms in the Mayer-Vietoris sequences for geometric cohomology, we can arrange for $\Phi_p(s_p) = s_p^\Gamma$ for all $p \geq 1$, where $\Phi_p \colon H^p(-) \to H^p_\Gamma(-)$ are the isomorphisms output by \cref{T: geometric is singular} given $\Phi_0(1) = \underline{pt}$, as above.
\end{lemma}
\begin{proof}
	Let
	\begin{align*}
		U_p& = \{(x_1,\ldots,x_{p+1}) \in S^p \mid x_{p+1}>-1/2\}\\
		V_p& = \{(x_1,\ldots,x_{p+1}) \in S^p \mid x_{p+1}<1/2\}.
	\end{align*}
	Then the equatorial inclusion $S^{p-1} \into U_p \cap V_p$ is a homotopy equivalence.
	We will abuse notation and let $s_p$ also denote its image under the isomorphism $H^{p}(S^p) \cong  H^{p}(U_{p+1} \cap V_{p+1})$ induced by the homotopy equivalence.
	For $p\geq 1$, we now choose the sign of $\delta_p \colon H^{p}(U_{p+1} \cap V_{p+1}) \to H^{p+1}(S^{p+1})$ so that $\delta_p(s_p) = s_{p+1}$.
	Similarly, for geometric cohomology we arrange for $\delta_p(s_p^\Gamma) = s_{p+1}^\Gamma$.
	For $p = 0$, to avoid confusion let us write $z_- = -1 \in \R$ and $z_+ = 1 \in \R$.
	We let $s_0$ be the element of $H^0(S^0) \cong \Z^2$ that restricts to $1 \in H^0(z_+)$ and $0 \in H^0(z_-)$.
	Similarly, let $s_0^\Gamma \in H^0_\Gamma(S^0)$ be represented by the identity map of $z_+$ with its tautological co-orientation, and then $s_0^\Gamma$ is the element of $H^0_\Gamma(S^0) \cong \Z^2$ that restricts to $\underline{pt} \in H^0_\Gamma(z_+)$ and $0 \in H^0_\Gamma(z_-)$.
	Then we choose the signs of $\delta_0$ so that $\delta_0(s_0) = s_{1}$ and $\delta_0(s_0^\Gamma) = s_{1}^\Gamma$.

	Taking $H^*(-)$ and $H^*_\Gamma(-)$ with these Mayer--Vietoris connecting maps and this $\Phi_0 \colon H^0(pt) \to H^0_\Gamma(pt)$, \cite[Theorem 10]{Krec10b} gives natural isomorphisms $\Phi_p \colon H^p(-) \to H^p_\Gamma(-)$ extending $\Phi_0$ on a point.
	The naturality implies that $\Phi_0(s_0) = s_0^\Gamma$.
	It now follows by induction, using the following diagram due to the commutativity of $\Phi_*$ with the connecting maps, that $\Phi_p(s_p) = s_p^\Gamma$ for all $p$:
	\[
	\begin{tikzcd}
		H^p(S^p) \cong H^p(U_{p+1} \cap V_{p+1}) \arrow{r}{\delta_p} \arrow[d, "\Phi_p"] &
		H^{p+1}(U_{p+1} \cup V_{p+1}) = H^{p+1}(S^{p+1}) \arrow[d, "\Phi_{p+1}"] \\
		H^p_\Gamma(S^p) \cong H^p_\Gamma(U_{p+1} \cap V_{p+1}) \arrow{r}{\delta_p} &
		H_\Gamma^{p+1}(U_{p+1} \cup V_{p+1}) = H^{p+1}_\Gamma(S^{p+1}).
	\end{tikzcd}
	\]
\end{proof}

\begin{corollary}\label{C: sphere product}
	Given $\Phi_p \colon H^p(-) \to H^p_\Gamma(-)$ as in \cref{L: connecting signs}, then $\Phi_{p+q}(s_p \times s_q) = s_p^\Gamma \times s_q^\Gamma$ for all $p,q \geq 1$.
\end{corollary}


\begin{proof}
	Recall the maps $\nu \colon S^p \times S^q \to S^p \wedge S^q \cong S^{p+q}$ and $\mu \colon K_p \times K_q \to K_{p+q}$, defined above.
	We consider the following diagram, which commutes by the naturality of $\Phi_{p+q}$:
	\[
	\begin{tikzcd}
		H^{p+q}(S^p \times S^q) \arrow{d}{\Phi_{p+q}} &
		H^{p+q}(S^{p+q}) \arrow[l, "\nu^*"'] \arrow{d}{\Phi_{p+q}} \\
		H^{p+q}_\Gamma(S^p \times S^q) &
		H_\Gamma^{p+q}(S^{p+q}) \arrow[l, "\nu^*"'].
	\end{tikzcd}
	\]
	Let $s_{p+q}^\Gamma$ be represented by the embedding of a point at $y \in S^{p+q}$, normally co-oriented consistently with the orientation of $S^{p+q}$.
	By possibly choosing a different $y$ if necessary, we can also choose a smooth map homotopic to $\nu$ that maps a Euclidean neighborhood of some point $x \in S^p \times S^q$ by an orientation-preserving diffeomorphism onto a neighborhood of $y$, taking $x$ to $y$ and the complement of the neighborhood of $x$ to the complement of the neighborhood of $y$.
	Then, from the definitions, the pullback of $s_{p+q}^\Gamma$ is the embedding of $x$ into $S^p \times S^q$ with normal co-orientation corresponding to the orientation of $S^p \times S^q$.
	By \cref{E: sphere product}, this is exactly $s_p^\Gamma \times s_q^\Gamma$, i.e.\ $\nu^*(s_{p+q}^\Gamma) = s_p^\Gamma \times s_q^\Gamma$.
	So, recalling that $\Phi_p(s_{p+q}) = s_{p+q}^\Gamma$, we have $\nu^*\Phi_{p+q}(s_{p+q}) = s_p^\Gamma \times s_q^\Gamma$.
	Thus, from the commutativity of the diagram and $\Phi_{p+q}$ being an isomorphism, it suffices to show that $\nu^*(s_{p+q}) = s_p \times s_q$.

	For this, consider the commutative diagram
	\[
	\begin{tikzcd}
		H^{p+q}(K_p \times K_q) \arrow[d, "(\phi_p \times \phi_q)^*"] &
		\arrow[l, "\mu^*"'] H^{p+q}(K_{p+q}) \arrow[d, "\phi_{p+q}^*"] \\
		H^{p+q}(S^p \times S^q) & \arrow[l, "\nu^*"'] H^{p+q}(S^{p+q}).
	\end{tikzcd}
	\]
	As the $p+q+1$ skeleton of $K_p \times K_q$ is $S^p \times S^q$, the vertical maps are isomorphisms.
	And we know from \eqref{E: sphere cross} and the definitions that
	$$(\phi_p \times \phi_q)^*\mu^*(\phi_{p+q}^*)^{-1}(s_{p+q}) = (\phi_p \times \phi_q)^*\mu^*(\iota_{p+q})\\
	= s_p \times s_q,$$
	so we must have $\nu^*(s_{p+q}) = s_p \times s_q$, as needed.
\end{proof}


We can now apply \cref{L: connecting signs,C: sphere product} to prove \cref{T: intersection is cup product}.

\begin{proof}[Proof of \cref{T: intersection is cup product}]
	Applying \cref{L: connecting signs}, we assume isomorphisms $\Phi_p \colon H^p(-) \to H^p_\Gamma(-)$, $p \geq 0$, such that $\Phi_p(s_p) = s_p^\Gamma$ for all $p \geq 0$.

	For each $M$, we can now define pairings $\star$ on $H^p(-) \otimes H^q(-) \to H^{p+q}(-)$ by the composition
	\[
	H^p(M) \otimes H^q(M) \xr{\Phi_p \otimes \Phi_q}
	H^p_\Gamma(M) \otimes H^q_\Gamma(M) \xr{\uplus}
	H^{p+q}_\Gamma(M) \xr{\Phi_{p+q}^{-1}}
	H^{p+q}(M).
	\]
	This pairing is natural, as all the maps are natural.
	We will apply \cref{P: Kreck-Singhof pairing} to show that this is really the cup product, which will prove the theorem.

	We first show that if $M$ is connected and $\lambda \in H^0(M) \cong \Z$ then $\lambda\star \alpha = \alpha\star \lambda = \lambda\alpha$ for all $\alpha \in H^*(M)$.
	Let $pt$ be an arbitrary point in $M$.
	By the naturality of $\Phi_0$, the following diagram, in which the horizontal maps are induced by the inclusion $pt \into M$, commutes:
	\[
	\begin{tikzcd}
		H^0(M) \arrow{r} \arrow[d, "\Phi_0"] & H^0(pt) \arrow[d, "\Phi_0"] \\
		H_\Gamma^0(M) \arrow{r} & H_\Gamma^0(pt)
	\end{tikzcd}
	\]
	The vertical maps are isomorphisms by our application of \cite[Theorem 10]{Krec10b}, and it is standard that the top map is an isomorphism.
	In fact, we can consider $H^0(M)$ as generated by the cochain $1_M$, and this pulls back to the generator $1_{pt} \in H^0(pt)$ (each represented by the map that takes a positively oriented point considered as a singular $0$-chain to $1$).
	It follows that the bottom map is an isomorphism.
	Consider the generator $\uM \in H_\Gamma^0(M)$ given by the identity map of $M$ with its tautological co-orientation $(\beta_M,\beta_M)$; see \cref{E: first examples}.
	This has normal orientation given by the positively-oriented $0$-dimensional normal bundle, so by the pullback construction of \cref{D: pullback coorient}, the pullback to $H^0_\Gamma(pt)$ is similarly represented by $\underline{pt}$, the identity map of $pt$ with its canonical co-orientation.
	As $\Phi_0(1_{pt}) = \underline{pt}$ by assumption, it follows from the commutativity that $\Phi_0(1_M) = \uM$.

	So for $\alpha \in H^p(M)$, we have
	\begin{align*}
		\lambda \star \alpha
		& = \Phi_p^{-1}(\lambda\uM \uplus \Phi_p(\alpha)) \\
		& = \Phi_p^{-1}(\lambda\Phi_p(\alpha)) \\
		& = \lambda\alpha,
	\end{align*}
	using the unital property of $\uplus$ --- see \cref{S: (co)chain properties}.
	The same argument holds for $\alpha\star \lambda$.
	If $M$ has multiple components, then these properties clearly hold component-wise, as needed.

	To apply \cref{P: Kreck-Singhof pairing}, it remains to show that $\pi_1^*(s_p) \star \pi_2^*(s_q) = s_p \times s_q$ for all $p,q\geq 1$.
	For this, we have
	\begin{align*}
		\pi_1^*(s_p) \star \pi_2^*(s_q)& = \Phi_{p+q}^{-1}(\Phi_p(\pi_1^*(s_p))\uplus\Phi_q(\pi_2^*(s_q)))&\text{by definition of $\star$}\\
		& = \Phi_{p+q}^{-1}(\pi_1^*\Phi_p(s_p)\uplus\pi_2^*\Phi_q(s_q))&\text{by naturality of the $\Phi$}\\
		& = \Phi_{p+q}^{-1}(\pi_1^*(s_p^\Gamma)\uplus\pi_2^*(s_q^\Gamma))&\text{by \cref{L: connecting signs}}\\
		& = \Phi_{p+q}^{-1}((s_p^\Gamma \times \underline{S^q})\uplus(\underline{S^p} \times s_q^\Gamma))&\text{by Prop.
			\ref{P: projection pullbacks}}\\
		& = \Phi_{p+q}^{-1}((s_p^\Gamma\uplus \underline{S^p})\times( \underline{S^q}\uplus s_q^\Gamma))&\text{by Cor.
			\ref{C: criss cross} }\\
		& = \Phi_{p+q}^{-1}(s_p^\Gamma \times s_q^\Gamma)&\text{by Cor.
			\ref{C: cup with identity}}\\
		& = s_p \times s_q & \text{by \cref{C: sphere product}}.
	\end{align*}
\end{proof}

\subsection{K\"unneth theorems}

Now that we know that the geometric cup product is naturally isomorphic to the singular chain cup product, we can use this to compare cohomology cross products and obtain the geometric cohomology K\"unneth Theorem.
We begin with the homology K\"unneth Theorem, which is simpler, and then address the cohomology one.

Recall from \cref{T: hom iso map,P: singular smooth cubes} that we have isomorphisms $$H_*(NK_*(M)) \xleftarrow{\cong} H_*(NK^{sm}_*(M)) \xr{\cong} H_*^\Gamma(M),$$ where $NK_*(M)$ is the complex of normalized singular cubical chains and $NK^{sm}_*(M) \subset NK_*(M)$ is the subcomplex generated by smooth singular cubes.
As elements of $NK^{sm}_*(M)$ are represented by linear combinations of smooth maps from cubes and the cross product is represented by taking geometric products, we have the following immediate compatibility of chain cross products. Note that the upper left vertical map is an inclusion as the $NK^{sm}_i(M)$ and $NK_i(M)$ are all free groups generated by the nondegenerate singular cubes.

\begin{lemma}\label{L: chain cross compare}
	Let $M$ and $N$ be manifolds without boundary.
	Then the following diagram commutes:
	\[
	\begin{tikzcd}
		NK_*(M) \otimes NK_*(N) \arrow{r}{\times}  & NK_*(M \times N)  \\
		NK^{sm}_*(M) \otimes NK^{sm}_*(N) \arrow{r}{\times} \arrow[d] \arrow[hookrightarrow]{u}& NK^{sm}_*(M \times N) \arrow[d]\arrow[hookrightarrow]{u} \\
		C_*^\Gamma(M) \otimes C_*^\Gamma(N) \arrow{r}{\times} & C_*^\Gamma(M \times N).
	\end{tikzcd}
	\]
	This induces the commutative diagram
	\[
	\begin{tikzcd}
		H_*(NK_*(M)) \otimes H_*(NK_*(N)) \arrow{r}{\times}  &
		H_*(NK_*(M \times N)) \\
		H_*(NK^{sm}_*(M)) \otimes H_*(NK^{sm}_*(N)) \arrow{r}{\times} \arrow[d, "\cong"] \arrow[u, "\cong"']&
		H_*(NK^{sm}_*(M \times N)) \arrow[d, "\cong"] \arrow[u, "\cong"'] \\
		H_*^\Gamma(M) \otimes H_*^\Gamma(N) \arrow{r}{\times} & H_*^\Gamma(M \times N).
	\end{tikzcd}
	\]
\end{lemma}

\begin{theorem}[K\"unneth Theorem]\label{T: homology kunneth}
	Let $M$ and $N$ be manifolds without boundary.
	There are natural short exact sequences
	\[
	0 \to \bigoplus_{p+q = a} H_p^\Gamma(M) \otimes H_q^\Gamma(N) \xr{\times} H_{p+q}^\Gamma(M \times N) \to \bigoplus_{p+q = a-1} H_p^\Gamma(M)* H_q^\Gamma(N) \to 0
	\]
	that split (non-naturally).
\end{theorem}

\begin{proof}
	As the $C_i^\Gamma(M)$ and $C_i^\Gamma(N)$ are flat by \cref{L: flat}, there is such a split short exact sequence with middle term $H_*(C_*^\Gamma(M) \otimes C_*^\Gamma(N))$ by the algebraic K\"unneth Theorem \cite[Theorem V.2.1]{HS}.
	We must show that $C_*^\Gamma(M) \otimes C_*^\Gamma(N) \xr{\times} C_*^\Gamma(M \times N)$ is a quasi-isomorphism.
	But now in the first diagram of \cref{L: chain cross compare}, the top map is a quasi-isomorphism by
	 \cite[Theorem XI.3.1]{Mas91}.
	Furthermore, the vertical maps on the right are quasi-isomorphisms by \cref{T: hom iso map,P: singular smooth cubes}, and so, as all modules are flat, the vertical maps on the left are also quasi-isomorphisms (e.g.\ apply the K\"unneth Theorem and then the Five Lemma to each vertical map).
	So the bottom horizontal map is a quasi-isomorphism.
\end{proof}

We now turn to cohomology.
We will provide two proofs of the cohomology K\"unneth Theorem, one using our maps $\Phi$ from the Kreck-Singhof argument and one using our intersection maps $\mc I$ in the cubical setting.

For the first, recall that for $\uV \in H^*_\Gamma(M)$ and $\uW \in H^*_\Gamma(N)$ we have the relation
$\uV \times \uW = \pi_M^*(\uV)\uplus\pi_N^*(\uW)$, which follows from \cref{C: cross is cup}, while the same relation is well known to hold in singular cohomology \cite[Corollary 5.6.14]{Span81}.
So the following is immediate from the naturality of our comparison maps $\Phi$ and \cref{T: intersection is cup product}

\begin{proposition}\label{P: cross product is cross product}
	On the category of smooth manifolds without boundary and continuous maps, the isomorphisms $\Phi_p$ from singular cohomology to geometric cohomology are compatible with cross products.
	In other words, for manifolds without boundary $M$ and $N$ there are commutative diagrams
	\[
	\begin{tikzcd}
		H^p(M) \otimes H^q(N) \arrow{r}{\times} \arrow[d,"\Phi_p \otimes \Phi_q"', "\cong"] &
		H^{p+q}(M \times N) \arrow[d, "\Phi_{p+q}"', "\cong"] \\
		H^p_\Gamma(M) \otimes H^q_\Gamma(N) \arrow{r}{\times} &
		H^{p+q}_\Gamma(M \times N).
	\end{tikzcd}
	\]
\end{proposition}

\begin{theorem}[K\"unneth Theorem]\label{T: cohomology kunneth}
	If either $H^i_\Gamma(M)$ is finitely generated for all $i$ or $H^i_\Gamma(N)$ is finitely generated for all $i$, then there are natural short exact sequences
	\[
	0 \to \bigoplus_{p+q = a}H^p_\Gamma(M) \otimes H^q_\Gamma(N) \xr{\times} H^{p+q}_\Gamma(M \times N) \to \bigoplus_{p+q = a+1}H^p_\Gamma(M)* H^q_\Gamma(N) \to 0
	\]
	that split (non-naturally).
\end{theorem}

\begin{proof}
	Using \cref{P: cross product is cross product}, we can form the left part of the diagram
	\[
	\begin{tikzcd}
	\displaystyle\bigoplus_{p+q = a}H^p_\Gamma(M) \otimes H^q_\Gamma(N) \arrow[r,"\times",hook]\arrow[d,"\bigoplus \Phi_p \otimes \Phi_q"',"\cong"]& H^{p+q}_\Gamma(M \times N) \arrow[r,twoheadrightarrow]\arrow[d,"\Phi_{p+q}"',"\cong"]&\displaystyle\bigoplus_{p+q = a+1}H^p_\Gamma(M)* H^q_\Gamma(N) \arrow[d,dashed,"\bigoplus \Phi_p * \Phi_q"',"\cong"]\\
	\displaystyle\bigoplus_{p+q = a}H^p_\Gamma(M) \otimes H^q_\Gamma(N) \arrow[r,dashed,hook,"\times"]& H^{p+q}_\Gamma(M \times N) \arrow[r,dashed,twoheadrightarrow]& \displaystyle\bigoplus_{p+q = a+1}H^p_\Gamma(M)* H^q_\Gamma(N).
	\end{tikzcd}
	\]
	Since we know there is a cohomology K\"unneth Theorem of this form for singular cohomology \cite[Theorem 60.5]{Mun84}, and the vertical maps on the left and middle are isomorphisms, the bottom left horizontal map is also injective.
	It follows that there is an isomorphism between the quotient terms of the two sequences, and the quotient term on the top is $\displaystyle\bigoplus_{p+q = a+1}H^p_\Gamma(M)* H^q_\Gamma(N)$, which is then isomorphic to $\displaystyle\bigoplus_{p+q = a+1}H^p_\Gamma(M)* H^q_\Gamma(N)$ via the maps $\Phi_p*\Phi_q$.

	As the exact sequences are isomorphic and the top one splits, they both split.

	This construction is natural since all of the morphisms involved (except the splitting morphisms) are natural.
\end{proof}

In the preceding argument we had to work directly with cohomology because our maps $\Phi_p$ are only defined on cohomology, not on cochains.
Alternatively, we can approach the cohomology K\"unneth theorem more explicitly and in closer analogy with the proof of \cref{T: homology kunneth} by again utilizing cubulations and intersection maps.

One benefit of cubulations over triangulations is that the product of two cubical complexes is again a cubical complex: the product of two cubes $E$ and $F$ is simply the cube $E \times F$.
If $X$ and $Y$ are cubical complexes, this provides a cubical cross product $K_*(X) \otimes K_*(Y) \to K_*(X \times Y)$.

\begin{lemma}
	Let $M$ and $N$ be manifolds without boundary cubulated by cubical complexes $X$ and $Y$.
	The cubical cross product $K_*(X) \otimes K_*(Y) \to K_*(X \times Y)$ is a quasi-isomorphism.\footnote{Certainly this holds more generally for any cubical complexes $X$ and $Y$, but we will not need the greater generally and this statement allows us to be expedient in citing our previous results.}
\end{lemma}
\begin{proof}
	Consider the diagram
	\[
	\begin{tikzcd}
	K_*(X) \otimes K_*(Y) \arrow[r,"\times"]\arrow[d,"\eta \otimes \eta"] & K_*(X \times Y)\arrow[d,"\eta"]\\
	NK^{sm}_*(X) \otimes NK^{sm}_*(Y) \arrow[r,"\times"]\arrow[d,"\psi \otimes \psi"] & NK^{sm}_*(X \times Y)\arrow[d,"\psi"] \\
	NK_*(X) \otimes NK_*(Y) \arrow[r,"\times"] & NK_*(X \times Y),
	\end{tikzcd}
	\]
	in which the maps $\eta$ and $\psi$ are as in \cref{S: cubical and geometric homology}.

	The vertical maps are quasi-isomorphisms by \cref{T: cubical homology iso,P: singular smooth cubes} and because these are all free modules.
	The bottom maps is a quasi-isomorphism by \cite[Theorem XI.3.1]{Mas91}.
	So the top map is also a quasi-isomorphism.
\end{proof}

Another benefit of the cubical category is that the inverse to the cros

\begin{proposition}\label{P: cross product comparison}
	Let $M$ and $N$ be cubulated manifolds without boundary, and let $M \times N$ have the product cubulation.
	Let $K^*$ denote the complex of cubical cochains for the appropriate cubulation.
	The following diagram commutes
	\[
	\begin{tikzcd}
		C^*_{\Gamma}(M) \otimes C^*_{\Gamma}(N) \arrow{r}{\times} & C^*_{\Gamma}(M \times N) \\
		C^*_{\Gamma\pf}(M) \otimes C^*_{\Gamma\pf}(N) \arrow{r}{\times} \arrow[u, hook] \arrow[d, "\mc I \otimes \mc I"] & C^*_{\Gamma\pf}(M \times N) \arrow[u, hook] \arrow[d, "\mc I"] \\
		K^*(M) \otimes K^*(N) \arrow{r}{\times} & K^*(M \times N).
	\end{tikzcd}
	\]
\end{proposition}

\begin{proof}
	The top square certainly commutes as the vertical maps are inclusions.
	Note that the product of two maps transverse to the cubulation will be transverse to the product cubulation, so the middle horizontal map is well defined.

	Let $V$ and $W$ represent elements of $C^*_{\Gamma\pf}(M)$, and let $E$ and $F$ be cubes of the cubulation.
	We check that the two ways around the bottom square evaluate the same on $E \times F$.
	Applying $\mc I(V \times W)$ to $E \times F$ gives $I_{M \times N}(V \times W, E \times F) = \aug((V \times W)\times_{M \times N}(E \times F))$ by \cref{D: intersection homomorphism,D: intersection number}, while going the other way around the diagram and applying the result to $E \times F$ yields, with our conventions, $I_M(V,E)I_N(W,F) = \aug(V \times_M E)\aug(W \times_N F)$.

	We can now compute
	\begin{align*}
		\aug((V \times W)\times_{M \times N}(E \times F))& = (-1)^{(w+f-n)(m-v)}\aug((V \times_M E) \times (W \times_N F))\\
		& = (-1)^{(w+f-n)(m-v)}\aug(V \times_M E)\aug(W \times_N F).
	\end{align*}
	The first equality is due to \cref{P: cap cross}.
	Note that if either $V \times_M E$ or $W \times_N F$ is not $0$-dimensional then also $(V \times W)\times_{M \times N}(E \times F)$ is not $0$-dimensional, and all three expressions above are $0$.
	Otherwise, the second equality is apparent as the product of a $(-1)^a$-oriented point with a $(-1)^b$-oriented point is a $(-1)^{a+b}$-oriented point.
	In this case we also have $w+f = n$ so that $(-1)^{(w+f-n)(m-v)} = 1$.
\end{proof}

The following corollary is now immediate from \cref{P: cross product comparison,T: transverse complex,T: intersection qi}.

\begin{corollary}
	If $M$ and $N$ are cubulated manifolds without boundary and each $H^i(M)$ and $H^j(N)$ is finitely generated, then the cubical cohomology cross product is isomorphic to the geometric cohomology cross product.
	In particular, we have the following diagram with all vertical maps isomorphisms:
	\[
	\begin{tikzcd}
		H^*_{\Gamma}(M) \otimes H^*_{\Gamma}(N) \arrow{r}{\times} & H^*_{\Gamma}(M \times N) \\
		H^*_{\Gamma\pf}(M) \otimes H^*_{\Gamma\pf}(N) \arrow{r}{\times} \arrow[u, "\cong"] \arrow[d, "\cong", "\mc I \otimes \mc I"'] &
		H^*_{\Gamma\pf}(M \times N) \arrow[u, "\cong"] \arrow[d, "\cong", "\mc I"'] \\
		H^*(K^*(M)) \otimes H^*(K*(N)) \arrow{r}{\times} & H^*(K^*(M \times N)).
	\end{tikzcd}
	\]
\end{corollary}

Furthermore, \cref{P: cross product comparison} now implies a proof of \cref{T: cohomology kunneth} completely analogous to the proof of \cref{T: homology kunneth}.
The finiteness hypothesis is required both for the maps $\mc I \colon C^*_{\Gamma\pf}(-) \to K^*(-)$ to be isomorphisms via \cref{T: intersection qi} and for the cross product $H^*(K^*(M)) \otimes H^*(K*(N)) \xr{\times} H^*(K^*(M \times N))$ to be an isomorphism.



\begin{comment}
	Dev's sketched elementary proof \colon

	Use pullback of cross product after showing that cross product agrees with singular cross product using the cubical structure as intermediary as in flows.
	In particular, given $V$ and $W$ then $V \times W = (V \times M) \cap (M \times V)$ should act on the cube $\sigma \times \tau$ as $W(\sigma)V(\tau)$.

	\begin{definition}
		Suppose $M$ and $N$ are manifolds.
		Then there is a product map $C^*_\Gamma(M) \otimes C^*_\Gamma(N) \to C^*_\Gamma(M \times N)$ that takes geometric cochains $\uW \in C^*_\Gamma(M)$ and $\uV \in C^*_\Gamma(N)$ represented by $r_W \colon W \to M$ and $r_V \colon V \to N$ to the cochain $\uW \times \uV$ represented by $r_W \times r_V \colon W \times V \to M \times N$ with the product co-orientation.
		In other words, if $(\beta_W,\beta_M)$ and $(\beta_V,\beta_N)$ are the corresponding co-orientations of $\uW$ and $\uV$, then the product co-orientation is $(\beta_W \wedge \beta_V,\beta_M \wedge \beta_N)$.
		By linear extension we obtain the \textbf{(external) cross product} map $C^*_\Gamma(M) \otimes C^*_\Gamma(N) \to C^*_\Gamma(M \times N)$.
	\end{definition}

	\begin{lemma}
		The cochain cross product is a well-defined map.
	\end{lemma}

	\begin{proof}
		If $V$ is trivial via $\rho_W \colon W \to W$, then $W \times V$ is trivial via $\rho_W \times \id_V$.
		Similarly, if $W$ is of small rank then so is $W \times V$.
		Since the sum of geometric cochains is represented by disjoint union, we have $(W_1\pm W_2) \times V = (W_1 \times V)\pm (W_2 \times V)$.
		So if $W_1-W_2 \in Q^*(M)$ then $W_1 \times V- W_2 \times V = (W_1-W_2) \times V \in Q^*(M \times N)$.
		So the cross product is independent of representative for $\uW$, and similarly it is independent of the choice of representative for $\uV$.

		To see that we have a chain map, we observe that \red{PUT SOMETHING IN THE CO-ORIENTATION SECTION}.
	\end{proof}

	The following is now standard homological algebra:
	\begin{corollary}
		The external cochain cross product induces an \textbf{(external) cohomology cross product} $H^i_\Gamma(M) \otimes H^j_\Gamma(N) \to H^{i+j}_\Gamma(M \times N)$.
	\end{corollary}

	\begin{theorem}
		Let $M$ and $N$ be manifolds.
		Then the geometric cohomology cross product $H^i_\Gamma(M) \otimes H^j_\Gamma(N) \to H^{i+j}_\Gamma(M \times N)$ is isomorphic to the singular cohomology cross product $H^i(M) \otimes H^j(N) \to H^{i+j}(M \times N)$.
	\end{theorem}

	\begin{proof}
		NEED MORE GENERAL INTERSECTION MAP THEOREM OR TO RESTRICT TO COMPACT MANIFOLDS

	\end{proof}
\end{comment}

\subsection{The geometric cap product is the usual cap product}

Our goal in this section is to use the intersection map $\mc I$ to relate the geometric cap product with the classical singular cap product, using the cubical cap product as an intermediary.
We first discuss formulas for the cubical cup and cap products, relying on known formulas for the singular cubical products.
Then we apply the cubical formulas to the geometric world.

In \cref{T: equivalent cap,C: cap relation} we show that the cubical cap product (and hence the singular cap product) determines the geometric cap product in general, while the geometric cap product determines the cubical cap product if all $H^i(M)$ are finitely generated.
This last condition is needed because \cref{T: intersection qi} only tells us that the intersection map induces cohomology isomorphisms $\mc I \colon H^i_{\Gamma \pf X}(M) \to H^i(K_X^*(M))$, for some cubulation $X$, when $H^i(M)$ is finitely generated.
Unlike the situation with \cref{T: intersection is cup product}, for which we used the Kreck-Singhof theorem for cup products to show that the geometric and singular cup products are always isomorphic, we do not know of an analogue of the Kreck-Singhof theorem for cap products that would allow us to provide compatibility of cap products in full generality.

\subsubsection{Cubical cup and cap products}\label{S: cubical products}

In this section we discuss cup and cap products for cubical and singular cubical homology and cohomology.
This will be needed below for comparing the geometric cap product with the classical cap products.

We first recall from Massey \cite[Chapter XI]{Mas91} some results about the normalized singular cubical chain complexes, which we have been denoting $NK_*(-)$, though we utilize some different notation from Massey.
Just as for the more familiar singular simplicial chains, there is an Eilenberg-Zilber theorem that provides a chain homotopy equivalence between $NK_*(X) \otimes NK_*(Y)$ and $NK_*(X \times Y)$ for any spaces $X$ and $Y$.
Explicit constructions of such homotopy inverse maps are given in \cite[Section XI.5]{Mas91}.
The map $\zeta: NK_*(X) \otimes NK_*(Y) \to NK_*(X \times Y)$ is simply the cross product that takes $S \otimes T$ for representative singular cubes $S: \interval^m \to X$ and $T \colon \interval^n \to Y$ to the product $S \times T \colon \interval^m \times \interval^n = \interval^{m+n} \to X \times Y$.
If $S$ or $T$ is degenerate, so is $S \times T$, so this product is well defined for the normalized complexes.
The homotopy inverse map\footnote{Massey sometimes writes this map as $\eta$.} $\xi: NK_*(X \times Y) \to NK_*(X) \otimes NK_*(Y)$ takes $S \colon \interval^n \to X \times Y$ to
$$\xi(S) = \sum \rho_{H,K}A_H(\pi_1S) \otimes B_K(\pi_2S),$$ where $\pi_i$ is the projection to the $i$th factor.
The precise definitions of $\rho_{H,K}$, $A_H$, and $B_K$ will not need to concern us except to note that $H$ and $K$ are complementary subsets of $\{1,\ldots, n\}$, the sum is over all such partitions, $\rho_{H,K}$ is either $1$ or $-1$ (in fact it is the sign of permutation $HK$), and $A_H$ and $B_K$ are cubical faces of various dimensions of the singular cubes $\pi_1S$ and $\pi_2S$.
Again, this construction is sufficiently compatible with degeneracies to be well defined for the normalized singular cube complexes.
We also observe that if $X$ is a smooth manifold and our input singular cubes are smooth, then all other cubes appearing in the constructions are smooth.

As usual, one then defines cup and cap products (up to one's favorite sign conventions) as follows (using our current sign conventions).
If $\alpha, \beta \in NK^*(X) = \Hom(NK_*(X),\Z)$, then $\alpha\smile \beta \in \Hom(NK_*(X),\Z)$ acts on a normalized singular cube $S$ by
\begin{equation}\label{E: cubical cup}
	(\alpha \smile \beta)(S) = (\alpha \otimes \beta)(\xi(\diag S)),
\end{equation}
with $\diag$ the diagonal map $X \to X \times X$,
while the cap product $\alpha\frown S$ is given by
\begin{equation}\label{E: cubical cap}
	\alpha\frown S = (\id \otimes \alpha) (\xi(\diag S)),
\end{equation}
identifying $NK_*(X) \otimes \Z$ with $NK_*(X)$.

Now suppose that $X$ is a cubical complex, and let $K_*(X)$ and $K^*(X) = \Hom(K_*(X),\Z)$ be the cubical chain and cochain complexes.
If $E, F \in K_*(X)$ are any cubical faces, then $E \times F$ is also a cubical face.
Furthermore, abusing notation by conflating $E$ with its embedding into the cubical complex (thought of as a space), we have $\pi_1\diag(E) = \pi_2\diag(E) = E$, and every face of $E$ is also a cube in the complex.
So now if $M$ is a cubulated manifold without boundary and we abuse notation by using $K_*$ for the cubical chain complex $K_*(M)$ corresponding to the cubulation $X$ and $K_*(M \times M)$ for the cubical complex coming from the product cubulation $X \times X$, we have the following commutative diagrams with the upward arrows being inclusions (note that all complexes are free) and the lower horizontal maps being the restrictions of the top horizontal maps:
\[
\begin{tikzcd}
	NK_*(M) \otimes NK_*(M) \arrow{r}{\zeta} & NK_*(M \times M) \\
	NK^{sm}_*(M) \otimes NK^{sm}_*(M) \arrow{r}{\zeta} \arrow[u, hook] & NK^{sm}_*(M \times M) \arrow[u, hook] \\
	K_*(M) \otimes K_*(M) \arrow{r}{\zeta} \arrow[u, hook] & K_*(M \times M). \arrow[u, hook]
\end{tikzcd}
\]
and
\[
\begin{tikzcd}
	NK_*(M) \otimes NK_*(M) & \arrow[l, "\xi"'] NK_*(M \times M) \\
	NK^{sm}_*(M) \otimes NK^{sm}_*(M) \arrow[u, hook] & \arrow[l, "\xi"'] NK^{sm}_*(M \times M) \arrow[u, hook] \\
	K_*(M) \otimes K_*(M) \arrow[u, hook] & \arrow[l, "\xi"'] K_*(M \times M). \arrow[u, hook]
\end{tikzcd}
\]

The top map in each diagram is a homotopy equivalences, the vertical maps are all quasi-isomorphisms by \cref{P: singular smooth cubes} and the proof of \cref{T: cubical homology iso},
and the complexes are all free, so the horizontal maps are all chain homotopy equivalences \cite[Theorem 46.2]{Mun84}.

Putting this all together, for both the complexes of normalized smooth singular cubical chains and the cubical complexes $K_*$ coming from the smooth cubulations, we may define cup and cap products again by the formulas \eqref{E: cubical cup} and \eqref{E: cubical cap}.
Note that in the case of a geometric cube $E$ coming from a cubulation, $\diag E$ is not a cube in the cubical complex, but that does not matter as in the end formula for $\xi(\diag E)$ we work with $\diag E$ only through its projections $\pi_1(\diag E) = \pi_2(\diag E) = E$.
These products are then compatible with the constructions for normalized singular cubical chains and cochains, i.e.\ the restriction of the cup product is the cup product of the restriction and the appropriate mixed functoriality version of that statement holds for cap products.

\subsubsection{Relating geometric and cubical cap products via the intersection map}

In this section we show that the geometric and cubical cap products are compatible in the sense given below in \cref{T: equivalent cap,C: cap relation}.
Recall that in \cref{R: intersection map extension} we extended the definition of the intersection map $\mc I$ to give us a map $H^*_\Gamma(M) \to H^i(K_X^*(M))$ for the manifold $M$ cubulated by $X$, though we leave $X$ tacit in the following.
We again let $\mc J \colon K_*(X) \cong K^X_*(M) \to C^\Gamma_*(M)$ be the map that takes a cubical face of $X$ to its embedding into $M$; see \cref{T: cubical homology iso}.

\begin{theorem}\label{T: equivalent cap}
	Let $M$ be a smoothly cubulated manifold without boundary.
	Let $\uV \in H^*_\Gamma(M)$ and $W \in H_*(K_*(M))$.
	Then
	$$\uV \nplus \mc J(W) = \mc J(\mc I(\uV)\frown W).$$
\end{theorem}

Here the cap product on the left is our geometric cap product and the cap on the right is the cubical cap product defined in \cref{T: cubical homology iso}.

Before proving the theorem, we note the following corollary.

\begin{corollary}\label{C: cap relation}
	The cubical cap product (and hence the singular cap product) determine the geometric cap product.
	If all $H^i(M)$ are finitely generated, then the geometric cap product determines the cubical cap product.
\end{corollary}

\begin{proof}
	Let $\uV \in H^*_\Gamma(M)$ and $\uW \in H_*^\Gamma(M)$.
	Choose a cubulation of $M$.
	As $\mc J \colon H_*(K_*(M)) \to H_*^\Gamma(M)$ is an isomorphism by \cref{T: cubical homology iso}, we have by \cref{T: equivalent cap}
	$$\uV\nplus \uW = \uV\nplus \mc J(\mc J^{-1}(\uW)) = \mc J(\mc I(\uV)\frown \mc J^{-1}(\uW)).$$
	On the other hand, suppose $V \in H^*(K^*(M))$ and $W \in H_*(K_*(M))$.
	Then $\mc I \colon H^*_\Gamma(M) \to H^*(K^*(M))$ is an isomorphism by \cref{T: intersection qi,R: intersection map extension} when all $H^i(M)$ are finitely generated.
	So then
	$$V\frown M = \mc J^{-1}(\mc J(\mc I\mc I^{-1}(V)\frown W)) = \mc J^{-1}(\mc I^{-1}(V) \nplus \mc J(W)).$$
\end{proof}

We will approach the proof of \cref{T: equivalent cap} through a series of lemmas.
The first two concern transversality.
Then we have a series of lemmas that essentially consist of various reformulations of the cap products, eventually linking together the two terms of \cref{T: equivalent cap}.
Once we have all the lemma established, we explain how to tie them all together to prove the theorem.

\begin{comment}
	\begin{lemma}\red{REMOVE???:}
		Suppose $M$ is a cubulated manifold without boundary and $V \in PC^*_{\Gamma\pf}(M)$.
		Then $\id_M \times r_V \colon M \times V \to M \times M$ is transverse to the product cubulation of $M \times M$.
	\end{lemma}
	\begin{proof}
		Easy = see if I did this earlier somewhere
	\end{proof}

	\red{Note $\mc J$ commutes with $\Delta$ and switch them below.}
\end{comment}

\begin{lemma}\label{L: product transversal}
	Let $M$ be a cubulated manifold without boundary.
	Let $V \in PC^*_{\Gamma}(M)$, and suppose $W \in PC_*(M \times M)$ is represented by a collection of embeddings.
	Then there is a proper universal homotopy $h \colon V \times I \to M$ such that $h(-,1) \colon V \to M$ is transverse to the cubulation and $M \times V \xr{\id_M \times h(-,1)} M \times M$ is transverse $W$ in $M \times M$.
\end{lemma}

\begin{proof}
	As in the proof of \cref{P: ball stability}, we use the transversality techniques of \cite[Section 2.3]{GuPo74}.
	Consider $M$ as embedded in some $\R^N$ with an $\epsilon$-neighborhood $M_\epsilon$ and proper submersion $\pi \colon M_\epsilon \to M$.
	We define $H$ as in proof of \cref{P: ball stability} so that $H \colon V \times D^N \to M$ is the proper universal homotopy given by $H(x,s) = \pi(r_V(x)+\epsilon(x)s)$.
	Then $H$ is a submersion and so transverse to each face of the cubulation, and also $\id_M \times H \colon M \times V \times D^N \to M \times M$ is a submersion and hence transverse to $W$.
	So now by the Transversality Theorem of \cite[Section 2.3]{GuPo74}, for any face $E$ of the cubulation $H(-,s)$ is transverse to $E$ for almost all $s \in D^N$ and, similarly, $\id_M \times H(-,s)$ is transverse $W$ for almost all $s \in D^N$ (and similarly for each stratum of $W$).
	As the cubulation must have a countable number of faces and $W$ has a finite number of strata, there is an $s_0 \in D^N$ such that $H(-,s_0)$ is transverse to the cubulation and $\id_M \times H(-,s_0)$ is transverse $W$.
	Now let $h(x,t) = H(x,ts_0)$.
	This is a proper universal homotopy, and $h(-,1)$ has the required transversality properties.
\end{proof}

\begin{lemma}\label{L: M times transverse diag}
	Suppose $M$ is a manifold without boundary, $V \in PC^*_{\Gamma}(M)$, and $V$ is transverse to $W \in PC_*^\Gamma(M)$.
	Then $\id_M \times r_V \colon M \times V \to M \times M$ is transverse to $\diag r_W \colon W \to M \times M$ in $M \times M$, where $\diag \colon M \to M \times M$ is the diagonal map.
	In particular, $\id_M \times r_V \colon M \times V \to M \times M$ is transverse to $\diag \colon M \to M \times M$.
\end{lemma}

\begin{proof}
	By assumption, if $r_V(x) = r_W(y)$, then $Dr_V(T_xV)+Dr_W(T_yW) = T_{r_V(x)}M$.
	Now suppose that $(z,x) \in M \times V$ maps to $\diag r_W(y)$ with $y \in W$.
	This is equivalent to $r_V(x) = r_W(y) = z$.
	At any $(z,x) \in M \times V$, the image of $D(\id_M \times r_V)$ acting on $T_{(z,x)}(M \times V) = T_zM \oplus T_xV$ is $T_z(M) \oplus Dr_V(T_xV)$.
	While the image of $D(\diag r_W)$ acting on $T_yW$ is $Dr_W(T_yW) \oplus Dr_W(T_yW)$.
	As we know $Dr_V(T_xV)+Dr_W(T_yW) = T_{r_V(x)}M$, when $r_V(x) = r_W(y) = z$ these images together span $T_{(r_W(y),r_W(y))}M \times M$.

	The last statement follows by taking $r_W \colon W \to M$ to be $\id_M \colon M \to M$, which is certainly transverse to any $V$.
\end{proof}

For the next lemmas, we make the following definitions.

\begin{definition}
	For a cubulation of $M$, let $\Delta:K_*(M) \to K_*(M \times M)$ be the chain map given by $\Delta(E) = \zeta\xi(\diag E)$ (see \cref{S: cubical products}).
	This is a chain map because it is the restriction of a chain map of the singular cubical complexes to subcomplexes.
\end{definition}

\begin{definition}
	Let $V \in PC^*_\Gamma(M)$.
	Below we write $M \times V$ for the element of $PC^*_\Gamma(M \times M)$ given by the co-oriented exterior product of $V$ with the identity $\id_M \colon M \times M$ given its tautological co-orientation.
\end{definition}

\begin{lemma}\label{L: image of cubical cap}
	Suppose $M$ is a cubulated manifold without boundary and that $K_*(M)$ is the cubical chain complex with respect to some fixed cubulation.
	Let $V \in PC^*_{\Gamma\pf}(M)$ represent a cocycle, and let $W \in K_*(M)$.
	Suppose $\id_M \times r_V \colon M \times V \to M \times M$ is transverse to $\mc J(\Delta(W))$.
	Then $$\mc J(\mc I(V)\frown W) = \pi_1( (M \times V)\times_{M \times M}\mc J(\Delta(W))) \in C_*^\Gamma(M),$$
	where $\pi_1 \colon M \times M \to M$ is the projection to the first factor.
\end{lemma}

\begin{proof}
	For a cubical face $E$ representing an element of $K_*(M)$, let us writem$\xi(\diag (E)) = \sum_i E_{1i} \otimes E_{2i}$, analogously to Sweedler notation.
	By definition, at the chain/cochain level $\mc I(V)\frown E$ is given by
	$$(1 \otimes \mc I(V))(\xi(\diag (E))) = (1 \otimes \mc I(V))\left(\sum_i E_{1i} \otimes E_{2i}\right) = \sum_i E_{1i} \otimes \mc I(V)(E_{2i}) = \sum_i \mc I(V)(E_{2i})\cdot E_{1i},$$
	where $\mc I(V)(E_{2i})$ is the intersection number of $V$ with $E_{2i}$ by \cref{D: intersection homomorphism}.
	So $\mc J(\mc I(V)\frown W)$ is just the geometric cochain represented by $\sum_i I(V,E_{2i})E_{1i} = \sum_i \aug(V \times_M E_{2i})E_{1i} $, identifying the cubical face $E_{1i}$ with its embedding into $M$.
	Note that we have $I(V,E_{2i}) = 0$ if $V$ and $E_{2i}$ do not have complementary dimension in $M$, so we can take the sum $\sum_i I(V,E_{2i})E_{1i}$ to be over those $i$ such that $E_{2i}$ has complementary dimension to $V$.

	On the other hand, $\mc J(\Delta(E))$ is the geometric chain corresponding to $\sum_i E_{1i} \times E_{2i}$, and, applying our transversality assumption, we have
	\begin{align*}
		(M \times V)&\times_{M \times M}\mc J(\zeta\Delta(E))\\
		& = (M \times V)\times_{M \times M}\left(\sum_i E_{1i} \times E_{2i}\right)\\
		& = \sum_i (-1)^{(v+e_{2i}-m)(m-v)}(M \times_M E_{1i}) \times (V \times_M E_{2i})&\text{by \cref{P: cap cross}}\\
		& = \sum_i (-1)^{(v+e_{2i}-m)(m-v)}E_{1i} \times (V \times_M E_{2i})&\text{by \cref{P: cap with 1}}.
	\end{align*}
	We now consider cases depending on the dimension of $V \times_M E_{2i}$.
	If $\dim(V)+\dim(E_{2i})<\dim (M)$, then $V \times_M E_{2i} = \emptyset$, and the corresponding terms in the above formula vanish.
	Similarly if $\dim(V)+\dim(E_{2i})\geq \dim (M)$ but $V$ and $E_{2i}$ do not intersect.
	For the remaining cases, suppose
	$V \times_M E_{2i}\neq \emptyset$.

	If $V$ and $E_{2i}$ have complementary dimension, then $V \times_M E_{2i}$ is $0$ dimensional, and $\pi_1(
	E_{1i} \times (V \times_M E_{2i}))$ is simply $\aug(V \times_M E_{2i})E_{1i}$.
	Furthermore, $(-1)^{(v+e_{2i}-m)(m-v)} = 1$.

	If $\dim(V \times_M E_{2i})\geq 2$, then when we take the projection,
	$\pi_1(E_{1i} \times (V \times_M E_{2i}))$ has small rank.
	In this case, $\dim(\bd (V \times_M E_{2i}))\geq 1$ (or is empty) and so
	$$\bd(\pi_1(E_{1i} \times (V \times_M E_{2i}))) = \pi_1(\bd E_{1i} \times (V \times_M E_{2i}))\pm \pi_1(E_{1i} \times \bd(V \times_M E_{2i}))$$
	also has small rank, and so these terms are degenerate and vanish in $C^\Gamma_*(M)$.

	Finally, suppose $\dim(V \times_M E_{2i}) = 1$.
	Then again $\pi_1(E_{1i} \times (V \times_M E_{2i}))$ has small rank, as does the boundary term $\pi_1(\bd E_{1i} \times (V \times_M E_{2i}))$.
	The second boundary summand $\pm\pi_1(E_{1i} \times \bd(V \times_M E_{2i}))$ may not have small rank.
	However, since $\dim(V \times_M E_{2i}) = 1$, it must consist of mappings of circles and compact intervals, and, therefore, its boundary consists of (maps to $M$ of) pairs of oppositely oriented points.
	So $E_{1i} \times \bd(V \times_M E_{2i})$ consists of pairs of oppositely oriented copies of $E_{1i}$ mapping to $M \times M$, and once we project via $\pi_1$, these pairs become trivial elements of $C^\Gamma_*(M)$.
	So $\pi_1(E_{1i} \times (V \times_M E_{2i}))$ is also degenerate in this case, and these terms are also $0$ in $C^\Gamma_*(M)$.

	\begin{comment}
		We also have
		$$\bd ( V \times_M E_{2i}) = \pm (\bd V) \times_M E_{2i}\pm V \times_M \bd E_{2i}$$.
		Since $V$ is a cocycle, $\bd V$ is a union of trivial or small rank precochains, and hence so is $(\bd V) \times_M E_{2i}$ by Lemma \ref{L: pullback with Q}.
		If $\dim( V \times_M \bd E_{2i})>0$, then $\pi(V \times_M \bd E_{2i})$ has small rank.
		Finally, suppose $\dim (V \times_M \bd E_{2i}) = 0$.
		Then $\dim(V \times_M E_{2i}) = 1$.
		So $V \times_M E_{2i}$ consists of some number of circles and closed intervals in $E_{2i}$, and $V \times_M \bd E_{2i}$ will be the endpoints of those intervals.
		Since these must occur in pairs of opposite signs, then $E_{1i} \times (V \times_M \bd E_{2i})$ will consist of chains $\pm E_{1i} \times pt$, with the points being the points of $V \times_M \bd E_{2i}$.
		Since the points occur in oppositely signed pairs, under $\pi_1$ these pairs become trivial in $M$.
		Altogether then $\pi_1(\bd ( V \times_M E_{2i}))$ is a disjoint union of trivial and small rank precochains.
		So $V \times_M E_{2i} \in Q_*(M)$.
	\end{comment}

	We conclude that $\pi_1( (M \times V)\times_{M \times M}\mc J(\Delta(E)))$ as an element of $C_*^\Gamma(M)$ can be represented as the sum $\sum_i \aug(V \times_M E_{2i})E_{1i}$ over only those $i$ with $E_{2i}$ of complementary dimension to $V$.
	But this is the same formula we derived for $\mc J(\mc I(V)\frown E)$.
\end{proof}

\begin{lemma}\label{L: diagonal version of intersection}
	Let $M$ be a manifold without boundary.
	Let $V \in PC^*_\Gamma(M)$ and $W \in PC_*^\Gamma(M)$ be transverse.
	Let $\pi_1 \colon M \times M \to M$ be the projection on the first factor.
	Then $$V \times_M W = \pi_1((M \times V)\times_{M \times M} \diag(W)).$$
\end{lemma}

\begin{proof}
	By \cref{L: M times transverse diag}, $\id_M \times r_V \colon M \times V \to M \times M$ is transverse to $\diag r_W \colon W \to M \times M$ in $M \times M$, so both expressions are defined.
	We also have $V = M \times_M V = \diag^*(M \times V)$ by \cref{C: cup with identity} and \cref{P: cross to cup}.
	So we can compute
	\begin{align*}
		V \times_M W& = \pi_1\diag (V \times_M W)&\text{since $\pi_1\diag = \id_M$}\\
		& = \pi_1\diag (\diag^*(M \times V) \times_M W)&\text{by the above}\\
		& = \pi_1((V \times M)\times_{M \times M}\diag(W))&\text{by naturality of cap products.}
	\end{align*}
	For the last equality, see \cref{P: natural cap} and its interpretation in terms of naturality of the cap product in \cref{S: (co)chain properties}.
	\cref{P: natural cap} requires $\id_M \times r_V \colon M \times V \to M \times M$ be transverse to $\diag \colon M \to M \times M$ and $W \to M$ be transverse to the pullback of $M \times V$ by $\diag \colon M \to M \times M$ to
	$(M \times V)\times_{M \times M}M \to M$.
	The first requirement holds by \cref{L: M times transverse diag}.
	For the second transversality requirement, \cref{L: transverse to pullback} says that in the presence of the first transversality condition, this is equivalent to requiring $\id_M \times r_V \colon M \times V \to M \times M$ to be transverse to $\diag r_W \colon W \to M \times M$.
	But this also holds by \cref{L: M times transverse diag} as $V$ and $W$ are transverse.
\end{proof}

\begin{lemma}\label{L: diagonal equivalence}
	Let $M$ be a cubulated manifold without boundary.
	Let $W$ be a cycle in $K_*(M)$, and let $V \in PC^*_\Gamma(M)$ be a cocycle such that $\id_M \times r_V \colon M \times V \to M \times M$ is transverse to $\diag(\mc J(W))$ and $\mc J(\Delta(W))$.
	Then $$\underline{\pi_1((M \times V) \times_{M \times M}\diag(\mc J(W)))} = \underline{\pi_1( (M \times V)\times_{M \times M}\mc J(\Delta(W)))} \in H_*^\Gamma(M).$$
\end{lemma}

\begin{proof}
	If we consider $W$ as an element of $NK_*^{sm}(M)$, then the geometric chain $\diag(\mc J(W))$ is represented by the singular cubical chain $\diag(W)$ and $\mc J(\Delta(M))$ is represented by the singular cubical chain $\zeta\xi\diag(W)$.

	As $\zeta\xi: NK_*^{sm}(M) \to NK_*^{sm}(M)$ is chain homotopic to the identity, $\diag(W)$ and $\zeta\xi\diag(W)$ must be homologous in $NK_*^{sm}(M)$, and so they are also homologous as geometric chains.
	In particular, $\diag(\mc J(W))$ and $\mc J(\Delta(M))$ represent the same element of $H_*^\Gamma(M \times M)$.

	As $V$ is a cocycle, so is $M \times V$.
	It now follows from \cref{T: (co)homology products} that
	$(M \times V)\times_{M \times M} \diag(\mc J(W))$ and $(M \times V)\times_{M \times M} \mc J(\Delta(W))$ represent the same geometric homology class, and so their images under $\pi_1$ represent the same geometric homology class.
\end{proof}

\begin{comment}
	Let $E$ be a face of the cubulation.
	Then we can think of $E$ as corresponding to a smooth singular cubical chain represented by the embedding $S_E \colon \interval^n \to M$.
	Then $\diag(\mc J(W))$ is the geometric chain represented by the smooth singular cubical chain $\diag S_E \colon \interval^n \to M \times M$, while $\mc J(\Delta(M))$ is the geometric chain represented by the smooth singular cubical chain $\zeta\xi(\diag S_E)$.
	So, more generally, $\diag(\mc J(W))$ and $\mc J(\Delta(W)))$ must be homologous in $NK^{sm}(M)$.
	So there is a smooth cubical chain $Z$ with $\bd Z = \diag(\mc J(W))-\mc J(\Delta(W)))$ as normalized smooth cubical chains.
	Now thinking of $H$ as a geometric chain, by Lemma \ref{L: product transversal}, we can find a cocycle $V'$ homologous to $V$ so that $M \times V'$ is transverse to $Z$.
	Now we compute using the boundary formula of Proposition \ref{P: Leibniz cap} and that $M \times V'$ is a cocycle that
	\begin{align*}
		\bd((M \times V')&\times_{M \times M} Z)\\
		& = \pm(\bd(M \times V'))\times_{M \times M} Z +(M \times V')\times_{M \times M} \bd Z \\
		& = (M \times V')\times_{M \times M} (\diag(\mc J(W))-\mc J(\Delta(W)))\\
		& = (M \times V')\times_{M \times M} \diag(\mc J(W)) - (M \times V')\times_{M \times M} \mc J(\Delta(W))
	\end{align*}
	Applying $\pi_1$ and that boundaries commute with maps, we obtained the desired homology.
\end{comment}

\begin{proof}[Proof of \cref{T: equivalent cap}]
	Let us first choose a cubical cycle $W$ representing our given cubical homology class.
	By \cref{L: product transversal}, we can choose a representative $V$ of our geometric cohomology class such that $V$ is transverse to the cubulation (and hence to $W$) and $M \times V$ is transverse to $\diag(\mc J(W)) \sqcup \mc J(\Delta(W))$, which is also represented by a union of embeddings.
	Then by \cref{L: image of cubical cap}, we have
	$$\underline{\mc J(\mc I(V)\frown W)} = \underline{\pi_1( (M \times V)\times_{M \times M}\mc J(\Delta(W)))} \in H_*^\Gamma(M),$$
	and by \cref{L: diagonal equivalence} this equals $\underline{\pi_1((M \times V)\times_{M \times M} \diag(\mc J(W)))}$.
	Then by \cref{L: diagonal version of intersection},
	$\pi_1((M \times V)\times_{M \times M} \diag(\mc J(W))) = V \times_M \mc J(W) \in PC_*^\Gamma(M)$.
	Finally, $V \times_M \mc J(W)$ represents $\uV\nplus \mc J(W)$ by definition.
\end{proof}

\subsubsection{Poincar\'e duality}\label{S: PD}

In \cref{T: PD}, we noticed that geometric homology and cohomology satisfy a very strong form of Poincar\'e duality, as for a closed oriented manifold $M$ we in fact have chain-level identities $C^{m-i}_\Gamma(M) = C_i^\Gamma(M)$ obtained by identifying co-oriented cochains with their corresponding oriented chains, using the orientations induced by the orientation of $M$.
\cref{T: equivalent cap} allows us to observe that this strong version of geometric Poincar\'e is compatible with the classical Poincar\'e duality:

\begin{corollary}[Poincar\'e duality]\label{C: PD}
	Let $M$ be a closed oriented cubulated manifold.
	Let $\underline M \in C_m^\Gamma(M)$ be represented by the orientation-preserving identity map $\id_M \colon M \to M$, and let $[M] \in K_*(M)$ represent the cubical fundamental class.
	Then there is a commutative diagram of isomorphisms
	\[
	\begin{tikzcd}
		H^{n-i}_\Gamma(M) \arrow{r}{\nplus \uM} \arrow[d, "\mc I"] & H_i^\Gamma(M) \\
		H^{n-i}_{cub}(M) \arrow{r}{\frown [M]} & H_i^{cub}(M). \arrow[u, "\mc J"']
	\end{tikzcd}
	\]
\end{corollary}

The proof follows immediately from \cref{T: equivalent cap} and the following lemma.

\begin{lemma}
	Let $M$ be closed, oriented, cubulated, and connected.
	Then $\mc J([M]) = \uM \in H_m^\Gamma(M)$.
\end{lemma}

\begin{proof}
	Let $\uV \in H^m_\Gamma(M)$ be represented by a map $V = pt \into M$ taking the point to the center of an $m$-cube of the cubulation, co-oriented so that its normal co-orientation agrees with the orientation of $M$.
	By \cref{P: cap with identity M}, as $\uM$ and $\mc J([M])$ are both represented by embeddings with the same orientation in a neighborhood of the embedded point $V$, the cap products $\uV\nplus \uM$ and $\uV\nplus \mc J([M])$ in $H_0^\Gamma(M)$ are each represented by the same point with its induced orientation (which by \cref{P: cap of immersions} will be the positive orientation).
	This is a generator of $H_0^\Gamma(M) \cong \Z$, as we can see, for example, via our homology isomorphism $H_*(NK_*(M)) \to H_*^\Gamma(M)$.
	As $H_m^\Gamma(M) \cong H_0^\Gamma(M) \cong \Z$ by the isomorphisms between geometric and singular homology and cohomology, $\uV\nplus \colon H_m^\Gamma(M) \to H_0^\Gamma(M)$ must be injective as we have shown it is not the $0$ map.
	Since we have shown $\uV\nplus\uM = \uV\nplus\mc J([M])$, we have $\uM = \mc J([M])$.
\end{proof}

With $\nplus \uM$ as our Poincar\'e duality map, the relation of \cref{P: compare cup and intersection orientations}, which in \cref{S: mixed formulas} became the chain/cochain formula
$$(\uV\uplus \uW)\nplus \uM = (-1)^{(m-v)(m-w)}(\uV\nplus \uM)\bullet(\uW\nplus \uM) = (\uW\nplus \uM)\bullet(\uV\nplus \uM),$$
demonstrates the usual relationship between intersection products and cup products that is well known for homology classes represented by embedded manifolds, cf.\ \cite[Section VI.11]{Bred97}.
Here we see that this relationship extends not just for intersections of embedded manifolds but to all homology classes.
Of course this is always possible if one takes the above formula as a defining formula for the intersection product, but here we see that the intersection product can always be defined geometrically in terms of fiber products.

\subsubsection{Umkehr maps}

\Cref{C: PD} allows us to make some remarks about umkehr maps, also known as wrong-way or transfer maps, associated to maps of closed oriented manifolds $f \colon N \to M$.
These are maps
\begin{align*}
	f^! \colon H^{n-i}_\Gamma(N) \to H^{m-i}_\Gamma(M)\\
	f_! \colon H_{m-i}^\Gamma(M) \to H_{n-i}^\Gamma(N),
\end{align*}
typically defined by taking a homology or cohomology class, dualizing using Poincar\'e duality, applying $f$ or $f^*$, and then dualizing again; see \cite[Definition VI.11.2]{Bred97}.
We will show that when $M$ and $N$ are closed and oriented, these transfer maps correspond to the pullbacks and pushforwards already encountered in \cref{S: functoriality}, where we only required for cohomology pushforwards that $f$ be proper and co-oriented and for homology pullbacks that $f$ be proper and that $M$ and $N$ be oriented.

\begin{proposition}
	Let $f \colon N \to M$ be a map of closed oriented manifolds.
	We may consider $f$ co-oriented via the orientations of $M$ and $N$.
	Then the following diagrams commute:
	\[
	\begin{tikzcd}
		H^{n-i}_\Gamma(N) \arrow{r}{f} \arrow[d, "\nplus \uN"] & H^{m-i}_\Gamma(M) \arrow[d, "\nplus \uM"] & H^{i}_\Gamma(M) \arrow{r}{f^*} \arrow[d, "\nplus \uM"] & H^{i}_\Gamma(N) \arrow[d, "\nplus \uN"] \\
		H_i^\Gamma(N) \arrow{r}{f} & H_i^\Gamma(M) & H_{m-i}^\Gamma(M) \arrow{r}{f^*} & H_{n-i}^\Gamma(N).
	\end{tikzcd}
	\]
\end{proposition}

\begin{proof}
	We start with the diagram on the left.
	Let $\uV \in H^{n-i}_\Gamma(N)$ represented by a co-oriented map $r_v \colon V \to N$.
	Then $\uV\nplus\uN$ is represented by the same map to $N$ with its induced orientation; see \cref{S: co-orientations}.
	In particular, if $x \in V$ then $V$ is oriented at $x$ by the local orientation $\beta_V$ such that $(\beta_V,\beta_N)$ gives the co-orientation of $r_V$.
	The path down then right is then the composition $fr_V$, considering $V$ with its orientation induced by $r_V$ and the orientation of $N$.
	On the other hand, by the definition in \cref{S: covariant functoriality}, the element $f(\uV)$ in $H^{m-i}_\Gamma(M)$ is represented by $fr_V$ co-oriented by composing the co-orientations of $r_V$ and $f$.
	So if the co-orientation of $r_V$ is again $(\beta_V,\beta_N)$, the co-orientation of $fr_V$ representing $f(\uV)$ is $(\beta_V,\beta_N)*(\beta_N,\beta_M) = (\beta_V,\beta_M)$.
	So $f(\uV)\nplus \uM$ is represented by $fr_V$ with $V$ oriented again by $\beta_V$.
	Thus the diagram commutes.

	For the second diagram, let $r_V \colon V \to M$ represent $\uV \in H^{i}_\Gamma(M)$.
	We can assume up to a homotopy that $f$ is smooth and transverse to $r_V$.
	Then $f^*(\uV)$ is represented by the co-oriented pullback $V \times_M N \to N$, and $f^*(\uV)\nplus\uN$ is represented by this map with the orientation on $V \times_M N$ induced by the pullback co-orientation and the orientation of $N$.
	Meanwhile, $\uV\nplus \uM$ is represented by $r_V$ with the orientation consistent with the given co-orientation and the orientation of $M$.
	Applying $f^*$, \cref{D: cohomology pullback and homology transfer} gives the pullback $f^*(\uV\nplus \uM)$ the same orientation just described for $f^*(\uV)\nplus\uN$.
\end{proof}

\begin{corollary}
	If $f \colon N \to M$ is a map of closed oriented manifolds then
	$f^! = f \colon H^{n-i}(N) \to H^{m-i}(M)$ and
\end{corollary}

\begin{comment}
	We know $H_m^\Gamma(M) \cong \Z$ by the isomorphism between geometric and singular homology.
	We first show that $\uM$ is a generator.

	Let $\uV \in H^m_\Gamma(M)$ be represented by a map $V = pt \into M$ taking the point to the center of an $m$-cube of the cubulation, co-oriented so that its normal co-orientation agrees with the orientation of $M$.
	Then by Proposition \ref{P: cap with identity M}, the cap product $\uV\nplus \uM \in H_0^\Gamma(M)$ is represented by the same embedding of a point with its induced orientation (which by Proposition \ref{P: cap of immersions} will be the positive orientation).
	This is certainly a generator of $H_0^\Gamma(M) \cong \Z$, as we can see, for example, via our homology isomorphism $H_*(NK_*(M)) \to H_*^\Gamma(M)$.
	If there were another class $\uW \in H_m^\Gamma(M)$ with $k\uW = \uM$, $|k|>1$, then $\uV\nplus \uM = \uV\nplus (k\uW) = k(\uV\nplus \uW)$ could not be a generator, providing a contradiction.
	So $\uM$ is a generator of $H_m^\Gamma(M)$.

	Now, as $\mc J$ is a homology isomorphism and $[M]$ is a generator of $H_m^{cub}(M)$ by the classical theory, we must have $\mc J([M]) = \pm\uM$.
	But by Proposition \ref{P: cap with identity M}, as $\uM$ and $\mc J([M])$ are both represented by embeddings with the same orientation in a neighborhood of the embedded point $V$, the cap products $\uV\nplus \uM$ and $\uV\nplus \mc J([M])$ in $H_0^\Gamma(M)$ are again each represented by the same point with its positive orientation.
	So we must have $\mc J([M]) = \uM$ rather than $-\uM$.
\end{comment}

\begin{comment}
	\begin{lemma}
		With the hypotheses of Corollary \ref{C: PD}, $\mc J([M]) = \uM$.
	\end{lemma}
	\begin{proof}
		It suffices to assume $M$ is connected, otherwise we could work component-wise.
		By the preceding lemma and classical theory, we know that $\uM$ and $M$ are respective generators of $H_m^\Gamma(M) \cong H_m(M) \cong \Z$, so, as $\mc J$ induces an isomorphism on homology, we must have $\mc J([M]) = \pm\uM$.

		Let $\uV \in H^m_\Gamma(M)$ be represented by a map $V = pt \into M$ taking the point to the center of an $m$-cube, co-oriented so that its normal co-orientation agrees with the orientation of $M$.
		Then by Proposition \ref{P: cap with identity M}, as $\uM$ and $\mc J([M])$ both have the same orientation in a neighborhood of the embedded point, the cap products $\uV\nplus \uM$ and $\uV\nplus \mc J([M])$ in $H_0^\Gamma(M)$ are each represented by the same embedding of a point with its induced orientation (which by Proposition \ref{P: cap of immersions} will be the positive orientation).
		So we must have $\mc J([M]) = \uM$ rather than $-\uM$.
	\end{proof}
\end{comment}
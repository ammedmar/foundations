% !TEX root = ../foundations.tex

\section{Geometric chains and cochains}\label{S: geometric cochains}

Geometric homology and cohomology are homology/cohomology theories for smooth manifolds defined through submanifolds or, more generally, maps from manifolds with corners.
They agree with singular homology and cohomology, but having different representatives
at the chain/cochain level, they provide geometric approaches to both theory and calculations.
They are thus akin to de Rham theory in the sense that chains and cochains are defined through the smooth structure rather than continuous maps or open sets, but they are defined over the integers and not just the real numbers.

Our definitions of geometric chains and cochains will be a modification of those given by Lipyanskiy in \cite{Lipy14}, though his results will continue to hold with our modified definitions.
As Lipyanskiy primarily focuses on geometric chains and geometric homology, our focus, where the theories diverge, will primarily be on geometric cochains and cohomology, for which Lipyanskiy's account is much less complete despite the cohomological setting having its own subtleties.
We also take the opportunity to fill in some of the details missing from Lipyanskiy's account more generally, especially utilizing the more thorough foundations on manifolds with corners provided by \cite{Joy12,MaDo92}.

\subsection{Preliminary definitions}

We first identify certain types of ``manifolds over $M$.'' In future sections $M$ will most typically be a manifold without boundary, as that is the case where we obtain agreement between geometric (co)homology and singular (co)homology, but in this section we allow it to be a manifold with corners anywhere that the extra generality may be useful but so long as it does not create more technical work.


\begin{definition}\label{V: maps are co-oriented}
	Let $M$ be a smooth manifold, possibly with corners. A \textbf{manifold over $\mathbf{M}$} is a manifold with corners $W$ with a smooth map $r_W \colon W \to M$,
	called the \textbf{reference map}.
	We freely and almost always abuse notation
	by using the domain $W$ to refer to the manifold over $M$, not $r_W$ or some other symbol, letting
	context determine whether we are referring to the entire data or the domain.

	We say a manifold over $M$, is:
	\begin{itemize}
		\item \textbf{compact} if its domain is compact,
		\item \textbf{proper} if its reference map is proper (i.e. the preimage of compact subsets is compact),
		\item \textbf{oriented} if its domain is oriented, and
		\item \textbf{co-oriented} if its reference map is co-oriented.
	\end{itemize}
	If $W$ is a manifold over $M$ then so is $\bd W$ using the reference map $r_W \circ i_{\bd W} \colon \bd W \to M$.
	If $W$ is oriented or co-oriented, then $\bd W$ inherits an orientation or co-orientation as in \cref{Con: oriented boundary} or \cref{D: boundary co-orientation}.
	By \cite[Lemma 2.8]{Joy12}, $i_{\bd W}$ is proper, so, as the composition of proper maps is proper, if $W$ is a proper manifold over $M$ then so is $\bd W$.

	If $W$ is oriented or co-oriented, we write $-W$ to refer to the manifold over $M$ with the opposite orientation or co-orientation; it should always be clear from context which structure we are replacing with its opposite.
\end{definition}

%The most important case of manifolds over $M$ are submanifolds.
%At times we also employ the notation $W \to M$, to address general maps but keep the emphasis on the case of embeddings.

Geometric chains and cochains will be equivalence classes of manifolds over $M$ under an equivalence relation we define using the following concepts, which are taken from or modify
the definitions of \cite{Lipy14}.

\begin{definition}\label{D: equiv triv and small}
	Let $V, W$ be manifolds over $M$ with reference maps $r_V$ and $r_W$.
	\begin{itemize}
		\item Suppose $V$ and $W$ are co-oriented and $\phi \colon W \to V$ is a diffeomorphism such that $r_V \circ \phi = r_W$.
		We say that $\phi$ is \textbf{co-orientation preserving (or co-orientation reversing)} if the composition of the tautological co-orientation of $\phi$ (\cref{D: tautological co-orientation}) with the co-orientation of $r_V$ agrees with (or disagrees with) the co-orientation of $r_W$.
		\item If $V$ and $W$ are oriented, we say they are \textbf{(oriented) isomorphic} if there is an orientation-preserving diffeomorphism $\phi \colon W \to V$ such that $r_V \circ \phi = r_W$.
		\item If $V$ and $W$ are co-oriented, we say they are \textbf{(co-oriented) isomorphic} if there is a co-orientation-preserving diffeomorphism $\phi \colon W \to V$.
		\item If $W$ is oriented then $W$ is \textbf{(oriented) trivial} if there is an orientation-reversing diffeomorphism $\rho \colon W \to W$ such that $r_W \circ \rho = r_W$.
		\item If $W$ is co-oriented then it is \textbf{(co-oriented) trivial} if there is a co-orientation-reversing diffeomorphism $\rho \colon W \to W$.
		\item $W$ has \textbf{small rank} if the differential $D r_W$ is everywhere less than full rank, in other words if the rank of $D_w r_W$ is less than $\dim(W)$ for all $w\in W$.
		\item If $W$ is (co\nobreakdash-)oriented, then it is \textbf{((co\nobreakdash-)oriented) degenerate} if it has small rank and ${\bd W}$ is the disjoint union of a trivial (co\nobreakdash-)oriented manifold over $M$ and one with small rank.
	\end{itemize}
	We declare the empty map $\emptyset \to M$ to be both trivial and degenerate.
\end{definition}

Note that while we can speak of a diffeomorphism being orientation-preserving or -reversing without it necessarily commuting with the reference maps, the notion of being co-orientation-preserving or -reversing is only defined when $r_V \circ \phi = r_W$.

We observe that isomorphism is an equivalence relation and that it preserves triviality and degeneracy.

Rather than small rank, Lipyanskiy uses the condition of \textbf{small image}.
In our notation, a map $r_W \colon W \to M$ has small image if there is another map $r_T \colon T \to M$ such that $r_T(T)\supset r_W(W)$ but $\dim(T)<\dim(W)$.
However, the small rank condition turns out to be more manageable for our purposes while still providing geometric homology and cohomology theories that are equivalent to singular homology and cohomology.
Roughly speaking, the geometric chains and cochains of a manifold $M$ will consist of isomorphism classes of oriented or proper co-oriented manifolds with corners over $M$ modulo the trivial and degenerate chains or cochains.

The most obvious use of the notion of triviality will be to ensure that $\bd^2 = 0$ so that we have a chain complex.
The degeneracy comes into play in ensuring that geometric homology and cohomology satisfy the dimension axiom; see \cref{E: dimension} and \cref{R: degen1}.

\begin{example}
	Let $S^1$ be the unit circle in the plane with the standard counterclockwise orientation.
	Let $\pi \colon S^1 \to \R$ be the projection of the circle onto the $x$-axis.
	This map is trivial.
	Indeed, if $\rho$ is the reflection of the circle across the $x$-axis, then $\rho$ is orientation-reversing and $\pi \rho = \pi$.

	Alternatively, let $\pi \colon S^1 \to \R$ be co-oriented by $(e_\theta,e_x)$, where $e_x$ is the standard positively-directed unit vector in $\R$ and $e_\theta$ is the counterclockwise tangent vector in $S^1$.
	This map is trivial as a co-oriented map, again via the reflection $\rho$ across the $x$-axis.
	Indeed, we still have $\pi \rho = \pi$, and the tautological co-orientation of $\rho$ is $(e_\theta,-e_\theta)$ so that the composite co-orientation of $\pi\rho$ is $-(e_\theta,e_x)$.
\end{example}

\begin{example}
	If $r_V \colon V \to M$ is any oriented or co-oriented map and $-r_V \colon V \to M$ is the same map with the opposite orientation or co-orientation, then $r_V \sqcup -r_V \colon V \sqcup V \to M$ is trivial, taking $\rho$ to be the map that switches the two copies of $V$.

	To be technically accurate, the space $V \sqcup V$ is not clearly defined as a manifold with corners, as we have defined our manifolds with corners in \cref{D: MWC} to be submanifolds of some $\R^N$. We solve this problem below by working with isomorphism classes of maps.
	In this case we could take $V \sqcup V$ up to isomorphism to be $V \sqcup W$ where $V$ and $W$ are isomorphic as manifolds over $M$.
	See \cref{D: prechain sum} below for precise details.
\end{example}

\begin{example}
	Any co-oriented map of the interval to a point has small rank, but its boundary does not have small rank; it is nonetheless (co-oriented) degenerate because its boundary is trivial.
\end{example}

\begin{example}\label{E: projected triangle}
	Let $V$ be the $2$-simplex in $\R^2$ with vertices at $(1,0)$, $(-1,0)$, and $(0,1)$, and let $\pi \colon V \to \R$ be the projection to the $x$-axis.
	This map has small rank, but the boundary does not have small rank and is not trivial.
\end{example}

\begin{example}
	Let $V = W = M = \R^1$.
	Let $r_W \colon W \to M$ be the identity map of $\R^1$ with its tautological co-orientation, which we can write $(e_1,e_1)$, letting $e_1$ be a positively-oriented tangent vector to $\R^1$.
	Let $r_V \colon V \to M$ be given by $r_V(t) = -t$ with co-orientation $(-e_1,e_1)$.
	Let $\phi \colon W \to V$ be given by $\phi(t) = -t$.
	Then the tautological co-orientation of $\phi$ is $(e_1,-e_1)$.
	So $r_V\phi = r_W$ as co-oriented maps, and $\phi$ provides a co-oriented isomorphism between $r_W$ and $r_V$ even though they are very different maps.
\end{example}

The notions of orientation-preserving and -reversing diffeomorphisms are fairly standard, and oriented isomorphisms and triviality of oriented manifolds over $M$ are simply such diffeomorphisms that commute with the reference maps.
By contrast, the corresponding notions for co-orientation are less familiar, but the following statement shows how the situation for co-orientations is locally similar to that for orientations.

\begin{lemma}\label{L: co-or preserving/reversing}
	Let $r_V \colon V \to M$ and $r_W \colon W \to M$ be co-oriented manifolds over $M$, and let $\phi \colon W \to V$ be a diffeomorphism such that $r_W = r_V \phi$.
	For $x \in W$, let $(\beta_{W,x},\beta_{M,r_W(x)})$ be a local representation of the co-orientation of $r_W$ and let $(\beta_{V, \phi(x)},\beta_{M,r_W(x)})$ be a local representation of the co-orientation of $r_V$, noting $r_V\phi(x)=r_W(x)$.
	Then $\phi$ provides a co-oriented isomorphism if and only if for all $x\in W$ the derivative $D_x\phi$ takes the orientation $\beta_{W,x}$ of $T_xW$ to the orientation $\beta_{V, \phi(x)}$ of $T_{\phi(x)}V$.
	Similarly, the map $\phi$ is a co-orientation-reversing diffeomorphism if and only if for all $x\in W$ the derivative $D_x\phi$ takes the orientation $\beta_{W,x}$ of $T_xW$ to the orientation $-\beta_{V, \phi(x)}$ of $T_{\phi(x)}V$.
\end{lemma}

In the statement of the lemma, by $D_x\phi$ taking an orientation of $T_xW$ to an orientation of $T_{\phi(x)}V$, we mean that $D_x\phi$ takes an ordered basis consistent with the given orientation of $T_xW$ to an ordered basis consistent with the given orientation of $T_{\phi(x)}V$.
We could equivalently phrase this in terms of the map $\textstyle{\bigwedge^w}D_x\phi$ as in \cref{D: tautological co-orientation}.

\begin{proof}[Proof of \cref{L: co-or preserving/reversing}]
By definition, $\phi$ is an isomorphism if and only if $\omega_{r_W} = \omega_{\phi} * \omega_{r_V}$, where $\omega_\phi$ is the tautological co-orientation of $\phi$.
This will be the case if and only if for each $x$ we have $\omega_\phi = (\beta_{W,x}, \beta_{V, \phi(x)})$.
But by the definition of the tautological co-orientation, if $e_1 \wedge \cdots \wedge e_w$ represents an oriented basis for $T_xW$, then $\omega_\phi$ is represented at $x$ by the pair $(e_1 \wedge \cdots \wedge e_w, D_x\phi(e_1) \wedge \cdots \wedge D_x\phi(e_w))$.
So $\phi$ is an isomorphism if and only if $D_x\phi$ takes an ordered basis representing the local orientation $\beta_{W,x}$ to an ordered basis representing the local orientation $\beta_{V, \phi(x)}$.

The orientation-reversing case is equivalent, considering instead the requirement $\omega_{r_W} = - \omega_{\phi} * \omega_{r_V}$.
\end{proof}

The following corollary is now immediate from \cref{L: co-or preserving/reversing} and the definitions.

\begin{corollary}\label{C: co-or preserving is or preserving}
	Let $r_V \colon V \to M$ and $r_W \colon W \to M$ be co-oriented manifolds over the oriented manifold $M$, and let $\phi \colon W \to V$ be a diffeomorphism such that $r_W = r_V \phi$. Then $\phi$ is co-orientation preserving (reversing) if and only if it is orientation preserving (reversing) with respect to the orientations of $V$ and $W$ induced by the co-orientations and the orientation of $M$ (\cref{S: co-orientations}).
\end{corollary}



\subsection{Geometric homology and cohomology}

We can now move toward defining geometric homology and cohomology, starting with ``prechains'' and ``precochains.''

\begin{definition}
	Let $M$ be a smooth manifold with corners.
	Denote by $PC^\Gamma_*(M)$ the set of oriented isomorphism classes of compact oriented manifolds over $M$, $r_W \colon W \to M$,
	graded by dimension $\dim(W)$.
	Denote by $PC_\Gamma^*(M)$ the set of co-oriented isomorphism classes of proper co-oriented manifolds over $M$, $r_W \colon W \to M$,
	graded by \textbf{codimension} $\dim(M) - \dim(W)$.
	We declare the empty manifold of each dimension to be orientable and the empty maps from the empty manifolds to $M$ to be co-orientable.

	As per \cref{V: maps are co-oriented}, we will often write $W \in PC^\Gamma_*(M)$ or $W \in PC_\Gamma^*(M)$, letting $W$ represent both its reference map and its isomorphism class as a manifold over $M$.
	In these respective cases we write $-W$ for $W$ with the opposite orientation or co-orientation.

	We will sometimes refer to elements of $PC^\Gamma_*(M)$ or $PC_\Gamma^*(M)$ as \textbf{prechains} or \textbf{precochains}, respectively.
\end{definition}

When necessary, as in the following definition, we may write prechains or precochains as $[W]$ to emphasize that they are isomorphism classes.


\begin{definition}\label{D: prechain sum}
	If $V,W$ are compact oriented manifolds over $M$ (respectively proper co-oriented manifolds over $M$), then define $[V] \sqcup [W] = [V' \sqcup W']$, where on the right $\sqcup$ denotes disjoint union and $V'$ and $W'$ are compact oriented manifolds over $M$ (respectively proper co-oriented manifolds over $M$) such $[V]=[V']$, $[W]=[W']$, and $V'$ and $W'$ are disjoint in $\R^\infty$ (cf.
	\cref{D: MWC}); note that the images of $V'$ and $W'$ are not necessarily disjoint in $M$.
\end{definition}

The last clause in the definition is due to our requirement that all manifolds with corners be subsets of $\R^\infty$.
As given, the definition allows constructions like $[W]\sqcup[W]$ to be well defined.
We observe that this definition is itself well defined, since if $V''$ and $W''$ are two other disjoint manifolds over $M$ isomorphic to $V$ and $W$ (in the appropriate sense), then we can compose the diffeomorphisms $V'\xleftarrow{\phi'}V \xr{\phi''} V''$ and $W'\xleftarrow{\psi'}W \xr{\psi''} W''$ to obtain an isomorphism $\phi''(\phi')^{-1} \sqcup \psi''(\psi')^{-1} \colon V' \sqcup W' \to V'' \sqcup W''$.

With $\sqcup$, $PC^\Gamma_*(M)$ and $PC_\Gamma^*(M)$ become commutative monoids in each degree with the empty maps $r_\emptyset \colon \emptyset \to M$ as the identities.

We now return to denoting isomorphism classes by their representatives, noting again that triviality and small rank are properties of the isomorphism classes.

\begin{definition}
	Let $Q_*(M) \subset PC_*(M)$ denote the set of (isomorphism classes of) compact oriented manifolds over $M$ of the form $V \sqcup W$ with $V$ trivial and $W$ degenerate.
	Let $Q^*(M) \subset PC^*(M)$ denote the set of (isomorphism classes of) proper co-oriented manifolds over $M$ of the form $V \sqcup W$ with $V$ trivial and $W$ degenerate.
	In either case $V$ or $W$ may be empty.

	We will sometimes write $W \in Q(M)$ to mean $W \in Q_*(M)$ or $W \in Q^*(M)$ for arguments that are analogous in the two cases.
	When we do so, we assume a consistent choice of $Q_*(M)$ or $Q^*(M)$ throughout the discussion; see for instance \cref{L: bd defined} and its proof.
\end{definition}

Our first lemma is immediate:

\begin{lemma}\label{L: sum of trivial/degenerate}
If $V$ and $W$ are trivial, then $V \sqcup W$ is trivial.
If $V$ and $W$ are degenerate, then $V \sqcup W$ is degenerate.
If $V,W\in Q_*(M)$ (or $Q^*(M)$), then $V \sqcup W \in Q_*(M)$ (or $Q^*(M)$).
\end{lemma}

The following useful basic properties are proven in \cite{Lipy14}; for completeness we provide versions of the arguments here, occasionally augmenting those of \cite{Lipy14}.
In each case, ``isomorphic,'' ``trivial,'' or ``degenerate'' should be read consistently to refer to the compact oriented case or the proper co-oriented case.
Lipyanskiy's proofs assume small image rather than small rank, but the proofs are equivalent.



\begin{lemma}[Lipyanskiy Lemma 10]\label{L: Lip L10}
	If $V$ is trivial and $V \sqcup W$ is trivial, then $W$ is trivial.
\end{lemma}

\begin{proof}
	We can write $W$ as the disjoint union of a (possibly infinite) number of isomorphism classes of connected components and then group the isomorphism classes together up to (co\nobreakdash-)orientation as $W = W_1 \sqcup W_2 \sqcup \cdots$ so that all connected components of each $W_i$ are isomorphic (ignoring (co\nobreakdash-)orientations) for each $i$ and so that no connected component of $W_i$ is isomorphic to a connected component of $W_j$ for $i\neq j$.
	As either $W$ is compact or $r_W$ is proper, each $W_i$ is the union of a finite number of connected components; if not, then there would be a $W_i$ with an infinite number of connected components and, since the components of $W_i$ are isomorphic to each other, a point $x\in M$ such that $r_W^{-1}$ has infinite components, violating that $r_W$ is proper.
	Any automorphism of $W$ preserves the decomposition into $W_i$, and so $W$ is trivial if and only if for all $i$ either $W_i$ has zero components when counting with (co\nobreakdash-)orientation or each component of $W_i$ has a (co\nobreakdash-)orientation reversing automorphism.

	Similarly, since $V$ is trivial, $V$ can be decomposed into unions of isomorphism classes, up to (co\nobreakdash-)orienta\-tion, of connected components, each with zero components when counting with sign or with all components having (co\nobreakdash-)orientation reversing automorphisms.
	In particular, forming $V \sqcup W$ adds to $W$ zero components when counting with sign or components with (co\nobreakdash-)orientation reversing automorphisms, so if $V \sqcup W$ is trivial, $W$ must have already been trivial.
\end{proof}

\begin{lemma}[Lipyanskiy Lemma 11]\label{L: bd defined}
	If $W$ is in $Q(M)$ then so is $\bd W$.
\end{lemma}

\begin{proof}
	We first check that if $W$ is trivial then so is its boundary $r_{\bd W} = r_Wi_{\bd W} \colon \bd W \to M$.
	If $\rho \colon W \to W$ is (co\nobreakdash-)orientation reversing, then we can consider $\rho_\bd$ as defined in \cref{R: bd diff}.
	As $r_W\rho = r_W$ we also have $r_Wi_{\bd W} = r_W\rho i_{\bd W} = r_W i_{\bd W} \rho_\bd$.
	Thus we only need see that $\rho_\bd$ is (co\nobreakdash-)orientation reversing.
	It is sufficient to consider what happens at points on the interior of $\bd W$ so working locally we may identify such points of $\bd W$ with points of $W$ itself and similarly identify $\rho_\bd$ with $\rho$.
	In the oriented case, the orientation of $W$ determines orientations of $T_xW$ and $T_{\rho(x)}W$, and by assumption $D\rho: T_xW \to T_{\rho(x)}W$ takes the orientation of $T_xW$ to the opposite of the orientation of $T_{\rho(x)}W$.
	But also $D\rho$ must preserve inward/outward pointing vectors.
	Thus $D\rho$ must restrict to a map $T_x (\bd W) \to T_{\rho(x)}(\bd W)$ that also reverses the orientation.
	The co-oriented situation is analogous using local orientation pairs $\left(\beta_{W,x}, \beta_{M,r_W(x)}\right)$ and $\left(\beta_{W,\rho(x)}, \beta_{M,r_W\rho(x)}\right)$ and noting $\beta_{M,r_W\rho(x)} = \beta_{M,r_W(x)}$ as $\rho$ is a diffeomorphism over $M$.

	Now suppose $W$ degenerate.
	By definition $\bd W = A \sqcup B$ with $A$ trivial and $B$ of small rank.
	Then $\bd^2 W = \bd A \sqcup \bd B$.
	As noted, $\bd A$ is trivial, and $\bd^2 W$ is trivial for all $W$ by \cref{L: boundary2}.
	It follows from \cref{L: Lip L10} that $\bd B$ is trivial, and so $B$ is degenerate.
	Thus $\bd W$ is degenerate.
\end{proof}

\begin{lemma}[Lipyanskiy Lemma 12]\label{L: Lipy12}
	If both $V$ and $V \sqcup W$ are in $Q(M)$ then so is $W$.
\end{lemma}

\begin{proof}
	As in the proof of \cref{L: Lip L10}, decompose $W$ as $W = W_1 \sqcup W_2 \sqcup \cdots$ and $V$ as $V = V_1 \sqcup V_2 \sqcup \cdots$.
	As $V$ and $V \sqcup W$ are in $Q(M)$, each $V_i$ has small rank or, also as in the proof of \cref{L: Lip L10}, $V_i$ is trivial, and similarly for $V \sqcup W$, from which it follows again by counting with signs in the trivial components that each $W_i$ is either trivial or has small rank.
	By grouping terms of the decomposition we can write $W = A \sqcup B$ with $A$ trivial and $B$ of small rank.

	We then have $\bd V$ and $\bd (V \sqcup W) = \bd V \sqcup \bd A \sqcup \bd B$ in $Q(M)$ by \cref{L: bd defined}, and also $\bd A$ is trivial as the boundary of a trivial manifold over $M$ by the proof of \cref{L: bd defined}.
	Now by the same argument as in the previous paragraph, replacing $V$ with $\bd V \sqcup \bd A$ and $W$ with $\bd B$, we have that $\bd B$ can be decomposed into the disjoint union of a trivial manifold over $M$ and one with small rank.
	But this shows $B$ is degenerate, so $W \in Q(M)$.
\end{proof}

\begin{lemma}[Lipyanskiy Lemma 13]\label{L: cancel Q}
	The relation given by $V\sim W$ if $V \sqcup -W$ is in $Q_*(M)$ (respectively $Q^*(M)$) is an equivalence relation on $PC^\Gamma_*(M)$ (respectively $PC_\Gamma^*(M)$).
\end{lemma}

\begin{proof}
	Reflexivity: For any $W$, we have $W \sqcup -W$ trivial via the map that interchanges the two copies of $W$.

	Symmetry: If $V \sqcup -W$ is the union of trivial and degenerate manifolds over $M$ then certainly so is $-(V \sqcup -W) = W \sqcup -V$.

	Transitivity: If $V \sqcup -W$ and $W \sqcup -U$ are in $Q_*(M)$ (or $Q^*(M)$), then so is $V \sqcup -W \sqcup W \sqcup -U \cong V \sqcup -U \sqcup W \sqcup -W$.
	We know $W \sqcup -W$ is trivial, and so $V \sqcup -U$ is in $Q_*(M)$ (or $Q^*(M)$) by \cref{L: Lipy12}.
\end{proof}

These lemmas allow us to follow Lipyanskiy in defining geometric chains and cochains.
We will show that the claims of the following definition hold in \cref{L: co/chains well defined} just below.

\begin{definition}\label{D: chains and cochains}
	The \textbf{geometric chains} of $M$, denoted $C^\Gamma_*(M)$, are the $\sim$ equivalence classes in $PC^\Gamma_*(M)$.
	The \textbf{geometric cochains} of $M$, denoted $C_\Gamma^*(M)$, are the $\sim$ equivalence classes in $PC_\Gamma^*(M)$.
	In either case, we denote the equivalence class of $W$ by $\uW$.

	These are chain complexes with group operation $\uV + \uW = \underline{V \sqcup W}$ and boundary map $\bd \uW = \underline{\bd W}$.
	Furthermore, $\uW = 0$ in $C^\Gamma_*(M)$ (respectively $C_\Gamma^*(M)$) if and only if $W$ is in $Q_*(M)$ (respectively $Q^*(M)$), and in either case, the inverse of $\uW$ is $-\uW = \underline{-W}$.
	In particular, the empty manifold $\emptyset$ represents $0$ in $C^\Gamma_*(M)$ and the empty map $\emptyset \to M$ represents $0$ in $C^*_\Gamma(M)$.

	We define the \textbf{geometric homology} of $M$, written $H_*^\Gamma(M)$, to be $H_*(C^\Gamma_*(M))$, and
	we define the \textbf{geometric cohomology} of $M$, written $H^*_\Gamma(M)$ to be $H^*(C_\Gamma^*(M))$.
\end{definition}

We note that the formula $\uV + \uW = \underline{V \sqcup W}$ implies that every geometric chain or geometric cochain can be represented by a single map $r_W \colon W \to M$ for appropriate (possibly disconnected) $W$.


\begin{lemma}\label{L: co/chains well defined}
	The chain complexes $C_\Gamma^*(M)$ and $C_\Gamma^*(M)$ are well defined with the properties claimed in the definition.
	In particular, $\uW = 0$ in $C^\Gamma_*(M)$ (respectively $C_\Gamma^*(M)$) if and only if $W$ is in $Q_*(M)$ (respectively $Q^*(M)$), and the additive inverse of $\uW$ is $\underline{-W}$.
\end{lemma}

\begin{proof}
	We will apply the preceding lemmas.
	For simplicity we work with $Q_*(M)$ and $C^\Gamma_*(M)$, but the identical arguments hold with $Q^*(M)$ and $C_\Gamma^*(M)$.

	Suppose $\uV,\uW \in C^\Gamma_*(M)$ with $V$ and $V'$ in the class $\uV$ and $W$ and $W'$ in the class $\uW$.
	Then the sum $\uV+\uW$ is well defined as the class $\underline{V \sqcup W}$ because $(V \sqcup W) \sqcup -(V' \sqcup W') = (V \sqcup -V') \sqcup (W \sqcup -W')$, and $V \sqcup -V'$ and $W \sqcup -W'$ are both in $Q_*(M)$ by assumption.

	The identity in each degree is represented by $\emptyset$ with the unique empty map to $M$ (with either orientation or co-orientation).
	In fact, every element of $Q_*(M)$ represents $0$ in $C^\Gamma_*(M)$ as elements of $Q_*(M)$ are all equivalent to $\emptyset$.
	Conversely, if $\uW = 0$ then $W \in Q_*(M)$, as if $\uV+\uW = \uV$ then $V \sqcup W \sqcup -V \in Q_*(M)$.
	But $V \sqcup -V \in Q_*(M)$, so by \cref{L: Lipy12}, $W \in Q_*(M)$.
	We also see that the additive inverse of $\uW$ is $\underline{-W}$, as $W \sqcup -W$ is trivial.

	That the boundary map is well defined with $\bd \uW = \udW$ is due to \cref{L: bd defined} and \cite[Lemma 2.8]{Joy12}, which implies that $\bd W$ is proper.
	That $\bd^2 = 0$ in the case of cochains follows from \cref{L: boundary2}, which shows that $\bd^2 W$ is always trivial.
	Similarly, to obtain $\bd^2 = 0$ for chains see \cref{R: bd2 oriented}.
\end{proof}

\begin{comment}
	Thom deeply considered the interplay between manifolds
	and homology \cite{Thom54}, and the cohomology classes we produce for submanifolds are equal to the pullbacks of Thom classes by Thom collapse maps.
	Similar objects were defined by Quillen \cite{Quil71} as an immediate translation of the data which encodes cobordism generalized cohomology theories.
	Thus, we name the QT-objects which represent equivalence classes of geometric cochains, defined below, in honor of Quillen and Thom.
\end{comment}

\begin{comment}
	If $i \colon W \to M$ is an embedding of a submanifold,
	we abuse notation by referring to the cochain as $\tau_W$, suppressing the reference map from the notation.
	Indeed, the image of any $\tau_i$ under our comparison map to cubical cochains will be the same.
\end{comment}

\begin{comment}
	%Geometric reasoning is aided by focussing on the image of the map rather than the map itself.
\end{comment}

\begin{comment}
	Having given our version of geometric chains and cochains, for the remainder of this section we work exclusively with cochains, referring to \cite{Lipy14}for (or leaving as exercises for the interested reader) the analogous properties of geometric chains.

	\begin{lemma}
		Geometric chains and cochains on $M$ form chain complexes --- that is, $d^\Gamma$ and $d_\Gamma$ square to zero.
	\end{lemma}

	This lemma is essentially Lemma~13 of \cite{Lipy14}.
	The key is that while $\bd^2 W$ is not empty,

	BCOMMENT
	, nor is it zero at the level of pre-cochains
	ECOMMENT
	it is trivial.
	That is, it has a $C_2$-action, permuting the local boundary components attached to points in $S^2(W)$.
	Moreover, under our co-orientation conventions, the two vectors appended to the co-orientation of $W$ to obtain one for $\bd^2 W$ over the same point in
	$S^2(W)$ differ by a transposition, so this $C_2$-action is co-orientation reversing.
	This fact about $\bd^2$ not only eventually shows that $d_\Gamma^{\,2} = 0$, but is first needed to show that the boundary of a degenerate map is degenerate; \red{see the proof of \cite[Lemma 11]{Lipy14}}.
\end{comment}

\begin{comment}
	\red{Reflecting on all of these definitions, an illustrative example of a manifold over $M$ defined by a proper map
		is given by embedding the positive $x$-axis within $\R^3 \setminus \{0\}$, \red{together with a choice of orientation of its normal bundle}, which represents a generator of the second cohomology [GBF: I modified this example to make it clearer that we index by codimension, since none of the previous examples really showed that off.]}.
	Another illustrative example is given by a linear embedding of $\R P^2$ into $\R P^4$.
	The domain manifold is not orientable, but the map is co-orientable and represents a nonzero class in $H^2(\R P^4; \Z)$.
	\red{[GBF: How do we know this class is non-zero? Can we prove that?]}
	We also recall that Schubert subvarieties of Grassmannians are not smooth, but do have standard
	smooth resolutions with reference maps to Grassmannians which can used to represent cohomology.
\end{comment}

\begin{comment}
	In Section 6 of \cite{Lipy14}, Lipyanskiy shows that the homology of $C_\Gamma^*(M)$, which we denote by $H_\Gamma^*(M)$,
	agrees with singular cohomology
	through the verification of homotopy and excision axioms.
	We find Mayer--Vietoris better for our applications, and we review both its verification
	and that of homotopy invariance as we need details about such constructions in our work.
\end{comment}

\begin{remark}\label{R: cycles and boundaries}
	Suppose $W \in PC_*^{\Gamma}(M)$. It follows directly from \cref{{D: chains and cochains},L: co/chains well defined} that $W$ represents a cycle in $C_*^{\Gamma}(M)$, i.e.\ $\bd \uW=0$, if and only if $\bd W \in Q_*(M)$.
	We also observe that $W$ represents a boundary precisely when there is some $Z \in PC_*^\Gamma(M)$ such that $\bd \underline{Z} = \underline{\bd Z} = \uW$, which translates to $(\bd Z) \sqcup -W \in Q_*(M)$.
	The corresponding statements for cohomology are analogous.
\end{remark}

In Section 6 of \cite{Lipy14}, Lipyanskiy shows that the homology theory based on geometric chains satisfies some of the Eilenberg-Steenrod axioms.
This is enough to state in Section 10 of \cite{Lipy14} that geometric homology is isomorphic to singular homology on the fixed manifold $M$, though we provide our own proofs below in \cref{T: geometric is singular,T: hom iso map}.
Unfortunately, Lipyanskiy does not provided a detailed treatment of geometric cohomology, which is different from geometric homology in several respects, though we will also show that it is isomorphic to singular cohomology in \cref{T: geometric is singular,T: intersection qi}.

We next present some immediate examples and observations. The first is that geometric homology and cohomology satisfy a very strong form of Poincar\'e duality.

\begin{theorem}[Poincar\'e Duality]\label{T: PD}
	If $M$ is closed and oriented then tautologically $C_*^\Gamma(M) = C_\Gamma^{m-*}(M)$.
	Consequently, also $H_*^\Gamma(M) = H_\Gamma^{m-*}(M)$.
\end{theorem}
\begin{proof}
	This following directly from the definitions using that the domain of a proper map to a compact space must be compact and that there is an induced orientation on the domain of a co-oriented map with oriented codomain; see the discussion following \cref{D: tautological co-orientation}.
\end{proof}



\begin{example}\label{E: first examples}
	We will see in the next chapter that geometric homology and cohomology are isomorphic to ordinary singular homology and cohomology with $\Z$-coefficients.
	So the following calculations are not surprising, though we hope they may be illuminating and help build some intuition.
	We begin by considering homology and cohomology classes represented by maps from $0$-manifolds.

	For any manifold without boundary $M$, an element of $PC_0^\Gamma(M)$ is a map to $M$ from a finite disjoint union of signed points.
	As disjoint union in $PC_0^\Gamma(M)$ translates to addition in $C_0^\Gamma(M)$ the map of any oriented point to $M$ represents a generator of $C_0^\Gamma(M)$.
	Analogously to the computation for singular homology, any two points with the same orientation mapping to the same component of $M$ represent the same element of $H_0^\Gamma(M)$ as can be seen by joining them with a smooth path and applying our boundary conventions.
	On the other hand, the boundary of such an interval mapping to $M$ consists of two points with opposite orientations, and the only compact $1$-dimensional manifolds with corners consist of closed intervals and circles, which have no boundaries.
	So it follows that a positively-oriented point mapping to $M$ generates an infinite cyclic subgroup of $H_0^\Gamma(M)$.
	Altogether, $H_0^\Gamma(M) \cong \oplus \Z$, where the sum is taken over the connected components of $M$.

	Next, suppose $M$ is a closed, connected manifold. The considerations for $H^m_\Gamma(M)$ are similar to those for $H_0^\Gamma(M)$, noting that elements of $PC^m_\Gamma(M)$ are represented by proper co-oriented maps of $0$-manifolds to $M$.
	However, in this case if we are given a map $r \colon [0,1] \to M$ with $r(0) = r(1) = z \in M$, the signs of the boundary components will depend on whether or not the loop determined by $r$ preserves or reverse the orientation of $M$.
	More specifically, let $r_0$ denote the map that takes the point to $z \in M$ with the co-orientation  $(1, \beta_M)$.
	Treating $r$ as a homotopy, by \cref{R: stationary homotopy} the boundary of $r$ will be the disjoint union of $-r_0$  and $r_1$, where $r_1$ takes the point to $z$ with co-orientation $(1, r_*\beta_M)$. Recall $r_*\beta_M$ is the orientation of $M$ at $z$ obtained by starting with the orientation $\beta_M$ at $z$ and traveling around the loop $r$; see \cref{S: co-orientations}.
	If $r_*\beta_M = \beta_M$, then $r_1 = r_0$ and we have $\bd r = r_1 - r_0 = 0$, which is analogous to the homology computation.
	But if $r_*\beta_M = -\beta_M$, then $r_1 = -r_0$ and we have $\bd r = r_1 - r_0 = -2 r_0$, so twice $r_0$ is a boundary.
	Furthermore, for any two maps $r_0$ and $s_0$ taking the point to the same component of $M$ (with either co-orientation), by joining them with a smooth path, we see that the maps will be cohomologous up to sign.
	So we conclude that if $M$ is connected then
	\[H^m_\Gamma(M) =
		\begin{cases}
		\Z, & M \text{ is orientable},\\
		\Z_2, & M \text{ is not orientable}.
		\end{cases}
	\]



	On the other hand, if $M$ is connected, without boundary, and not compact, then any co-oriented map $r_0$ from the point to $M$ represents $0$ in $H_\Gamma^m(M)$ because any proper smooth path $(-\infty,0] \to M$ with the restriction to $0$ being $r_0$ gives a null-cohomology of $r_0$ with an appropriate choice of co-orientation.

	Altogether, if $M$ is a manifold without boundary, not necessarily connected, then $H^m_\Gamma(M)$ is the direct product of $\Z$ and $\Z_2$ factors contributed respectively by the closed orientable and closed non-orientable components of $M$.

	\begin{comment}
		In $\R^3 \setminus \{0\}$, the inclusion of the positive $x$-axis with either co-orientation is a generator of $H_\Gamma^2(M)$, while the embedding the oriented unit 2-sphere containing the origin is a generator of $H_2^\Gamma(M)$.
	\end{comment}

	At the opposite end of the spectrum, the groups $H_m^\Gamma(M)$ and $H^0_\Gamma(M)$ are represented by maps of $m$-dimensional manifolds with corners.
	If $M$ is connected, then $H^0_\Gamma(M) \cong \Z$ with a generator represented by the identity map $M \to M$ with its tautological co-orientation.
	This will follow most readily from \cref{E: coho 0 generator,T: intersection qi}, below.
	Consequently, if $M$ is closed and oriented, then  \cref{T: PD} implies $H_m^\Gamma(M) \cong \Z$ generated by the identity map.
\end{example}

\begin{example}\label{E: dimension range}
	If $\dim(M) = m$, then $H_i^\Gamma(M) = H^i_\Gamma(M) = 0$ if $i < 0$ or $i > m$.
	In fact, $C_i^\Gamma(M) = 0$ when $i<0$ and $C^i_\Gamma(M) = 0$ when $i > m$, as in these cases the only elements of $PC_i^\Gamma(M)$ or $PC^i_\Gamma(M)$ are respectively the empty manifold $\emptyset$ and the empty map $\emptyset \to M$.
	For homology when $i>m+1$, every element of $PC_i^\Gamma(M)$ must have small rank and its boundary must also have small rank, so it is in $Q_i(M)$ and hence $C_i^\Gamma(M) = 0$.
	When $i = m+1$, $C_{m+1}^\Gamma(M)$ may be non-zero, but every element will have small rank.
	If $r_W \colon W \to M$ represents a degree $m+1$ cycle, then its boundary must be in $Q_m(M)$ by \cref{R: cycles and boundaries}.
	So $W$ is degenerate and represents $0$ in $C_{m+1}^\Gamma(M)$ and hence in $H_{m+1}^\Gamma(M)$.
	The argument for $H^i_\Gamma(M)$ for $i<0$ is the same.
\end{example}



\begin{example}[Dimension axiom]\label{E: dimension}
	By \cref{E: dimension range}, $H_i^\Gamma(pt) = H^i_\Gamma(pt) = 0$ unless $i = 0$.
	When $i = 0$, we have $H^0_\Gamma(M) \cong H_0^\Gamma(M) \cong \Z$ by the computations of \cref{E: first examples}.
	In fact, this is an equality by \cref{T: PD}.
\end{example}

\begin{remark}\label{R: degen1}
	It is in these examples that we most obviously see the need to include degenerate chains and cochains in $Q(M)$.
	On the other hand, the formulation of degeneracy as given will create some difficult for us in \cref{S: products} when it comes to consider notions of transversality for geometric chains and cochains.
	The reason is that degeneracy causes much of the problematic ambiguity in choosing representatives for chains and cochains.
	For example, consider a connected prechain $V \in PC_*(M)$ with small rank but a boundary that is not in $Q_*(M)$.
	If $V'$ is any other such prechain with small rank and $\bd V = \bd V'$, then $V \sqcup -V' \in Q_*(M)$ since it will have small rank and trivial boundary.
	So $V$ and $V'$ represent the same chain but could behave wildly differently aside from their boundaries.
	By contrast, we will see in \cref{S: products} that trivial chains are less of an issue (they can generally be ignored) and that non-trivial components of prechains without small rank are ``essential'' in a sense we will make precise in \cref{D: essential}.
	In particular, essential components appear in any representative of the same geometric chain or cochain.

	Given the headaches thus caused by the degenerate chains and cochains, it is tempting to ask for a simpler definition of degeneracy.
	One variant that comes to mind would be defining degeneracy so that each individual component must have a boundary consisting of trivial and small rank (co)chains.
	This would seem to be sufficient for the dimension axiom and would eliminate the difficulty described above.
	Unfortunately, with such an alternative definition of degeneracy, it will not generally be true that if $V \in Q(M)$ then fiber products $V \times_M W$ are also in $Q(M)$.
	This is an important property that will arise in the next section and then be needed both to construct cup and cap products and to prove the existence of Mayer--Vietoris sequences.
	See \cref{R: degen2} for further discussion of this point.
\end{remark}

The following algebraic property will be useful below as we consider homological algebra with geometric cochains:

\begin{lemma}
	Each $C_i^\Gamma(M)$ or $C_\Gamma^i(M)$ is torsion-free and hence flat as a $\Z$-module.
\end{lemma}

\begin{proof}
	The second statement follows from the first as $\Z$ is a Dedekind domain.
	The first statement is proven for geometric chains in \cite[Lemma 34]{Lipy14}.
	The proof for geometric cochains, even accounting for our different definition of degeneracy, is the same.
	We give the argument for chains.

	Suppose $\uW$ satisfies $n \uW = 0$ for some $n \in \Z$ with $n \neq 0$.
	Representing $\uW$ by $W$, we can decompose $W$ as in the proofs of \cref{L: Lip L10,L: Lipy12} so that $W = W_1 \sqcup W_2 \sqcup \cdots$ with each $W_i$ being the union of isomorphic-up-to-sign connected manifolds over $M$ with the isomorphism classes of components in $W_i$ and $W_j$ distinct of $i\neq j$.
	Then $n \uW$ is represented by taking $n$ copies of each $W_i$ if $n > 0$ or, if $n < 0$, taking $|n|$ copies of each $-W_i$.
	By \cref{L: co/chains well defined}, $n W \in Q_*(M)$, so each component of $n W_i$ is trivial or has small image.

	Suppose $n W_i$ is trivial for some $i$.
 	Then each component of $n W_i$ is trivial or the total number of components of $n W_i$ is zero when counted with sign.
	But this implies that each component of $W_i$ is trivial or that $W_i$ must also have the total number of components be zero when counted with sign.
	So $W_i$ is trivial.
	It is also clear that if $W_i$ is trivial, then so is $n W_i$, so $W_i$ is trivial if and only if $n W_i$ is trivial.

	Now let $W'$ be the union of those components $W_i$ that are not trivial.
	Then $nW$ is the union of trivial components and $n W'$, so by \cref{L: Lipy12}, we have $n W' \in Q_*(M)$.
	Furthermore, since none of the components of $n W'$ are trivial, $n W'$ must be degenerate.
	In particular, $n W'$ must have small rank, which implies that $W'$ must have small rank.
	Further, since $n W' \in Q_*(M)$, we have $\bd (n W') = n (\bd W') \in Q_*(M)$ by \cref{L: bd defined}.
	So by the same argument as above, $\bd W'$ must be a union of prechains that are trivial or of small rank.
	So $W'$ is degenerate.

	Altogether, we have now shown that $W$ is the union of a trivial prechain and a degenerate prechain, so $W \in Q_*(M)$.
\end{proof}

\subsubsection{Products of manifolds over \texorpdfstring{$M$}{M}}

In this section we define various products of elements of $PC_*^\Gamma(M)$ and $PC^*_\Gamma(M)$, all coming from the external products or fiber products defined above.
When we need transversality, $M$ will be without boundary.
These products will ultimately become our cup, cap, intersection, and exterior products, but we introduce them here as products on $PC_*^\Gamma(M)$ and $PC^*_\Gamma(M)$ and derive some further properties as we will need some of this material in the next section to define creasing.
The first time reader can fairly safely skip this section for now and return to it later as needed.

We begin with the products coming from fiber products.
These are only partially defined, as fiber products require transversality.

\begin{definition}\label{D: PC products}
	Given a manifold without boundary $M$, the fiber products of transverse manifolds over $M$ determine partially-defined products of the following forms:
	\begin{align*}
		PC^*_\Gamma(M) \times PC^*_\Gamma(M)& \to PC^*_\Gamma(M)\\
		PC^*_\Gamma(M) \times PC_*^\Gamma(M)& \to PC_*^\Gamma(M).
	\end{align*}
	If, furthermore, $M$ is oriented, then there is also a partially-defined product
	$$PC_*^\Gamma(M) \times PC_*^\Gamma(M) \to PC_*^\Gamma(M).$$
	In each case, the product is defined when the reference maps $r_V \colon V \to M$ and $r_W \colon W \to M$ are transverse.

		\begin{itemize}
			\item If $V,W\in PC^*_\Gamma(M)$ are transverse, we define their product to be the fiber product $V \times_M W$ with its fiber product co-orientation of \cref{D: pullback coorient}. Note that the fiber product is proper by \cref{L: co-orientable pullback} as the composition of proper maps is proper.

			\item If $V \in PC^*_\Gamma(M)$ and $W \in PC_*^\Gamma(M)$ are transverse, we define their product to be $V \times_M W$ with the orientation induced from the orientation of $W$ and the co-orientation of the pullback $V \times_M W \to W$; see \cref{D: pullback coorient} and the discussion following \cref{D: co-orientations}.
			Note that $V \times_M W$ is compact, as $W$ is compact and the pullback map is proper by \cref{L: co-orientable pullback} and the properness of $r_V$.

			\item If $M$ is oriented and $V,W \in PC_*^\Gamma(M)$, we define their product to be $V \times_M W$ with the fiber product orientation of \cref{S: orientation of fiber products}.
			Note that $V \times_M W$ is compact as a closed subset of the compact set $V \times W$.
	\end{itemize}

	We show below that these products are all well defined when the transversality conditions are met, as transversality is preserved under isomorphisms of manifolds over $M$, and isomorphic manifolds over $M$ have isomorphic fiber products over $M$.

	In all cases we continue to denote the product by $V \times_M W$, allowing context to determine which (co\nobreakdash-)orientations apply.
\end{definition}



In the last case, we really need $M$ to be oriented in general, as we have observed in \cref{R: what products exist} that if $M$ is not orientable the fiber product of orientable manifolds over $M$ may note be orientable.

\begin{comment}
In the cases where $r_V$ and $r_W$ are transverse embeddings, these products are represented by just taking intersections, with the orientations or co-orientations given explicitly in \cref{P: normal pullback,P: cap of immersions,P: orient intersection}.
If $r_V$ and $r_W$ are immersions, these descriptions hold locally.
\end{comment}

\begin{lemma}\label{L: product preserves iso}
	When the transversality conditions are met, the products of \cref{D: PC products} are well defined.
	In particular, if $\phi_V \colon V \to V'$ and $\phi_W \colon W \to W'$ are orientation- or co-orientation-preserving diffeomorphisms of transverse manifolds over $M$, then $\phi_V \times \phi_W$ restricts, as appropriate to the products of \cref{D: PC products}, to a corresponding orientation- or co-orientation-preserving diffeomorphism $V \times_M W \to V' \times_M W'$.

	Similarly, if exactly one of $\phi_V \colon V \to V'$ or $\phi_W \colon W \to W'$ is an orientation- or co-orientation-\textit{reversing} diffeomorphism, then $\phi_V \times \phi_W$ restricts, as appropriate to the products of \cref{D: PC products}, to a corresponding orientation- or co-orientation-\textit{reversing} diffeomorphism $V \times_M W \to V' \times_M W'$.
\end{lemma}
\begin{proof}
	It is clear that the transversality conditions are preserved if representatives $r_V \colon V \to M$ or $r_W \colon W \to M$ are replaced with (oriented or co-oriented) isomorphic manifolds over $M$.
	It is also clear from the universal property that isomorphic manifolds over $M$ lead to diffeomorphic fiber products.
	So our main challenge is to verify the correct behavior of orientations and co-orientations.

	We first consider $V$, $W$, and $M$ all oriented.
	Suppose we have $f \colon V \to M$ isomorphic to $f' \colon V' \to M$ via $\phi_V \colon V \to V'$ and similarly for $W$; see \cref{D: equiv triv and small}.
	The map $\phi_V \times \phi_W$ restricts to give our diffeomorphism from $P = V \times_M W$ to $P' = V' \times_M W'$, so, considering the definition of the fiber product orientation in \cref{S: orientation of fiber products}, we obtain bundle map isomorphisms covering $\phi_V \times \phi_W \colon P \to P'$ of the following exact sequences (or we can think of the bottom sequence as pulled back to $P$ by $\phi_V \times \phi_W$).
	\begin{equation}
	\begin{tikzcd}
		0 \arrow[r] & TP \arrow[r,"D\pi_V \oplus D\pi_W"] \arrow[d] &[1cm] \pi_V^*(TV) \oplus \pi_W^*(TW) \arrow[r,"\pi_V^*(Df)-\pi_W^*(Dg)"] \arrow[d] &[1.7cm] (f\pi_V)^*TM \arrow[r] \arrow[d] & 0 \\
		0 \arrow[r] & TP' \arrow[r,"D\pi_{V'} \oplus D\pi_{W'}"] & \pi_{V'}^*(TV') \oplus \pi_{W'}^*(TW') \arrow[r,"\pi_{V'}^*(Df')-\pi_{W'}^*(Dg')"] & (f'\pi_{V'})^*TM \arrow[r] & 0
	\end{tikzcd}
	\end{equation}
	As the maps $\phi_V$ and $\phi_W$ are orientation preserving, it follows that the two righthand vertical maps are oriented bundle isomorphisms.
	Consequently, if we orient $TP$ and $TP'$ as in \cref{S: orientation of fiber products} and use the isomorphisms to make the splittings of the sequences compatible, then the lefthand map must also be an isomorphism of oriented bundles.
	(Looking at the level of individual tangent space fibers, the reader can also compare with \cite[Sections 9.1.1 and 9.3.1]{RamBas09}.)

	For the other cases, we first observe that being an orientation or co-orientation preserving isomorphism is a local property.
	In particular, a diffeomorphism $V \to V'$ is orientation preserving if and only its derivative is orientation preserving at each $x \in V$, and by \cref{L: co-or preserving/reversing} a similar statement holds for co-orientations.
	Consequently, to show that a diffeomorphism over $M$ is (co-)orientation preserving, it suffices to show that this property holds over each set of an open cover of $M$.

	So let $U$ be any Euclidean subset of $M$, and suppose we give $U$ an arbitrary orientation.
	Considering the case of co-oriented precochains, by \cref{C: co-or preserving is or preserving} the restrictions of $\phi_V$ and $\phi_W$ to $f^{-1}(U)$ and $g^{-1}(U)$ are co-orientation preserving if and only if they are orientation preserving with respect to the induced orientations.
	Note that this statement is independent of the choice of fixed orientation for $U$.
	Since we assume that $\phi_V$ and $\phi_W$ are co-orientation preserving, they are thus orientation preserving over $U$ with respect to the induced orientations.
	It follows from the preceding argument that $\phi_V \times \phi_W$ restricts to an orientation-preserving diffeomorphism of the fiber products over $U$.
	By \cref{P: compare cup and intersection orientations}, there is a fixed sign relation depending only on the dimensions between the fiber product orientations obtained by the above construction and the orientations of the fiber products induced from the orientation of $U$ and the co-oriented fiber product (this is the distinction considered there between $V \times^o_M W$ and $V \times^c_M W$).
	Since $\phi_V \times \phi_W$ provides an orientation-preserving diffeomorphism with respect to the fiber product oriented the first way, it also provides an orientation-preserving diffeomorphism with respect to the fiber product oriented the other way.
	Hence by \cref{C: co-or preserving is or preserving} again, $\phi_V \times \phi_W$ restricts to a co-orientation-preserving diffeomorphism $f^{-1}(U) \times_U g^{-1}(U) \to (f')^{-1}(U) \times_U (g')^{-1}(U)$.
	Since $U$ was arbitrary, $\phi_V \times \phi_W$ gives a co-orientation-preserving diffeomorphism on all of $V \times_M W$.

	Lastly, for the fiber product $PC^*_\Gamma(M) \times PC_*^\Gamma(M) \to PC_*^\Gamma(M)$, we again begin by considering what happens for the preimage of a Euclidean set $U$ in $M$ with an arbitrary orientation $\beta_U$.
	In this case the restriction $g \colon g^{-1}(U) \to U$ is a map between oriented manifolds and so if $W$ has orientation $\beta_W$, this map has an induced co-orientation $(\beta_W, \beta_U)$.
	Now, by definition, $\beta_P$ is the desired orientation of $f^{-1}(U) \times_U g^{-1}(U)$ for this kind of product if and only $(\beta_P,\beta_W)$ is the pullback co-orientation of $f^{-1}(U) \times_U g^{-1}(U) \to g^{-1}(U)$. And this is the case if and only if $(\beta_P,\beta_W)*(\beta_W,\beta_U) = (\beta_P, \beta_U)$ is the co-orientation of the co-oriented fiber product of $f$ and $g$ restricted to $f^{-1}(U)$ and $g^{-1}(U)$, obtained from $g$ being given the induced co-orientation as above.
	Furthermore, as $\phi_W$ is orientation-preserving, its restriction to a diffeomorphism $g^{-1}(U)$ to $(g')^{-1}(U)$ is also co-orientation preserving with respect to the induced co-orientations by \cref{C: co-or preserving is or preserving}.
	But now we have seen that the product $\phi_V \times \phi_W$ of co-orientation-preserving diffeomorphisms gives a co-orientation preserving diffeomorphism on $f^{-1}(U) \times_U g^{-1}(U)$.
	So now again by \cref{C: co-or preserving is or preserving}, $\phi_V \times \phi_W$ is an orientation-preserving diffeomorphism with respect to the orientations induced by the orientation of $U$ and the fiber product co-orientations.
	But we have just recalled that these are exactly the orientations that we want for these products.
\end{proof}

\begin{comment}
\begin{remark}\label{R: product preserves reverse}
	It is easy to modify the preceding arguments to show that if exactly one of $\phi_V \colon V \to V'$ or $\phi_W \colon W \to W'$ is an orientation- or co-orientation-\textit{reversing} diffeomorphism, then $\phi_V \times \phi_W$ restricts to a corresponding orientation- or co-orientation-\textit{reversing} diffeomorphism $V \times_M W \to V' \times_M W'$.
\end{remark}
\end{comment}

Given the preceding lemma, from here on we will usually not explicitly distinguish between maps (co\nobreakdash-)oriented maps $V \to M$ and their isomorphism classes when discussing products.






The next lemma will be critical in \cref{S: products} toward showing that these products extend to well-defined, though only partially-defined, products of geometric chains and cochains.
It will also be needed much sooner to show that the creasing construction is well defined.
This construction is used, in turn, to demonstrate the existence of Mayer--Vietoris sequences.

For the statement, recall that we use $Q(M)$ to stand for $Q_*(M)$ or $Q^*(M)$ as appropriate.

\begin{lemma}\label{L: pullback with Q}
	For any of the products of \cref{D: PC products}, if either $V$ or $W$ is in $Q(M)$ then so is $V \times_M W$.
	In fact, if $V$ or $W$ is trivial then $V \times_M W$ is trivial, if $V$ or $W$ has small rank then $V \times_M W$ has small rank, and if $V$ or $W$ is degenerate then $V \times_M W$ is degenerate.
\end{lemma}

\begin{proof}
	We provide the proof if $V \in Q(M)$; the other case is similar.
	By assumption $V$ is the disjoint union of trivial and degenerate chains or cochains, so it suffices to consider independently the possibilities that $V$ is trivial or degenerate.

	If $\rho$ is a (co\nobreakdash-)orientation reversing diffeomorphism of $V$ over $M$, then $\rho \times_M \id_W$ is a (co\nobreakdash-)orientation reversing diffeomorphism of $V \times_M W$ by \cref{L: product preserves iso}.

	Next assume that $V$ is degenerate, so in particular it has small rank.
	Recall that the tangent bundle of a fiber product is the fiber product of the tangent bundles by \cref{L: tangent of pullbacks}, and so the derivative is the fiber product of derivatives.
	Note that the fiber product of two linear maps, one with a non-trivial kernel, must also have a non-trivial kernel: If $A,B$ are linear maps with a common codomain and $v \in \ker(A)$, then $(v,0)$ is in the kernel of the fiber product of $A$ and $B$.
	So if the differential of $r_V$ has non-trivial kernel everywhere so will the derivative of any fiber product with $r_V$.
	Thus $V \times_M W$ has small rank.

	Now we recall that $\bd(V \times_M W)$ is, up to (co\nobreakdash-)orientations, the disjoint union of $(\bd V) \times_M W$ and $V \times_M (\bd W)$.
	We have just shown that $V \times_M (\bd W)$ must have small rank.
	As $V$ is degenerate, $\bd V$ is a disjoint of trivial and small rank manifolds over $M$, and so by the preceding arguments $(\bd V) \times_M W$ will be a union of trivial and small rank manifolds over $M$.
	Altogether, $V \times_M W$ is degenerate.
\end{proof}

\begin{remark}\label{R: degen2}
	As noted in \cref{R: degen1}, it is this lemma that fails if we attempt to simplify the definition of degeneracy by requiring each connected component of a degenerate prechain or precochain to have small rank and a boundary that is a union of trivial and small rank pre(co)chains.
	In fact, it is possible to construct a $V$ and $W$ such that $V$ is a non-trivial prechain that is degenerate in this stronger sense but such that $V \times_M W$ has multiple components that are each non-trivial and of small rank but such that the boundary of each component is non-trivial and not of small rank.
	So $V \times_M W$ would not be in a version of $Q(M)$ defined using this stronger, but simpler, notion of degeneracy.
	Of course it is in $Q(M)$ with our actual definitions by the preceding lemma.
\end{remark}

We have similar results for the exterior products studied in \cref{S: exterior products}, which are always fully defined:


\begin{lemma}\label{L: ext product preserves iso}
	Suppose $f \colon V \to M$ and $g \colon W \to N$ are maps of manifolds with corners with either $V$ and $W$ both oriented or $f$ and $g$ both co-oriented.
	Then the corresponding exterior product $PC_*^\Gamma(M) \otimes PC_*^\Gamma(N) \to PC_*^\Gamma(M \times N)$ or $PC^*_\Gamma(M) \otimes PC^*_\Gamma(N) \to PC^*_\Gamma(M \times N)$ is well defined.

	In particular, if $\phi_V \colon V \to V'$ and $\phi_W \colon W \to W'$ are orientation- or co-orientation-preserving diffeomorphisms over $M$ and $N$, respectively, then $\phi_V \times \phi_W$ is a corresponding orientation- or co-orientation-preserving diffeomorphism $V \times W \to V' \times W'$.

	Similarly, if exactly one of $\phi_V \colon V \to V'$ or $\phi_W \colon W \to W'$ is an orientation- or co-orientation-\textit{reversing} diffeomorphism, then $\phi_V \times \phi_W$ is a corresponding orientation- or co-orientation-reversing diffeomorphism $V \times W \to V' \times W'$.
\end{lemma}
\begin{proof}
	The oriented case is standard. For the co-oriented case, we can proceed analogously to the proof of \cref{L: product preserves iso}.
	In particular, we can choose Euclidean neighborhoods $A \subset M$ and $B \subset N$ given arbitrary orientations.
	Then, as in that preceding proof, isomorphisms of product co-orientations over $A \times B$ follow from isomorphisms of product orientations over $A \times B$, now using \cref{P: compare exterior orientations} rather than \cref{P: compare cup and intersection orientations}.
\end{proof}


\begin{lemma}\label{L: exterior Q}
	Consider two pre(co)chains $f \colon V \to M$ and $g \colon W \to N$.
	If $V \in Q(M)$ or $W \in Q(N)$ then $f \times g \colon V \times W \to M \times N$ is in $Q(M \times N)$.
\end{lemma}

\begin{proof}
	We provide the proof if both maps are in $PC^*$ and $V \in Q^*(M)$; the other cases are similar.
	By assumption $V$ is the disjoint union of trivial and degenerate chains or cochains, so it suffices to consider independently the possibilities that $V$ is trivial or degenerate.

	If $\rho$ is a co-orientation-reversing diffeomorphism of $V$ over $M$, then $\rho \times \id_W$ is a co-orientation-reversing diffeomorphism of $V \times_M W$ by \cref{L: ext product preserves iso}.
	So if $V$ is trivial so is $V \times W$.

	Next assume that $V$ is degenerate, so in particular it has small rank.
	At any point, the derivative of $f \times g$ is a matrix with $Df$ and $Dg$ on the block diagonals, so $f \times g$ has small rank.
	Now we recall that $\bd(V \times W)$ is, up to co-orientations, the disjoint union of $(\bd V) \times_M W$ and $V \times_M (\bd W)$.
	We have just shown that $V \times_M (\bd W)$ must have small rank.
	As $V$ is degenerate, $\bd V$ is a disjoint union of trivial and small rank manifolds over $M$, and so by the preceding arguments $(\bd V) \times_M W$ will be a union of trivial and small rank manifolds over $M$.
	Altogether, $V \times_M W$ is degenerate.
\end{proof}

\begin{comment}
	The next theorem, which is yet another Leibniz formula, in this case for the pullback of a co-oriented manifold over $M$ by an oriented manifolds over $M$, will be used in Section \ref{S: intersection map} to demonstrate that our intersection map $\mc I$, relating geometric cochains to cubical cochains of a cubulation, is a chain map.
	This map is a critical component in relating geometric cohomology to other cohomology theories and is also central to the main result about cup products in \cite{FMS-flows}.

	\begin{theorem}\label{T: Leibniz cap}
		Let $M$ be a manifold without boundary.
		Suppose $V \in PC^*_\Gamma(M)$ and $W \in PC_*^\Gamma(M)$ with transverse reference maps.
		Consider $V \times_M W$ as representing an element of $PC_*^\Gamma(M)$ as constructed in Definition \ref{D: PC products}.
		Then in $PC_*^\Gamma(M)$, $$\bd(V \times_M W) = \left[(-1)^{\dim(V \times_M W)} (\bd V) \times_M W\right] \bigsqcup V \times_M \bd W.$$
	\end{theorem}
	\begin{proof}
		By Definition \ref{D: PC products} the terms $\bd(V \times_M W)$, $(\bd V) \times_M W$, and $V \times_M \bd W$ are each oriented by considering, as appropriate, the pullback of the co-oriented map $V \to M$ or $\bd V \to M$ to a co-oriented map to $W$ or $\bd W$ and then using the orientation of $W$ or $\bd W$ to determine an orientation of the pullback.
		So we compute and compare these orientations by first considering the pullback co-orientations as defined in Definition \ref{D: pullback coorient}.
		We proceed by analogy to the proof of the Leibniz rule for the pullback of co-oriented maps in Theorem \ref{leibniz}, utilizing the computations already performed there.

		Recall, in brief, from \ref{D: pullback coorient} that to co-oriented the pullback $P = V \times_M W \to W$ we first construct a composition $V\xhookrightarrow{e} M \times \R^N \to M$ and find a Quillen orientation for the normal bundle $\nu V$ of $e(V) \subset M \times \R^N$ as determined by the co-orientation of $V \to M$.
		Then we pull back via $W \times \R^N \to M \times \R^N$ to obtain a normal bundle, also labeled $\nu V$, of $P \subset W \times \R^N$.
		Then we co-orient $P \to W$ locally by $(\beta_P,\beta_W)$ so that $\beta_P \wedge \beta_{\nu V} = \beta_W \wedge \beta_E$, where $\beta_E$ represents the standard orientation of $\R^N$.
		In the case at hand, we can assume $\beta_W$ to represent the global orientation of $W$, and then $\beta_P$ becomes a global orientation for $P$.
		This is the orientation given to $V \times_M W$ in Definition \ref{D: PC products}.

		Let $\nu\bd P$ denote an outward pointing normal vector in the tangent bundle to $P$ at a boundary point of $P$, and let $\beta_{\nu\bd P}$ denote the corresponding orientation.
		Then, by definition, $\bd P$ is oriented at that point by $\beta_{\bd P}$ so that $\beta_{\nu\bd P} \wedge \beta_{\bd P} = \beta_P$.
		In other words, with $\beta_P$, $\beta_W$, $\beta_{\nu V}$, and $\beta_E$ given, $\bd P$ is oriented by $\beta_{\bd P}$ such that $\beta_{\nu\bd P} \wedge \beta_{\bd P} \wedge \beta_{\nu V} = \beta_W \wedge \beta_E$.

		Now, recall that $\bd(V \times_M W) = (\bd V) \times_M W \bigsqcup V \times_M \bd W$ as spaces and consider a point in $(\bd V) \times_M W$.
		By Theorem \ref{leibniz}, at such a point the pullback co-orientation of $(\bd V) \times_M W \to W$ agrees with boundary co-orientation of the pullback $P = V \times_M W \to W$, as described again in the preceding paragraph.
		So continuing to let $(\beta_P,\beta_W)$ denote the pullback co-orientation of $P \to W$ and recalling that the boundary co-orientation utilizes the \textit{inward} normal, the boundary co-orientation of $(\bd V) \times_M W \to W$ is the composite $(\beta_{\bd P}, \beta_{\bd P} \wedge -\beta_{\nu\bd P})*(\beta_P,\beta_W)$ for any $\beta_{\bd P}$.
		But if we choose $\beta_{\bd P}$ to represent the orientation of $\bd P$ found above by orienting $P$ and then taking its boundary orientation, we have $\beta_P = \beta_{\nu\bd P} \wedge \beta_{\bd P} = (-1)^{\dim(\bd P)}\beta_{\bd P} \wedge \beta_{\nu\bd P}$.
		So the boundary co-orientation of $(\bd V) \times_M W \to W$ is the composite
		$$(\beta_{\bd P}, \beta_{\bd P} \wedge -\beta_{\nu\bd P})*((-1)^{\dim(\bd P)}\beta_{\bd P} \wedge \beta_{\nu\bd P},\beta_W) = (-1)^{\dim(\bd P)+1}(\beta_{\bd P},\beta_W).$$
		Thus the resulting orientation of $(\bd V) \times_M W$ is $(-1)^{\dim(P)}$ times the orientation of $\bd P$ obtained by taking the oriented boundary of $V \times_M W$.

		Next we consider a point in $V \times_M \bd W$.
		From the Leibniz rule computation for co-orientations, the co-orientation of the pullback $V \times_M \bd W \to \bd W$ is $(\beta_{\bd P},\beta_{\bd W})$ if and only if $\beta_{\bd P} \wedge \beta_{\nu V} = \beta_{\bd W} \wedge \beta_E$.
		If $\nu\bd P$ is an outward normal then this is equivalent to $\beta_{\nu\bd P} \wedge \beta_{\bd P} \wedge \beta_{\nu V} = \beta_{\nu\bd P} \wedge \beta_{\bd W} \wedge \beta_E = \beta_W \wedge \beta_E$.
		But taking $\beta_P$ and $\beta_{\bd P}$ as found above using our given orientation of $\beta_W$, we have $\beta_{\nu\bd P} \wedge \beta_{\bd P} = \beta_P$, and so the condition is equivalent to $\beta_{P} \wedge \beta_{\nu V} = \beta_W \wedge \beta_E$, which holds by our choice above of $\beta_P$.
		So the orientation of $V \times_M \bd W$ agrees with the orientation of $\bd P$ and we obtain overall $$\bd(V \times_M W) = \left[(-1)^{\dim(P)} (\bd V) \times_M W\right] \bigsqcup V \times_M \bd W.$$

		Finally, we use that $\dim(P) = \dim(V)+\dim(W)-\dim(M)$.
	\end{proof}
\end{comment}

\begin{comment}
	\textbf{Products of immersions.}
	In \cref{S: co-or product immersion} we saw that the fiber product of immersions $V,W \into M$ of co-oriented manifolds over $M$ have particularly simple descriptions.
	Geometrically, the fiber product is just the intersection\footnote{Technically, it is the intersection only \textit{locally} as, for example, $V$ might intersect $W$ transversely in a double point of $W$, but by restricting to small enough neighborhoods of $V$ and $W$ we can treat the resulting $V \times_M W$ locally as two intersection points that just happen to be in the same place.
		The reader unhappy with that kind of thinking can restrict their attention to embeddings or just interpret each statement here as a local statement for suitably small neighborhoods of $V$ and $W$.
	} of $V$ and $W$, and if the co-orientations are given by the Quillen orientations of the normal bundles $\nu V$ and $\nu W$ (see \cref{R: immersion}), then $V \times_M W$ has normal bundle $\nu V \oplus \nu W$ co-oriented with Quillen normal orientation given by $\beta_{\nu V} \wedge \beta_{\nu W}$.

	We note in this brief section the corresponding nice descriptions of second and third products of \cref{D: PC products} when $V$ and $W$ are immersed in $M$.
	In both cases, $P = V \times_M W$ is again simply the intersection of $V$ and $W$ in $M$, so we need only describe the orientation of $P$.

	For the second product, $P$ is oriented using the pullback co-orientation of $V \times_M W \to W$ and the orientation of $W$.
	If $\nu V$ is the normal bundle of $V$ in $M$, then taking $N = 0$ in \cref{D: pullback coorient},
	the pullback co-orientation is $(\beta_P,\beta_W)$ if $\beta_P \wedge \beta_{\nu V} = \beta_W$ up to positive scalar, where we recall our abuse of notation letting $\nu V$ also represent the pullback of $\nu V$ to $W$, where it can then be interpreted as the normal bundle to $P$ in $W$.
	Then by the discussion following \cref{D: co-orientations} this determines an orientation of $P$ by taking $\beta_W$ to agree with our given orientation of $W$.
	In other words, the orientation of the product $P = V \times_M W$ is the orientation $\beta_P$ so that $\beta_P \wedge \beta_{\nu V}$ agrees with the given orientation of $W$ when $\beta_{\nu V}$ is the restriction to $P$ of the Quillen normal orientation of $V$ determined by the co-orientation of $r_V \colon V \to M$ (identifying the restriction of the normal bundle of $V$ to $P$ as the normal bundle to $P$ in $W$).

	For the third product, we have by Joyce's convention that \red{I'm not getting a simple description of this because of Joyce's desription.
		Note that it requires using a specific identification of $TV \oplus TW$ with $TP \oplus TM$.
		I compute that even if we use identify $TM = \nu W \oplus TP \oplus \nu V$, $TV = \nu W \oplus TP$, and $TW = TP \oplus \nu V \oplus TP$ consistently, there's a sign of $(-1)^{m-w}$ from the determinant of Joyce's isomorphism, and then he enforces another factor of $(-1)^{mw}$ by hand.
		Yuck.
		And this is before comparing the actual orientations of things - yuck.
		We'll have to think some more about this.
	}.
\end{comment}

\subsection{Splitting and creasing}\label{S: splitting and creasing}

In this section we discuss the closely related notions of splitting and creasing, both of which are concerned with breaking chains and cochains into smaller pieces.
The idea is somewhat analogous to the role subdivisions play in classical singular homology and cohomology theory, and both will be essential in our discussion of Mayer--Vietoris sequences,

The idea of splitting is to take a manifold with corners $W$ over a manifold without boundary $M$ and split it along a codimension one submanifold with corners into two manifolds with corners, $W^+$ and $W^-$.
This have various uses.
In particular, when $W$ represents a cycle or cocycle, the creasing construction then shows that $W$ is homologous (or cohomologous) to $W^+ + W^-$.


\subsubsection{Splitting}\label{S: splitting}
In this section, we begin by consolidating and extending some results previously encountered in \cref{E: manifold decomposition,S: codim 0 and 1 co-or}, namely the splitting of a manifold with corners over a manifold without boundary $r_W \colon W \to M$ into pieces $W^+$ and $W^-$ with common boundary $W^0$ using a function $\phi \colon M \to \R$.
In this subsection, we use our previous results to establish the facts we will need in the context of prechains and precochains, and in the next subsection we will utilize these spaces to perform creasing.

Our standing assumptions throughout this section will be that $M$ is a manifold without boundary and $\phi \colon M \to \R$ is a smooth map having $0$ as a regular value in the classical sense, i.e.\ for all $x \in \phi^{-1}(0)$ the differential $D_x\phi$ is nonzero.
We also assume an element of $PC_*^\Gamma(M)$ or $PC^*_\Gamma(M)$ represented by $r_W \colon W \to M$ such that $0$ is also a regular value for $\phi r_W$.
By \cref{D: regular value} this means that $\phi r_W$ is transverse to $0$, which is equivalent to assuming $0$ is a regular value in the classical sense for the restriction of $\phi r_W$ to each stratum of $W$.
By \cref{L: transverse to pullback}, $0$ is a regular value for $\phi r_W$ precisely when $r_W$ is transverse to $0 \times_\R M$, which is simply $\phi^{-1}(0)$, as observed in \cref{E: manifold decomposition}.

We let
\begin{align*}
M^0 = \phi^{-1}(0) && M^- = \phi^{-1}((-\infty,0]) &&M^+ = \phi^{-1}([0,\infty)).
\end{align*}
 Analogously,
\begin{align*}
W^0 = (\phi r_W)^{-1}(0) && W^- = (\phi r_W)^{-1}((-\infty,0]) && W^+ = (\phi r_W)^{-1}([0,\infty)).
\end{align*}
We sometimes write $M^\pm$ for statements that could involve either $M^+$ or $M^-$, and similarly for $W$.

\begin{remark}
	For simplicity of notation, we primarily use $0$ as our value in $\R$ at which to perform splittings, though it should be clear that we could split $W$ using any regular value of $\phi$ and $\phi r_W$ to obtain analogous results.
\end{remark}

\begin{comment}
\begin{lemma}\label{L: 0 transverse M0}
	Zero is a regular value for $\phi r_W$ if and only if $r_W$ is transverse to the inclusion of $M^0$ into $M$.
\end{lemma}
\begin{proof}
	As $0$ is a regular value for $\phi$, by classical differential topology $M^0$ is an embedded codimension-one submanifold of $M$, and in a neighborhood of each point of $M^0$, the map $\phi$ behaves up to diffeomorphisms like the standard projection of $\R^m$ to the first coordinate; see Section 1.4 \cite{GuPo74}.
	In particular, at each $z \in M^0$, we have $T_zM^0 = \ker(D_z\phi)$.
	So the linear subspace spanned by a vector $v \in T_zM$ is transverse to $T_zM^0$ if and only if its image under $D_z\phi$ is non-zero.
	It follows that $r_W$ is transverse to $M^0$ if and only if $\phi r_W$ is transverse to $0$.
\end{proof}
\end{comment}

\begin{lemma}\label{L: pm0 as fiber products}
	With our standing assumptions, there are diffeomorphisms
	\begin{align*}
		M^0 & \cong 0 \times_{\R} M &W^0 & \cong 0 \times_{\R} W & W^0& \cong M^0 \times_M W \\
		M^- & \cong (-\infty,0] \times_{\R} M &W^- & \cong (-\infty,0] \times_{\R} W& W^-  &\cong M^- \times_M W\\
		M^+ & \cong [0,\infty) \times_{\R} M & W^+ & \cong [0,\infty) \times_{\R} W& W^+ &\cong M^+ \times_M W.
	\end{align*}
	In particular, these spaces are all manifolds with corners.
	Note that it is possible for some of these spaces to be empty.
\end{lemma}
\begin{proof}
	These diffeomorphisms are discussed in \cref{E: manifold decomposition}.
	The first two columns hold by direct observation, while the rightmost column is a consequence of \cref{P: pullback functoriality}.
\end{proof}

The rightmost column above demonstrates $W^0$, $W^-$, and $W^+$ as fiber products over $M$.
We can use these descriptions to realize these spaces as prechains or precochains.
Note: depending on $\phi$ and $r_W$, some of these spaces may be empty, in which case appropriate versions of the following statements hold vacuously.

\begin{lemma}\label{L: W0 cochain}
	Suppose $W \in PC^*_\Gamma(M)$, and $0$ is a regular value of $\phi \colon M \to \R$ and $\phi r_W \colon W \to \R$.
	Let the inclusions $M^\pm \into M$ have their tautological co-orientations, and give the inclusion $M^0 \into M$ the co-orientation determined by its normal vector field oriented by pulling back the positively-oriented normal vector field over $0$ in $\R$.
	Then $W^0$, $W^-$, and $W^+$, defined as the fiber products of $M^0$, $M^-$, and $M^+$ with $W$ over $M$, are elements of $PC^*_\Gamma(M)$.
	The co-orientations of $W^\pm \to M$ are the restrictions to $W^\pm$ of the co-orientation of $W$.
	Furthermore,
	\begin{align*}
		\bd(W^-) &=  (-W^0) \bigsqcup (\bd W)^- \\
		\bd (W^+) &= W^0 \bigsqcup (\bd W)^+\\
		(\bd W)^0 &= -\bd (W^0).
	\end{align*}
\end{lemma}
\begin{proof}
	As $M^\pm$ and $M^0$ are all closed subsets of $M$, their inclusions are all proper maps, so with the co-orientations assigned above, they all represent elements of $PC^*_\Gamma(M)$.
	By \cref{L: transverse to pullback}, the map $r_W \colon W \to M$ is transverse to $M^0$ and $M^\pm$.
	It follows that $W^0$, $W^-$, and $W^+$, defined as the fiber products of $M^0$, $M^-$, and $M^+$ with $W$, are elements of $PC^*_\Gamma(M)$ by \cref{D: PC products,L: product preserves iso}.
	The co-orientations have been discussed previously in \cref{S: codim 0 and 1 co-or}, and in particular we have the boundary computations from \cref{E: codim 1 pullbacks,C: co-orient W0}.
\end{proof}


\begin{lemma}\label{L: W0 chain}
	Suppose $W \in PC_*^\Gamma(M)$, and $0$ is a regular value of $\phi \colon M \to \R$ and $\phi r_W \colon W \to \R$.
	Let $\R$, $(-\infty, 0]$, and $[0,\infty)$ have their standard orientations, and give $0$ its positive orientation.
	Now orient $W^0$, $W^-$, and $W^+$ by realizing them as oriented fiber products of $0$,  $(-\infty, 0]$, and $[0,\infty)$ with $\phi r_W \colon W \to \R$ over $\R$.
	Then the restrictions of $r_W \colon W \to M$ to $W^0$, $W^-$, and $W^+$ realize elements of $PC_*^\Gamma(M)$.
	When $W^\pm$ are nonempty, their orientations agree with the orientation of $W$.
	Furthermore, as elements of $PC_*^\Gamma(M)$, we have\footnote{Compare the signs with those in \cref{L: W0 cochain}.}
	\begin{align*}
	\bd(W^-) &=  W^0 \bigsqcup (\bd W)^- \\
	\bd(W^+) &= (-W^0) \bigsqcup (\bd W)^+\\
	(\bd W)^0 &= -\bd (W^0).
	\end{align*}
\end{lemma}

\begin{proof}
	Since $W$ is compact, so will be $W^0$, $W^-$, and $W^+$ as closed subsets of $W$.
	So giving each space the orientation from the statement of the lemma, the restrictions of $r_W$ to $W^0$, $W^-$, and $W^+$ are elements of $PC_*^\Gamma(M)$.

	We consider a point $x$ in the interior of $W^+$ with an open neighborhood $N$ also in the interior of $W^+$ and given the orientation restricted from $W$.
	As the orientations of the fiber products are determined locally, the orientation of $W^+$ at $x$ will be consistent with its orientation in the restricted fiber product $[0,\infty) \times_\R N$, which will be the same as its orientation in $(0,\infty) \times_{(0,\infty)} N$.
	But this is the same as the initial orientation of $N$ as a subset of $W$ by \cref{P: oriented fiber product basic properties}.
	The same argument holds for $W^-$.

	We then have by \cref{P: oriented fiber boundary}, our conventions for oriented boundaries, and the standard computations for the boundaries of $(-\infty,0]$ and $[0,\infty)$ that
	\begin{equation*}
			\bd W^- = \bd ((-\infty,0] \times_\R W) = (0 \times_\R W)  \sqcup ((-\infty,0] \times_\R \bd 	W) = W^0 \sqcup (\bd W)^-,
	\end{equation*}
	and
	\begin{equation*}
			\bd W^+ = \bd ([0,\infty) \times_\R W) = (-0 \times_\R W)  \sqcup ([0,\infty) \times_\R \bd W) 	= (-W^0) \sqcup (\bd W)^+.
	\end{equation*}
	We also compute
	\begin{equation*}
			\bd W^0 = \bd (0 \times_\R W) = - 0 \times_\R \bd W = -(\bd W)^0. \qedhere
\end{equation*}
\end{proof}

Lastly, we will occasionally need to consider the preimage of an interval $[p,q] \subset \R$.
If $p < q$ are regular values for $\phi$, then $\phi^{-1}([p,q])$ will be an embedded manifold with boundary in $M$ that we denote $M^{[p,q]}$.
If further $\phi r_W$ is transverse $p$ and $q$ then we can form $W^{[p,q]} = M^{[p,q]} \times_M W$.
We also let $W^p = \phi^{-1}(p) \times_M W$, and similarly for $q$.

\begin{lemma}\label{L: Wpq cochain}
	If $p < q$ are regular values for $\phi \colon M \to \R$, if $W \in PC^*_\Gamma(M)$, and if the inclusion $M^{[p,q]} \into M$ is given its tautological co-orientation, then
	$W^{[p,q]} \in PC^*_\Gamma(M)$ and
	$$\bd W^{[p,q]} = W^p \sqcup -W^q \sqcup (\bd W)^{[p,q]}.$$
	Similarly, if $W \in PC_*^\Gamma(M)$, then so is $W^{[p,q]}$, its orientation agrees with that of $W$, and
	$$\bd W^{[p,q]} = -W^p \sqcup W^q \sqcup (\bd W)^{[p,q]}.$$
\end{lemma}
\begin{proof}
	As $M^{[p,q]}$ is a closed subset of $M$, its inclusion into $M$ is proper, so with the tautological co-orientation,  $M^{[p,q]} \into M$ is an element of $PC^*_\Gamma(M)$.
	We note that we only need to check transversality at $p$ and $q$, as the inclusion of the interior of $M^{[p,q]}$ to $M$ is transverse to any map.

	In the precochain case, as $M^{[p,q]}$ is a closed subset of $M$, its inclusion into $M$ is proper, so with the tautological co-orientation,  $M^{[p,q]} \into M$ is an element of $PC^*_\Gamma(M)$.  Thus the fiber product $W^{[p,q]} = M^{[p,q]} \times_M W$ is an element of $PC^*_\Gamma(M)$ by \cref{D: PC products,L: product preserves iso}, and the boundary formula follows from the Leibniz rule analogously to our computations above for $W^\pm$.

	In the prechain case, we observe that $W^{[p,q]} \cong (\phi r_W)^{-1}([p,q])$ by similar arguments as for $W^\pm$ in \cref{E: manifold decomposition}, so $W^{[p,q]}$ is compact.
	The agreement of orientation and the boundary formula are similar to the arguments of \cref{L: W0 chain}.
\end{proof}




\subsubsection{Creasing}\label{S: creasing}



\begin{comment}
To make this precise, suppose we are given a function $\varphi \colon W \to (-1,1)$ with $0$ a regular value, i.e.\ that $\varphi$ is transverse to the inclusion of $0$ into $(-1,1)$.
We define $W^+$ to be $\varphi^{-1}( [0,1))$, we define $W^-$ to be $\varphi^{-1} ((-1, 0])$, and we define $W^0 = \varphi^{-1}(0)$.
We have already seen this construction in \cref{E: manifold decomposition} and the examples in \cref{S: codim 0 and 1 co-or}, although we here replace the codomain $\R$ with $(-1,1)$ for reasons that will become apparent momentarily.
Nonetheless, the results of those examples carry over in the obvious way.

As in those earlier examples, $W^+$, $W^-$, and $W^0$ are manifolds with corners whose inclusions into $W$ are proper maps.
They are also the fiber products $[0,1)\times_\R W$, $(-1,0] \times_\R W$ and $0 \times_\R W$.
In those previous examples, we also considered the case of having an intermediary manifold $M$ so that $\varphi$ was a composition $W \xr{r_W} M \xr{\phi} \R$ with $0$ a regular value of both $\phi$ and $\phi r_W$.
In this case we also observed in \cref{E: manifold decomposition} that $W^0$ and $W^\pm$ are diffeomorphic to the respective fiber products $M^0 \times_M W$ and $M^{\pm} \times_M W$.
We will need these settings once we have finished with some preliminaries.
\end{comment}

We now discuss the creasing construction of \cite[Section 2.4]{Lipy14}, though we use different orientation conventions and also consider versions involving co-orientations.

Suppose we are given a function $\varphi \colon W \to (-1,1)$ with $0$ a regular value, i.e.\ that $\varphi$ is transverse to the inclusion of $0$ into $(-1,1)$.
Below $\varphi$ will typically be a composition $W \xr{r_W} M \xr{\phi} (-1,1)$.
As in the preceding section, we define $W^+$ to be $\varphi^{-1}( [0,1))$, we define $W^-$ to be $\varphi^{-1} ((-1, 0])$, and we define $W^0 = \varphi^{-1}(0)$.
Note that here our codomain is $(-1,1)$ for reasons that will become apparent momentarily, though this is certainly still consistent with our maps being to $\R$ as above, using $(-1,1) \subset \R$.

By \cite[Lemma~9]{Lipy14}, the idea of creasing is that the topological space $W \times [0,1]$ can be given the structure of a manifold with corners, which we will write $\Cre(W)$, satisfying $\bd \Cre(W) = W \sqcup -W^+ \sqcup -W^- \sqcup - \Cre(\bd W)$.
We call the manifold with corners $\Cre(W)$ the \textbf{creasing homotopy} of $W$.
The creasing homotopy depends on $\varphi$, but we usually leave it tacit in the notation.
We will define $\Cre(W)$ by using pullbacks, which will provide an arguably simpler description of $\Cre(W)$ than found in \cite{Lipy14}.

To define $\Cre(W)$ via pullbacks, we need another map in addition to $\varphi$.
We let $D$ be the semi-open pentagonal region of the plane given by
$$D = \{(x,y) \in \R^2 \mid -1<x<1, 0 \leq y \leq 2-|x|\}.$$
Then $D$ is a manifold with corners with a smooth proper projection map $\pi \colon D \to (-1,1)$ given by $\pi(x,y) = x$.
We see that $\bd D$ has three pieces, say $D_x$, $D_+$, and $D_-$, corresponding respectively to the intersection of $D$ with the $x$-axis, the graph of $y = 2-x$ over $[0,1)$, and the graph of $y = 2+x$ over $(-1, 0]$.
We orient all three pieces by rightward pointing tangent vectors in the plane and give $D$ itself the standard planar orientation so that $\pi$ restricts to oriented diffeomorphisms from $D_x$, $D_+$, and $D_-$ onto their images in $(-1,1) = D_x$.
Then as oriented manifolds with corners, $$\bd D = D_x \sqcup -D_- \sqcup -D_+.$$

To obtain analogous boundary formulas for creasings of cochains, we let the projections of $D_x$, $D_+$, and $D_-$ to $(-1,1)$ be co-oriented by taking the rightward orientations to the rightward orientations, and $\pi \colon D \to (-1,1)$ to be co-oriented by taking the standard planar orientation to the rightward orientation.
In this case, as co-oriented manifolds with corners over $(-1,1)$, we have
$$\bd D = D_x \sqcup -D_- \sqcup -D_+.$$

The projection $\pi \colon D \to (-1,1)$ restricts to submersions from $D_x$, $D_+$, and $D_-$ onto their images, and so a map $\varphi \colon W \to (-1,1)$ from a manifold with corners is transverse to $\pi$ if and only if it is transverse to the map from the point at the tip of the pentagon to $(-1,1)$.
This is equivalent to the requirement that the restriction of $\varphi$ to every stratum of $W$ have $0$ as a regular value, i.e.\ that $0$ is a regular value for $\varphi$ by \cref{D: regular value}.

We can now officially define creasing.

\begin{definition}
	Suppose $W$ is a manifold with corners and $\varphi \colon W \to (-1,1)$ is a smooth map with a regular value at $0$.
	We define the \textbf{creasing homotopy} to be the pullback
	$$\Cre(W) = D\times_{(-1,1)} W \to W.$$
	We note that $\Cre(W)$ does depend on the map $\varphi$, though we typically omit it from the notation as the choice of $\varphi$ will usually be clear from context.
	When necessary for clarity, we may write $\Cre_\varphi(W)$.

	Typically in practice, $W$ will arise with a map $r_W \colon W \to M$ representing an element of $PC_*^\Gamma(M)$ or $PC^*_\Gamma(M)$, and in this case our map $\varphi \colon W \to (-1,1)$ will generally be given as a composition $W \xr{r_W}M \xr{\phi} (-1,1)$ for some smooth $\phi \colon M \to (-1,1)$ with $0$ as a regular value.
	In this case, the condition that $\varphi$ have $0$ as a regular value is equivalent to the condition that $r_W$ be transverse to the submanifold $M^0 = \phi^{-1}(0)$ by \cref{L: transverse to pullback}, and as the creasing is governed by $\phi$, we sometimes write $\Cre_\phi(W)$ when we want to emphasize the dependence on $\phi$.
	When $r_W \colon W \to M$ represents an element of $PC_*^\Gamma(M)$, we treat $D\times_{(-1,1)} W$ as oriented by the convention for fiber products of oriented manifolds from \cref{S: orientation of fiber products}, using our fixed orientation of $D$, and we will show in a moment that if $W$ is compact so is $\Cre(W)$.
	Thus composing the pullback map $\Cre(W) \to W$ with $r_W$, we obtain another element of $PC_*^\Gamma(M)$ given by $D\times_{(-1,1)} W \to W \xr{r_W}M$.
	Similarly, when $r_W \colon W \to M$ represents an element of $PC^*_\Gamma(M)$, we treat $\Cre(W) \to W$ as co-oriented by the pullback conventions of \cref{D: pullback coorient}, using our given co-orientation of $D \to (-1,1)$, and this is a proper map by \cref{L: co-orientable pullback}.
	Thus composing the pullback map with the co-oriented map $r_W$, we obtain another element of $PC^*_\Gamma(M)$ given by $\Cre(W) \to W \xr{r_W} M$.
	In either case, we denote the composition $\Cre(W) \to W \xr{r_W}M$ by $r_{\Cre(W)}$.

	We will regularly abuse notation by allowing $\Cre(W)$ to refer to the space $D\times_{(-1,1)} W$, the pullback $D\times_{(-1,1)} W \to W$, or the element of $PC_*^\Gamma(M)$ or $PC^*_\Gamma(M)$ formed by the preceding constructions.
	It should usually be clear from context which is meant at any point.
\end{definition}


\begin{comment}
	\begin{convention}\label{C: regular value setup}
		In what follows it will typically be useful, and sometimes necessary, in the cases of both chains and cochains to assume that $M$ is a manifold without boundary and $\varphi \colon W \to (-1,1)$ has the form $W \xr{r_W}M \xr{\phi} (-1,1)$ with $\phi \colon M \to (-1,1)$ having $0$ as a regular value so that $M^0$ and $M^\pm$ are fiber products and thus manifolds with corners as in Example \ref{E: manifold decomposition}.
		Also as observed there, in this case $\varphi$ has $0$ as a regular value if and only if $r_W$ is transverse to $M^0$, in which case we also have $W^0 = M^0 \times_M W$ and $W^\pm = M^\pm \times_M W$.
		Unless noted, we will always assume this situation when working with creasing, i.e.\ that we have a fixed $\phi \colon M \to (-1,1)$ with $0$ a regular value and that creasing is defined with respect to the composition $\varphi = \phi r_W$, assuming $r_W$ is transverse to $M^0$.
	\end{convention}

	As usual, we typically abuse notation and, depending on context, may write $\Cre(W)$ to refer to the space $D\times_{(-1,1)} W$, the space together with its map to $W$, or, as we shall see below, refer to

	If we are treating $\varphi \colon W \to (-1,1)$ as oriented, then we interpret $\Cre(W)$ as oriented.
	If we are treating $\varphi \colon W \to (-1,1)$ as co-oriented, then we interpret $\Cre(W)$ as co-oriented.
\end{comment}

To justify the notion of creasing as a type of homotopy, at least topologically, we have the following lemma and corollary.
Note that these results are purely in the topological category, not the smooth category.

\begin{lemma}
	Suppose given a projection $\pi \colon X \times Y \to X$ and a map $g \colon W \to X$ transverse to $\pi$.
	Then the fiber product $(X \times Y) \times_X W$ is homeomorphic to $Y \times W$.
\end{lemma}

\begin{proof}
	We have $(X \times Y) \times_X W = \{(x,y,w) \in X \times Y \times W \mid x = g(w)\}$.
	A homeomorphism $(X \times Y) \times_X W \to Y \times W$ is then given by $(x,y,w) \mapsto (y,w)$ with inverse given by $(y,w) \mapsto (g(w),y,w)$.
\end{proof}

\begin{corollary}
	$\Cre(W)$ is homeomorphic to $I \times W$. In particular, if $W$ is compact then so is $\Cre(W)$.
\end{corollary}

\begin{proof}
	We observe that $D$ is homeomorphic to $(-1,1) \times I$ via a homeomorphism that preserves $\pi$ by taking $(x,y)$ to $\left(x, \frac{y}{2-|x|}\right)$.
	As a homeomorphism over a space $X$ induces a homeomorphism of fiber products, the corollary now follows from the preceding lemma.
\end{proof}


See \cref{F: creasing} for a sketch of a creasing homotopy of the teardrop manifold.

\begin{figure}[h!]
	\input{auxy/creasing2.tex}
	\caption{Creasing homotopy}
	\label{F: creasing}
\end{figure}

\begin{lemma}\label{E: bd crease}
	Let $M$ be a manifold without boundary.
	Suppose given $\phi \colon M \to (-1,1)$ with $0$ a regular value and $r_W \colon W \to M$ transverse to $M^0 = \phi^{-1}(0)$, representing an element of $PC^\Gamma_*(M)$ or $W \in PC_\Gamma^*(M)$.
	Then
\begin{equation*}
	\bd(\Cre_\phi(W)) = (D_x \sqcup -D_- \sqcup -D_+)\times_{(-1,1)} W \bigsqcup -D\times_{(-1,1)}\bd W = W \sqcup -W^- \sqcup -W^+ \sqcup -\Cre_\phi(\bd W),
\end{equation*}
	again interpreting these formulas in $PC^\Gamma_*(M)$ or $PC_\Gamma^*(M)$, respectively, by composing the pullback maps to $W$ with $r_W \colon W \to M$ and the pullback maps to $\bd W$ with $\bd r_W \colon \bd W \to M$.
\end{lemma}

\begin{proof}
The first equality comes from our boundary formulas for $D$ and our Leibniz rules for pullbacks from \cref{P: oriented fiber boundary,leibniz}.
For the second equality we use, for example, that $\pi$ is an orientation preserving diffeomorphism over $(-1,1)$ from $D_+ \cong [0,1)$ onto its image in $(-1,1)$, and so we have an orientation-preserving diffeomorphism over $W$ given by $D_+\times_{(-1,1)} W \cong [0,1)\times_{(-1,1)} W = W^+$, and similarly in the co-oriented case.
The argument is analogous for the $W^-$ and $W$ terms.
\end{proof}

\begin{comment}
	Next let us see how to use creasing in the context of chains and cochains.

	If $W \in PC_*^{\Gamma}(M)$ represented by $r_W \colon W \to M$, then $\Cre(W)$ is also compact and oriented, and we have a map $r_{\Cre(W)} = r_W\pi_W \colon W \to M$ with $\pi_W$ being the projection of $\Cre(W) = D\times_{(-1,1)}W$ to $W$.
	Thus $r_{\Cre(W)} \colon \Cre(W) \to M$ gives us a new element of $PC_*^\Gamma(M)$.
	If $W \in PC^*_\Gamma(M)$, then to get an element $\Cre(W) \in PC^*_\Gamma(M)$ we will need to assume that $\varphi \colon W \to (-1,1)$ is a composition of maps $W \xr{r_W}M \xr{\phi} (-1,1)$.
	We can then form the space $\Cre(W)$ as the pullback by $\phi r_W$ of $\pi \colon D \to (-1,1)$.
	As $\pi$ is proper and co-oriented, the pullback $\pi^* = \pi_W \colon \Cre(W) \to W$ will be proper and co-oriented by Lemma \ref{L: co-orientable pullback} and Definition \ref{D: pullback coorient}.
	We then let $r_{\Cre(W)} = r_W \pi^*$ to obtain an element of $\Cre(W) \in PC^*_\Gamma(M)$.
	By \cite[Propositions 7.4]{Joy12} and Theorem \ref{leibniz}, our boundary formulas for $\Cre(W)$ continue to hold as elements of $PC_*^{\Gamma}(M)$ or $PC^*_{\Gamma}(M)$.
\end{comment}

\begin{comment}
\begin{convention}\label{C: regular value setup}
	In order to crease an element of $PC_*^\Gamma(M)$ or $PC^*_\Gamma(M)$ represented by $r_W \colon W \to M$, we need a smooth map $\varphi \colon W \to (-1,1)$ so that the composite $\varphi \colon W \xr{r_W}M \xr{\phi} (-1,1)$ has $0$ as a regular value.
	In this case $M^0$ and $M^\pm$ are fiber products and thus manifolds with corners as in \cref{E: manifold decomposition}.
	Also as observed there, in this case $\varphi$ has $0$ as a regular value if and only if $r_W$ is transverse to $M^0$, in which case we also have $W^0 = M^0 \times_M W$ and $W^\pm = M^\pm \times_M W$.
	Unless noted, we will always assume this situation when working with creasing, i.e.\ that we have a fixed $\phi \colon M \to (-1,1)$ with $0$ a regular value and that creasing is defined with respect to the composition $\varphi = \phi r_W$ with $r_W$ transverse to $M^0$.
\end{convention}
\end{comment}

To next promote the construction $\Cre(-)$ to an operator on $C_*^{\Gamma}(M)$ or $C^*_\Gamma(M)$, we will need the following corollary of \cref{L: pullback with Q}.

\begin{comment}
	The lemma itself will also be important when we consider products below in Section \ref{S: products}.

	\begin{lemma}\label{L: pullback with Q}
		Let $M$ be a manifold without boundary.
		Suppose $T \in PC_*^\Gamma(M)$ (or $PC^*_\Gamma(M)$), and that $T \in Q(M)$.
		Then $T \times_M W \in Q(M)$ and $W \times_M T \in Q(M)$ for any $W$ in $PC_*^\Gamma(M)$ (or $PC^*_\Gamma(M)$) that is transverse to $T$.
	\end{lemma}
	\begin{proof}
		We consider only $T \times_M W$ as the arguments for $W \times_M T$ are the same.
		By assumption $T$ is the disjoint union of trivial and degenerate chains, so it suffices to consider independently the possibilities that $T$ is trivial or degenerate.

		If $\rho$ is a (co\nobreakdash-)orientation reversing diffeomorphism of $T$ over $M$, then $\rho \times_M \id_W$ is a (co\nobreakdash-)orientation reversing diffeomorphism of $T \times_M W$, by Joyce's construction in the oriented case and by Remark \ref{R: co-or restriction or switch} in the co-oriented case.

		Next assume that $T$ is degenerate, so in particular it has small rank.
		Recall that the tangent bundle of a fiber product is the fiber product of the tangent bundles \cite[Theorem 5.47]{Wed16}, and so the derivative is the fiber product of derivatives.
		Note that the fiber product of two linear maps, one with a non-trivial kernel must also have a non-trivial kernel: If $A,B$ are linear maps with a common codomain and $v \in \ker(A)$, then $(v,0)$ is in the kernel of the fiber product of $A$ and $B$.
		So if the differential of $r_W$ has non-trivial kernel everywhere so will the derivative of any fiber product with $r_W$.
		Thus $T \times_M W$ has small rank.

		Next we recall $\bd(T \times_M W) = (\bd T) \times_M W \bigsqcup \pm T \times_M (\bd W)$.
		We have just shown that $T \times_M (\bd W)$ must have small rank.
		As $T$ is degenerate, $\bd T$ is a disjoint of trivial and small rank manifolds over $M$, and so by the preceding arguments $(\bd T) \times_M W$ will be a union of trivial and small rank manifolds over $M$.
		Altogether, $T \times_M W$ is degenerate.
	\end{proof}
\end{comment}

\begin{corollary}\label{C: creasing Q}
	Let $M$ be a manifold without boundary.
	Suppose given $\phi \colon M \to (-1,1)$ with $0$ a regular value and $r_T \colon T \to M$ transverse to $M^0 = \phi^{-1}(0)$.
	If $T \in Q(M)$, then so are $T^+$, $T^-$, $T^0$, and $\Cre(T)$.
\end{corollary}

\begin{proof}
	As observed in \cref{E: manifold decomposition}, with our assumptions about $\phi$ and $r_T$, the spaces $T^\pm$ and $T^0$ are fiber products over $M$ of $T$ with $M^\pm$ and $M^0$.
	So in this case the claim follows from \cref{L: pullback with Q}.

	For $\Cre(T)$, the pullback projection $\pi \colon \Cre(T) \to T$ is of small rank, as $\dim(\Cre(T))>\dim(T)$, from which it follows that $r_{\Cre(T)} = r_T\pi$ is of small rank.
	We also have $\bd \Cre(T) = T \sqcup - T^+ \sqcup -T^- \sqcup -\Cre(\bd T)$ by \cref{E: bd crease}.
	By assumption and the preceding paragraph, $T, T^\pm \in Q(M)$, and by the preceding sentence $\Cre(\bd T)$ is of small rank.
	Thus all components of $\bd \Cre(T)$ are trivial or of small rank, and so $\Cre(T)$ is degenerate.
\end{proof}

\begin{proposition}
	Let $M$ be a manifold without boundary.
	Suppose given $\phi \colon M \to (-1,1)$ with $0$ a regular value and that all creasing is done with respect to $\phi$.
	If $V$ and $W$ are any two representatives of $\uW \in C_*^\Gamma(M)$ whose reference maps are transverse to $M^0$, then $\Cre_\phi(V)$ and $\Cre_\phi(W)$ represent the same element of $C_*^\Gamma(M)$.
	Thus if the equivalence class $\uW$ contains any representative that is transverse to $M^0$, there is a well-defined element $\underline{\Cre(W)} \in C_*^\Gamma(M)$.
	Similarly for $C^*_\Gamma(M)$.
\end{proposition}

\begin{proof}
	The proofs for chains and cochains are the same, so we provide that with chains.

	If $r_V \colon V \to M$ and $r_W \colon W \to M$ represent the same class in $C_*^\Gamma(M)$ then $V \sqcup -W \in Q_*(M)$, and if $V$ and $W$ are both transverse to $M^0$ then so is $V \sqcup -W$.
	So $\Cre(V\sqcup-W)$ is defined, and by \cref{C: creasing Q}, $\Cre(V \sqcup -W) \in Q_*(M)$.
	Using our assumption that all creasing maps are compositions of the fixed $\phi \colon M \to (-1,1)$ with the reference maps and the properties of fiber product orientations, we have $\Cre(V \sqcup -W) = \Cre(V) \sqcup \Cre(-W) = \Cre(V) \sqcup -\Cre(W)$.
	Thus $\Cre(V)$ and $\Cre(W)$ represent the same element of $C_*^\Gamma(M)$.
\end{proof}

Finally, we come to the punchline of creasing:

\begin{theorem}\label{T: cohomology creasing}
	Let $M$ be a manifold without boundary.
	Suppose $\uW \in H_*^\Gamma(M)$ and that $\uW$ has a representative $r_W \colon W \to M$ that is transverse to $M^0$, defined with respect to some $\phi \colon M \to (-1,1)$ with $0$ a regular value.
	Then $\uW = \underline{W^+} + \underline{W^-} \in H_*^\Gamma(M)$.
	Similarly for $H^*_\Gamma(M)$.
\end{theorem}

\begin{proof}
	Again the proofs for homology and cohomology are the same so we focus on homology.

	We have seen that, with our assumptions, $\uW$ yields a well-defined element $\underline{\Cre(W)}$ represented by $\Cre(W)$.
	Computing in $C_*^\Gamma(M)$ we have
	\begin{align*}
		\bd \underline{\Cre(W)}& = \underline{\bd \Cre(W) }\\
		& = \underline{W \sqcup -W^+ \sqcup -W^- \sqcup -\Cre(\bd W)}\\
		& = \uW -\underline{W^+}-\underline{W^-}.
	\end{align*}
	In the last line we have used that $\underline{\bd W} = 0$ so that $\bd W \in Q_*(M)$; hence $\Cre(\bd W) \in Q_*(M)$ by \cref{C: creasing Q} and so $\underline{\Cre(\bd W)} = 0 \in C_*^\Gamma(M)$.
	The theorem follows.
\end{proof}

\begin{comment}
	Let $f \colon W \to \R$ and $p$ be a regular value of $f$.
	Define $W^+$ to be $f^{-1} [p, \infty)$ and $W^-$ to be $f^{-1} (-\infty, p]$.
	By Theorem~1 of \cite{Lipy14} (and
	also transversality as developed in in Section 6 of \cite{Joy12}), $W^+$ and $W^-$ are manifolds with corners.
	The following is Lemma~9 of \cite{Lipy14}.

	\begin{proposition}\label{P: creasing}
		Let $f \colon W \to \R$ and $p$ be a regular value of $f$.
		There is a manifold-with corners structure on the topological manifold $W \times [0,1]$, called the creasing of $W$ at $p$,
		whose boundary is the disjoint union of $W$ with its orientation
		reversed, $W^+$, $W^-$ and the creasing of ${\bd W}$ at $p$.
	\end{proposition}

	We denote the creasing of $W$ at $p$ by $\Cre(W)$, suppressing $f$ and $p$ from notation.
	See Figure~\ref{F: creasing} for a sketch of a creasing of the teardrop manifold.
\end{comment}